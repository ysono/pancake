<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="7722px" height="4362px" viewBox="-0.5 -0.5 7722 4362" content="&lt;mxfile&gt;&lt;diagram id=&quot;RcHnaSoGghIKxj3INRLX&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs>
        <linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-e6e6e6-1-808080-1-s-0">
            <stop offset="0%" style="stop-color: rgb(230, 230, 230); stop-opacity: 1;"/>
            <stop offset="100%" style="stop-color: rgb(128, 128, 128); stop-opacity: 1;"/>
        </linearGradient>
    </defs>
    <g>
        <path d="M 2124 1600 L 2074.04 2224.55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2073.76" cy="2228.04" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2069.13 2235.69 L 2077.11 2236.33 M 2073.48 2231.53 L 2072.8 2240" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1960 1355 L 1880 1335" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1888.73 1333.06 L 1886.79 1340.82 M 1879.03 1338.88 L 1887.76 1336.94 L 1880.97 1331.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4477.06 2272.94 L 4896.82 2447.55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4901.67 2449.57 L 4893.86 2450.11 L 4896.82 2447.55 L 4896.55 2443.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5160 2630 L 4966.24 2669.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4961.1 2670.69 L 4967.25 2665.85 L 4966.24 2669.63 L 4968.65 2672.71 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5680 2630 L 6153.85 2757.58" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6158.92 2758.94 L 6151.25 2760.5 L 6153.85 2757.58 L 6153.07 2753.74 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5160 2760 L 5195.4 2795.12" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5199.13 2798.81 L 5191.69 2796.37 L 5195.4 2795.12 L 5196.62 2791.4 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5420 2240 L 5420 2200" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="5160" y="2240" width="520" height="520" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 518px; height: 1px; padding-top: 2247px; margin-left: 5162px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Actor
                                <u>
                                    flush_and_compact_job
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            While true:
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            `Select` all channels.
                                        </li>
                                        <ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    is_terminating
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    gc_avail
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    gc_dangling_nodes( itv );
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <span>
                                                    <font color="#990000">
                                                        replace_avail
                                                    </font>
                                                    :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    flush_and_compact();
                                                </li>
                                            </ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    scnd_idx_creation_request
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    prep_for_si_creation( req );
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <font color="#990000" style="color: rgb(153 , 0 , 0)">
                                            gc_avail
                                        </font>
                                        <span>
                                            .close();
                                            <br/>
                                        </span>
                                        <font color="#990000">
                                            scnd_idx_creation_request
                                        </font>
                                        <span>
                                            .close();
                                        </span>
                                    </li>
                                    <li>
                                        poll_held_list_vers_then_gc();
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5162" y="2259" fill="#000000" font-family="Helvetica" font-size="12px">
                    Actor flush_and_compact_job()...
                </text>
            </switch>
        </g>
        <rect x="4480" y="2600" width="480" height="240" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 2607px; margin-left: 4482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    gc_dangling_nodes
                                </u>
                                ( GcAbleInterval )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            Pop these entries ...
                                            <br/>
                                        </span>
                                        <u>
                                            dangling_nodes
                                        </u>
                                        <br/>
                                        .filter( gc.lo &lt;= dang.lo &amp;&amp; dang.hi &lt;= gc.hi )
                                    </li>
                                    <li>
                                        For each popped entry :
                                    </li>
                                    <ol>
                                        <li>
                                            For each node :
                                        </li>
                                        <ol>
                                            <li>
                                                Pop from queue.
                                            </li>
                                            <li>
                                                Remove files. Drop memory.
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4482" y="2619" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::gc_dangling_nodes( GcAbleInterval )...
                </text>
            </switch>
        </g>
        <path d="M 5872.7 2410 L 5706.73 2592.6 Q 5700 2600 5709.54 2603.01 L 6153.93 2743.35" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6158.93 2744.93 L 6151.2 2746.16 L 6153.93 2743.35 L 6153.31 2739.48 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5878 2420 C 5874.65 2417.78 5872.63 2414.02 5872.63 2410 C 5872.63 2405.98 5874.65 2402.22 5878 2400 L 5962 2400 C 5965.35 2402.22 5967.37 2405.98 5967.37 2410 C 5967.37 2414.02 5965.35 2417.78 5962 2420 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5962 2400 C 5965.35 2402.22 5967.37 2405.98 5967.37 2410 C 5967.37 2414.02 5965.35 2417.78 5962 2420 C 5958.65 2417.78 5956.63 2414.02 5956.63 2410 C 5956.63 2405.98 5958.65 2402.22 5962 2400" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2427px; margin-left: 5920px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                scnd_idx_creation_request
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5920" y="2440" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    scnd_idx_creati...
                </text>
            </switch>
        </g>
        <rect x="6160" y="2560" width="600" height="560" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 2567px; margin-left: 6162px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    prep_for_si_creation
                                </u>
                                ( ScndIdxCreationRequest )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            // F+C does a sweep of the LL once, before delivering SICr new work.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                            // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            snap_head_excl :=
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            () ...
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy w/
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false : dummy.
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                = true;
                                            </li>
                                            <li>
                                                Else : push new dummy w/
                                                <br/>
                                                { traversable_list_ver_lo_incl=
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                , hold_count=0,
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =true }
                                            </li>
                                        </ol>
                                        <li>
                                            output_commit_ver :=
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                            <br/>
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            += 1;
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            merge_segments( snap_head_excl );
                                            <br/>
                                        </span>
                                        // Here, compaction is optional. But we reuse code, and compact anyway.
                                    </li>
                                    <li>
                                        work := ScndIdxCreationWork( snap_head_excl, output_commit_ver, req );
                                        <br/>
                                        <font color="#990000">
                                            scnd_idx_creation_work
                                        </font>
                                        <span>
                                            .send( work );
                                        </span>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6162" y="2579" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::prep_for_si_creation( ScndIdxCreationRequest )...
                </text>
            </switch>
        </g>
        <path d="M 540 2880 L 540 2920" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 536 2916 L 544 2916" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 760 2761.94 L 880 2839.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 874.47 2840.55 L 878.81 2833.83" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1136 3320 L 1129.6 3400" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1125.93 3395.69 L 1133.91 3396.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 2926.67 L 1505.3 2904.9" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1508.62" cy="2903.79" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1518.74 2896.21 L 1512.41 2902.53 L 1521.26 2903.79 M 1512.41 2902.53 L 1520 2900" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5920 2400 L 5920 2360" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 920 2195 L 1033.65 2204.47" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1038.89 2204.91 L 1031.62 2207.81 L 1033.65 2204.47 L 1032.2 2200.84 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2200px; margin-left: 980px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                formats new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="980" y="2203" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    formats new
                </text>
            </switch>
        </g>
        <path d="M 1760 2968.57 L 1825.75 2940.39" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1828.97" cy="2939.01" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1837.9 2939.54 L 1834.75 2932.18 M 1832.19 2937.63 L 1840 2934.29" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 450 3720 L 429.3 3747.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="427.2" cy="3750.4" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 423.2 3762.4 L 424.8 3753.6 L 416.8 3757.6 M 424.8 3753.6 L 420 3760" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="320" y="3480" width="440" height="240" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 3480px; margin-left: 320px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxsState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + scnd_idxs: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) Arc&lt; SVSpec &gt;
                                    </li>
                                    <li>
                                        (value) ScndIdxState
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - next_scnd_idx_num: ScndIdxNum
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="320" y="3492" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxsState...
                </text>
            </switch>
        </g>
        <path d="M 1840 2766.67 L 1769.49 2743.16 Q 1760 2740 1750.74 2736.23 L 1360 2577.04" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1365.21 2574.84 L 1362.2 2582.25" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2280 2882.31 L 2360 2897.69" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2351.39 2900.11 L 2352.9 2892.25 M 2360.76 2893.76 L 2352.14 2896.18 L 2359.24 2901.62" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1360 2506.88 L 1440 2499.38" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1436.39 2503.73 L 1435.64 2495.77" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1360 2450 L 1440 2410" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1438.21 2406.42 L 1432.84 2413.58 L 1441.79 2413.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1360 2560 L 1770.38 2677.25 Q 1780 2680 1788.68 2684.96 L 1834.47 2711.13" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1839.03 2713.73 L 1831.22 2713.3 L 1834.47 2711.13 L 1834.69 2707.22 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2630px; margin-left: 1604px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                load into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1604" y="2633" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    load into
                </text>
            </switch>
        </g>
        <path d="M 2630 2840 L 2643.07 2813.86" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2644.63" cy="2810.73" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2651.79 2805.37 L 2644.63 2801.79 M 2646.2 2807.6 L 2650 2800" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2626.15 3040 L 2638.12 3065.93" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2639.59" cy="3069.1" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2639.31 3078.04 L 2646.57 3074.69 M 2641.05 3072.28 L 2644.62 3080" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2800 2891.88 L 3073.78 2831.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3078.91 2830.86 L 3072.82 2835.78 L 3073.78 2831.99 L 3071.32 2828.94 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2861px; margin-left: 2940px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2940" y="2865" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <rect x="2360" y="2840" width="440" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 2847px; margin-left: 2362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    CommittedEntrySet&lt;K, V&gt;
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li>
                                        RMemLog( ReadOnlyMemlog&lt;K, V&gt; )
                                    </li>
                                    <li>
                                        SSTable( SSTable&lt;K, V&gt; )
                                    </li>
                                </ul>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Entry&lt;K, ()&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2362" y="2859" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum CommittedEntrySet&lt;K, V&gt;:...
                </text>
            </switch>
        </g>
        <path d="M 1320 3570 L 1464.96 3606.24" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1468.36" cy="3607.09" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1480.97 3606.12 L 1472.24 3608.06 L 1479.03 3613.88 M 1472.24 3608.06 L 1480 3610" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1120 3640 L 1120 3713.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="stroke"/>
        <path d="M 1120 3718.88 L 1116.5 3711.88 L 1120 3713.63 L 1123.5 3711.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3680px; margin-left: 1120px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is implicitly related to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1120" y="3683" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is implicitly related to
                </text>
            </switch>
        </g>
        <rect x="920" y="3400" width="400" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 240px; padding-top: 3400px; margin-left: 920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AtomicLinkedList&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_ptr: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + from_elems( Iter&lt;T&gt; ) -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head() -&gt; &amp;ListNode&lt;T&gt;
                                </p>
                                <p></p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#990099">
                                        push_elem
                                    </font>
                                    <span>
                                        ( T ) -&gt; &amp;ListNode&lt;T&gt;
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#990099">
                                        push_node
                                    </font>
                                    ( Box&lt; ListNode&lt;T&gt; &gt; ) -&gt; &amp;ListNode&lt;T&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + iter() -&gt; Iter&lt; &amp;T &gt;
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="920" y="3412" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AtomicLinkedList&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1480" y="3600" width="240" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 80px; padding-top: 3600px; margin-left: 1480px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ListNode&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + elem: T
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + next: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1480" y="3612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ListNode&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1440" y="2440" width="200" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 100px; padding-top: 2440px; margin-left: 1440px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 100px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        TimestampNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + inc_from(Iter&lt;Self&gt;) -&gt; Self
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1440" y="2452" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    TimestampNum...
                </text>
            </switch>
        </g>
        <rect x="1440" y="2360" width="80" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 82px; height: 60px; padding-top: 2360px; margin-left: 1440px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 80px; height: 60px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitVer
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1440" y="2372" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitVer...
                </text>
            </switch>
        </g>
        <path d="M 1220 2320 L 1220 2393.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1220 2398.88 L 1216.5 2391.88 L 1220 2393.63 L 1223.5 2391.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2360px; margin-left: 1220px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1220" y="2363" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 1400 2258.57 L 1833.77 2351.52" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1838.91 2352.62 L 1831.33 2354.58 L 1833.77 2351.52 L 1832.8 2347.73 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2305px; margin-left: 1618px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1618" y="2309" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into new
                </text>
            </switch>
        </g>
        <rect x="560" y="3760" width="200" height="160" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 160px; padding-top: 3760px; margin-left: 560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + inc_from(Iter&lt;Self&gt;) -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + get_and_inc() -&gt; Self
                                    </span>
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="560" y="3772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxNum...
                </text>
            </switch>
        </g>
        <rect x="2480" y="2600" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 2600px; margin-left: 2480px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ReadonlyMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + memtable: BTreeMap&lt; K, OptDatum&lt;V&gt; &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - log_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; ( &amp;K, &amp;OptDat&lt;V&gt; ) &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; ( &amp;K, &amp;OptDat&lt;V&gt; ) &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <strike>
                                        + remove_file() -&gt; Res&lt; () &gt;
                                    </strike>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2480" y="2612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ReadonlyMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <rect x="2480" y="3080" width="440" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 3080px; margin-left: 2480px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SSTable&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - sparse_file_offsets: Vec&lt; (K, u64) &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - kv_file_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + new( Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                    </span>
                                    <span>
                                        ) -&gt; Res&lt; Self &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Res&lt;( K, OptDat&lt;V&gt; )&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Res&lt;( K, OptDat&lt;V&gt; )&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Res&lt;K&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <strike>
                                        + is_empty() -&gt; Res&lt; bool &gt;
                                    </strike>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_file() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2480" y="3092" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SSTable&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 2737.5 2480 L 2756.49 2530.64 Q 2760 2540 2756.49 2549.36 L 2739.74 2594.04" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2737.89 2598.95 L 2737.07 2591.17 L 2739.74 2594.04 L 2743.63 2593.63 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2539px; margin-left: 2760px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2760" y="2543" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 2823.81 2480 L 3075.05 2682.92" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3079.13 2686.22 L 3071.49 2684.55 L 3075.05 2682.92 L 3075.88 2679.1 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2583px; margin-left: 2951px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2951" y="2586" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <path d="M 2662.5 2480 L 2643.51 2530.64 Q 2640 2540 2643.51 2549.36 L 2662.5 2600" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2657.35 2597.66 L 2664.84 2594.85" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2480" y="2280" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 2280px; margin-left: 2480px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        WritableMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + r_memlog: ReadonlyMemLog&lt;K, V&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + log_writer: DatumWriter
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + put( K, OptDatum&lt;V&gt; ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + into() -&gt; ReadonlyMemLog&lt;K,V&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2480" y="2292" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    WritableMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 3080 3122.59 L 2926.24 3153.91" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2921.1 3154.96 L 2927.26 3150.14 L 2926.24 3153.91 L 2928.65 3156.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3139px; margin-left: 3002px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                constructs
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3002" y="3142" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    constructs
                </text>
            </switch>
        </g>
        <rect x="3080" y="3000" width="320" height="180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 3007px; margin-left: 3082px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                enum
                                <b>
                                    Entry
                                </b>
                                &lt;'a, K, V&gt; {
                                <br/>
                                Ref(( &amp;'a K, &amp;'a V )),
                                <br/>
                                Own(Res&lt;( K, V )&gt;),
                                <br/>
                                }
                                <br/>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + try_borrow() -&gt; Res&lt;( &amp;'a K, &amp;'a V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + take_kv() -&gt; Res&lt;( K, V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    etc
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3082" y="3019" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    enum Entry&lt;'a, K, V&gt; {...
                </text>
            </switch>
        </g>
        <path d="M 3228.28 2920 L 3233.35 2993.65" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3233.72 2998.88 L 3229.74 2992.14 L 3233.35 2993.65 L 3236.73 2991.66 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2960px; margin-left: 3231px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                produces
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3231" y="2963" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    produces
                </text>
            </switch>
        </g>
        <rect x="3080" y="2680" width="280" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 2687px; margin-left: 3082px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                fn
                                <b>
                                    merge_committed_entrysets
                                </b>
                                (
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                <br/>
                                <br/>
                                fn
                                <b>
                                    merge_txnlocal_and_committed_entrysets
                                </b>
                                (
                                <br/>
                                Opt&lt; &amp;WritableMemLog&lt;K, V&gt; &gt;,
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3082" y="2699" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    fn merge_committed_entrysets(...
                </text>
            </switch>
        </g>
        <path d="M 2280 2393.13 L 2480 2386.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2476.13 2391 L 2475.88 2383" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2060 2560 L 2060 2673.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2060 2678.88 L 2056.5 2671.88 L 2060 2673.63 L 2063.5 2671.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2620px; margin-left: 2060px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2060" y="2623" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 5200 1998 L 5135.42 1991.54" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="5131.94" cy="1991.19" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 5119.6 1993.98 L 5127.96 1990.8 L 5120.4 1986.02 M 5127.96 1990.8 L 5120 1990" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="5200" y="1840" width="440" height="360" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 360px; padding-top: 1840px; margin-left: 5200px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 360px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        FCJob
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: Arc&lt;Db&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dangling_nodes: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) NodeListVerInterval
                                    </li>
                                    <li>
                                        (value) Vec&lt; SendPtr&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    // rx
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        gc_avail
                                    </font>
                                    : mpsc::Receiver&lt; GcAbleInterval &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <span style="color: rgb(153 , 0 , 0)">
                                        replace_avail
                                    </span>
                                    : watch::Receiver&lt; () &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        scnd_idx_creation_request
                                    </font>
                                    : mpsc::Receiver&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Receiver&lt; () &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        // tx
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        sicr_work
                                    </font>
                                    : mpsc::Sender&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5200" y="1852" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    FCJob...
                </text>
            </switch>
        </g>
        <path d="M 6160 2351.33 L 5973.39 2408.15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5968.37 2409.67 L 5974.05 2404.29 L 5973.39 2408.15 L 5976.09 2410.98 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 80 2320 L 200 2320 L 200 2570 L 160 2570 L 140 2600 L 140 2570 L 80 2570 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,140,2460)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 248px; height: 1px; padding-top: 2407px; margin-left: 2px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                If a thread is to lock both
                                <span style="color: rgb(51 , 153 , 255)">
                                    db_state
                                </span>
                                and
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                , it must lock
                                <span style="color: rgb(51 , 153 , 255)">
                                    db_state
                                </span>
                                first, then
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                .
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2" y="2419" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    If a thread is to lock both db_state and...
                </text>
            </switch>
        </g>
        <rect x="1120" y="1640" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1647px; margin-left: 1122px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    File paths
                                </u>
                                <br/>
                                <ul>
                                    <li>
                                        db_root/
                                    </li>
                                    <ul>
                                        <li>
                                            scnd_idxs_state.txt
                                            <br/>
                                            (Contains a) definitions of all secondary indexes, b) next_scnd_idx_num.)
                                        </li>
                                        <li>
                                            lsm/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt;anti_collision_num&gt;/
                                                <br/>
                                                (Either StagingUnit or CommittedUnit.)
                                            </li>
                                            <ul>
                                                <li>
                                                    pi.kv
                                                </li>
                                                <li>
                                                    si-&lt;scnd_idx_num&gt;.kv
                                                </li>
                                                <li>
                                                    (... other SIs)
                                                </li>
                                                <li>
                                                    (All entrysets (PI or SI) are optional.)
                                                </li>
                                                <li>
                                                    commit_info.txt
                                                    <br/>
                                                    (This file is present iff this unit was attempted commitment.
                                                    <br/>
                                                    There is currently no way to distinguish a failed and a finalized commit.)
                                                </li>
                                            </ul>
                                            <li>
                                                (... other unit dirs)
                                            </li>
                                        </ul>
                                        <li>
                                            si_cr_job/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt; temporary SSTables &gt;
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1122" y="1659" fill="#000000" font-family="Helvetica" font-size="12px">
                    File paths...
                </text>
            </switch>
        </g>
        <rect x="1720" y="1400" width="120" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 122px; height: 80px; padding-top: 1400px; margin-left: 1720px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 120px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Interval&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + lo_incl: Opt&lt;T&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + hi_incl: Opt&lt;T&gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1720" y="1412" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Interval&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1520" y="2960" width="240" height="120" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 238px; height: 1px; padding-top: 2967px; margin-left: 1522px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    LsmElemContent
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li>
                                        Unit( CommittedUnit )
                                    </li>
                                    <li>
                                        Dummy{ ... }
                                    </li>
                                    <ul>
                                        <li>
                                            hold_count: AtomicUsize
                                            <br/>
                                        </li>
                                        <li>
                                            <font color="#cccc00">
                                                is_fence
                                            </font>
                                            : AtomicBool
                                        </li>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1522" y="2979" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum LsmElemContent:...
                </text>
            </switch>
        </g>
        <path d="M 480 3840 L 560 3840" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 556 3844 L 556 3836" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="240" y="3760" width="240" height="160" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 160px; padding-top: 3760px; margin-left: 240px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnd_idx_num: ScndIdxNum
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#3399ff">
                                        is_readable
                                    </font>
                                    : bool
                                </p>
                                <div>
                                    <hr size="1"/>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + ser( ... ) -&gt; Res&lt; () &gt;
                                    </p>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + deser( ... ) -&gt; Res&lt; Self &gt;
                                    </p>
                                </div>
                                <div>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="240" y="3772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxState...
                </text>
            </switch>
        </g>
        <rect x="5200" y="840" width="800" height="600" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 798px; height: 1px; padding-top: 847px; margin-left: 5202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    TODO
                                </b>
                                <br/>
                                <ul>
                                    <li>
                                        <span>
                                            Txn
                                        </span>
                                        <br/>
                                    </li>
                                    <ul>
                                        <li>
                                            Handle crash. Do not trust `run_txn`, which is client-provided.
                                        </li>
                                        <ul>
                                            <li>
                                                <span>
                                                    Unhold commit_ver(s) and list_ver. Delete staging unit dir.
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    Handle this anomaly:
                                                </span>
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        1) commit_info.txt is written
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        2) crash
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        Problem: Actually committed CommittedUnit vs never pushed CommittedUnit are indistinguishable.
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        Possible solution:
                                                    </span>
                                                </li>
                                                <ul>
                                                    <li>
                                                        <span>
                                                            1) run_txn writes commit_info.txt with timestamp_num=None
                                                        </span>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            2) run_txn pushes to LL
                                                        </span>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            3) run_txn always notifies F+C
                                                        </span>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            4) F+C goes through recent commits, and sets timestamp_num=Some(zero)
                                                        </span>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            5) F+C messages back
                                                        </span>
                                                        run_txn
                                                    </li>
                                                    <li>
                                                        6) run_txn returns
                                                    </li>
                                                </ul>
                                            </ul>
                                        </ul>
                                    </ul>
                                    <li>
                                        <span>
                                            F+C
                                        </span>
                                        <br/>
                                    </li>
                                    <ul>
                                        <li>
                                            <span>
                                                Levelled compaction.
                                            </span>
                                        </li>
                                        <ul>
                                            <li>
                                                <span>
                                                    Each CommittedUnit, can have levelled compaction within.
                                                </span>
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div style="text-align: right">
                                    <span style="text-align: center">
                                        https://github.com/ysono/pancake/
                                    </span>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5202" y="859" fill="#000000" font-family="Helvetica" font-size="12px">
                    TODO...
                </text>
            </switch>
        </g>
        <path d="M 4997.3 2290 L 5154.3 2368" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5159 2370.33 L 5151.17 2370.35 L 5154.3 2368 L 5154.29 2364.08 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4908 2300 C 4904.65 2297.78 4902.63 2294.02 4902.63 2290 C 4902.63 2285.98 4904.65 2282.22 4908 2280 L 4992 2280 C 4995.35 2282.22 4997.37 2285.98 4997.37 2290 C 4997.37 2294.02 4995.35 2297.78 4992 2300 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4992 2280 C 4995.35 2282.22 4997.37 2285.98 4997.37 2290 C 4997.37 2294.02 4995.35 2297.78 4992 2300 C 4988.65 2297.78 4986.63 2294.02 4986.63 2290 C 4986.63 2285.98 4988.65 2282.22 4992 2280" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2307px; margin-left: 4950px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is_terminating
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4950" y="2320" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    is_terminating
                </text>
            </switch>
        </g>
        <path d="M 6840 3667.14 L 6658.51 3835.67" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6654.67 3839.24 L 6657.41 3831.91 L 6658.51 3835.67 L 6662.18 3837.04 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6697.54 3840 L 6837.62 3733.85" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6841.81 3730.68 L 6838.34 3737.69 L 6837.62 3733.85 L 6834.12 3732.11 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7200 3500 L 7280 3500" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="6840" y="3320" width="360" height="360" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 358px; height: 1px; padding-top: 3327px; margin-left: 6842px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Actor
                                <u>
                                    scnd_idx_creation_job
                                </u>
                                ()
                                <br/>
                                <ul>
                                    <li>
                                        While true:
                                    </li>
                                    <ul>
                                        <li>
                                            `Select` all channels.
                                        </li>
                                        <ul>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    is_terminating
                                                </font>
                                                :
                                            </li>
                                            <ul>
                                                <li>
                                                    break;
                                                </li>
                                            </ul>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    scnd_idx_creation_work
                                                </font>
                                                :
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        do_create();
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        notify_termination();
                                                    </span>
                                                </li>
                                            </ul>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6842" y="3339" fill="#000000" font-family="Helvetica" font-size="12px">
                    Actor scnd_idx_creation_job()...
                </text>
            </switch>
        </g>
        <path d="M 6937.3 3250 L 6958.46 3313.95" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6960.1 3318.94 L 6954.58 3313.39 L 6958.46 3313.95 L 6961.23 3311.19 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6897.33 3240 L 6956 3160" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6848 3260 C 6844.65 3257.78 6842.63 3254.02 6842.63 3250 C 6842.63 3245.98 6844.65 3242.22 6848 3240 L 6932 3240 C 6935.35 3242.22 6937.37 3245.98 6937.37 3250 C 6937.37 3254.02 6935.35 3257.78 6932 3260 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6932 3240 C 6935.35 3242.22 6937.37 3245.98 6937.37 3250 C 6937.37 3254.02 6935.35 3257.78 6932 3260 C 6928.65 3257.78 6926.63 3254.02 6926.63 3250 C 6926.63 3245.98 6928.65 3242.22 6932 3240" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3267px; margin-left: 6890px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                scnd_idx_creation_work
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6890" y="3280" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    scnd_idx_creati...
                </text>
            </switch>
        </g>
        <path d="M 7177.3 3250 L 7136.65 3314.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 7133.85 3319.05 L 7134.62 3311.27 L 7136.65 3314.61 L 7140.54 3314.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7088 3260 C 7084.65 3257.78 7082.63 3254.02 7082.63 3250 C 7082.63 3245.98 7084.65 3242.22 7088 3240 L 7172 3240 C 7175.35 3242.22 7177.37 3245.98 7177.37 3250 C 7177.37 3254.02 7175.35 3257.78 7172 3260 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7172 3240 C 7175.35 3242.22 7177.37 3245.98 7177.37 3250 C 7177.37 3254.02 7175.35 3257.78 7172 3260 C 7168.65 3257.78 7166.63 3254.02 7166.63 3250 C 7166.63 3245.98 7168.65 3242.22 7172 3240" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3267px; margin-left: 7130px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is_terminating
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7130" y="3280" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    is_terminating
                </text>
            </switch>
        </g>
        <rect x="6160" y="3200" width="600" height="600" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3207px; margin-left: 6162px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                SICr
                                <u>
                                    do_create
                                </u>
                                ( ScndIdxWork )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            snap := AtomicLinkedListSnapshot{
                                        </span>
                                        <u>
                                            snap_head_excl
                                        </u>
                                        <span>
                                            , tail_excl=None };
                                            <br/>
                                        </span>
                                        snap_pi
                                        <span>
                                            :=
                                        </span>
                                        <span>
                                            snap.iter().filter_map( (unit) -&gt; unit.pi ).k_merge().filter( keep non-Tombstone );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each (PK,PV) in snap_pi :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            Write to a Memtable (without log).
                                        </li>
                                        <li>
                                            Periodically flush to a new SSTable.
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            If there were no data :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            // There should be no file to delete.
                                        </li>
                                        <li>
                                            return;
                                        </li>
                                    </ol>
                                    <li>
                                        K-merge all SSTables.
                                    </li>
                                    <li>
                                        <span>
                                            Remove non-final SSTables.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            cu := CommittedUnit w/ ...
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            commit_ver_lo_incl == commit_ver_hi_incl :=
                                            <u>
                                                output_commit_ver
                                            </u>
                                        </li>
                                        <li>
                                            <span>
                                                timestamp_num := 0
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            node := Box( ListNode( ... cu ... ) );
                                        </span>
                                    </li>
                                    <li>
                                        With
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        .lock_exclusive() :
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                node.
                                            </span>
                                            traversable_list_ver_lo_incl =
                                            <font color="#00994d">
                                                curr_list_ver
                                            </font>
                                            ;
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            node.next =
                                        </span>
                                        <span>
                                            <u>
                                                snap_head_excl
                                            </u>
                                            .next;
                                            <br/>
                                            <u>
                                                snap_head_excl
                                            </u>
                                            .next.store( node );
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        With
                                        <span style="color: rgb(51 , 153 , 255)">
                                            db_state
                                        </span>
                                        .lock_exclusive() :
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#3399ff">
                                                set_scnd_idx_as_readable
                                            </font>
                                            ( sv_spec ), which does ...
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <font color="#3399ff">
                                                    scnd_idxs
                                                </font>
                                                [ sv_spec ].
                                                <font color="#3399ff">
                                                    is_readable
                                                </font>
                                                = true ;
                                            </li>
                                            <li>
                                                Write to disk.
                                            </li>
                                        </ol>
                                        <li>
                                            /*
                                            <br/>
                                            is_readable could be an AtomicBool or a regular bool.
                                            <br/>
                                            If AtomicBool, SICr creation completion would not need to lock
                                            <font color="#3399ff">
                                                db_state
                                            </font>
                                            ; but every Txn would have to load() the AtomicBool.
                                            <br/>
                                            Since SICr is rare, it should be better to use a regular bool.
                                            <br/>
                                            */
                                        </li>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6162" y="3219" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICr do_create( ScndIdxWork )...
                </text>
            </switch>
        </g>
        <path d="M 6848 3740 C 6844.65 3737.78 6842.63 3734.02 6842.63 3730 C 6842.63 3725.98 6844.65 3722.22 6848 3720 L 6932 3720 C 6935.35 3722.22 6937.37 3725.98 6937.37 3730 C 6937.37 3734.02 6935.35 3737.78 6932 3740 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6932 3720 C 6935.35 3722.22 6937.37 3725.98 6937.37 3730 C 6937.37 3734.02 6935.35 3737.78 6932 3740 C 6928.65 3737.78 6926.63 3734.02 6926.63 3730 C 6926.63 3725.98 6928.65 3722.22 6932 3720" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3747px; margin-left: 6890px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    replace_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6890" y="3760" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    replace_avail
                </text>
            </switch>
        </g>
        <rect x="5120" y="2800" width="720" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 2807px; margin-left: 5122px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    flush_and_compact
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            snap_head_excl :=
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            () ...
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : nothing to update.
                                            </li>
                                            <li>
                                                Else : push new dummy w/
                                                <br/>
                                                { traversable_list_ver_lo_incl=
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                , hold_count=0,
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false }
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            merge_segments( snap_head_excl );
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5122" y="2819" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::flush_and_compact()...
                </text>
            </switch>
        </g>
        <path d="M 4896 3760 L 4940.72 3834.54" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4943.42 3839.04 L 4936.82 3834.84 L 4940.72 3834.54 L 4942.82 3831.24 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="4560" y="3440" width="480" height="320" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 3447px; margin-left: 4562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    cut_non_boundary_dummies
                                </u>
                                ( segm_head_excl, &amp;mut curr )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            slice := [ ];
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            match *curr :
                                        </li>
                                        <ol>
                                            <li>
                                                case nullptr :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                            <li>
                                                case dummy with { hold_count=0 and
                                                <span style="color: rgb(204 , 204 , 0)">
                                                    is_fence
                                                </span>
                                                =false } :
                                            </li>
                                            <ol>
                                                <li>
                                                    slice.push( *curr );
                                                </li>
                                                <li>
                                                    *curr = (*curr).next.load();
                                                </li>
                                            </ol>
                                            <li>
                                                otherwise :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            If slice is not empty :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                replace( segm_head_excl, curr, None, slice );
                                            </span>
                                        </li>
                                    </ol>
                                </ol>
                                <ul></ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4562" y="3459" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::cut_non_boundary_dummies( segm_head_excl, &amp;mut curr )...
                </text>
            </switch>
        </g>
        <rect x="6160" y="3840" width="600" height="360" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3847px; margin-left: 6162px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <div>
                                    SICr
                                    <u>
                                        notify_termination
                                    </u>
                                    ( ScndIdxWork )
                                </div>
                                <ol>
                                    <li>
                                        <u>
                                            snap_head_excl
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <font color="#cccc00">
                                            is_fence
                                        </font>
                                        <span>
                                            .store( false );
                                        </span>
                                    </li>
                                    <li>
                                        <font color="#990000">
                                            replace_avail
                                        </font>
                                        <span>
                                            .send( () );
                                            <br/>
                                        </span>
                                        /* Even if snap_head_excl's hold_count is not zero, notify F+C anyway, because some dummies in SICr's snapshot might have become non-held. For such dummies, notification would have been sent to F+C but F+C would not have worked across those dummies. */
                                    </li>
                                    <li>
                                        <span>
                                            response_to_client.send( "succes" );
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6162" y="3859" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICr notify_termination( ScndIdxWork )...
                </text>
            </switch>
        </g>
        <path d="M 6840 3500 L 6766.37 3500" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6761.12 3500 L 6768.12 3496.5 L 6766.37 3500 L 6768.12 3503.5 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6160" y="2040" width="600" height="440" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 2047px; margin-left: 6162px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Db::
                                <u>
                                    create_scnd_idx
                                </u>
                                ()
                                <br/>
                                <br/>
                                Args:
                                <br/>
                                <ul>
                                    <li>
                                        SVSpec
                                    </li>
                                </ul>
                                Steps:
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#3399ff">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_shared() :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            .has_key( sv_spec ) :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "Already exists and &lt;is | isn't&gt; being created".
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#3399ff">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                            // It's preferrable to wait for the exclusive lock outside the job thread.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            .has_key( sv_spec ) :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "Already exists and &lt;is | isn't&gt; being created".
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#3399ff">
                                                define_new_scnd_idx
                                            </font>
                                            ( sv_spec ), which does ...
                                        </li>
                                        <ol>
                                            <li>
                                                si_num :=
                                                <span style="color: rgb(51 , 153 , 255)">
                                                    next_scnd_idx_num
                                                </span>
                                                .get_and_inc();
                                            </li>
                                            <li>
                                                <font color="#3399ff">
                                                    scnd_idxs
                                                </font>
                                                .insert( sv_spec, ( si_num,
                                                <font color="#3399ff">
                                                    is_readable
                                                </font>
                                                =false ) );
                                            </li>
                                            <li>
                                                Write to disk.
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            (tx, rx) := oneshot::channel();
                                            <br/>
                                            req := ScndIdxCreationRequest( sv_spec, si_num, tx );
                                            <br/>
                                        </span>
                                        <font color="#990000">
                                            scnd_idx_creation_request
                                        </font>
                                        <span>
                                            .send( req );
                                            <br/>
                                            resp := rx.receive();
                                            <br/>
                                            return resp;
                                        </span>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6162" y="2059" fill="#000000" font-family="Helvetica" font-size="12px">
                    Db::create_scnd_idx()...
                </text>
            </switch>
        </g>
        <rect x="4800" y="3840" width="600" height="520" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3847px; margin-left: 4802px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    replace
                                </u>
                                ( K, G, R, slice )
                                <br/>
                                // K is slice_head_excl
                                <br/>
                                // G is slice_tail_excl
                                <br/>
                                // R: Opt&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                <br/>
                                // slice: Vec&lt; &amp;ListNode&lt; LsmElem &gt; &gt;
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#00994d">
                                                curr_list_ver
                                            </font>
                                            += 1;
                                        </li>
                                        <li>
                                            <span>
                                                If R is Some :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                R.traversable_list_ver_lo_incl =
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                ;
                                            </li>
                                            <li>
                                                <span>
                                                    R.next = G;
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    K.next.store(R);
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    K.next.store(G);
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            For each node in slice :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                // The list_ver interval for which this node is traversable is ...
                                            </span>
                                            <br/>
                                            <span>
                                                node_itv := [ node.traversable_list_ver_lo_incl ~
                                            </span>
                                            <font color="#00994d">
                                                curr_list_ver
                                            </font>
                                            <span>
                                                );
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                // Search in
                                            </span>
                                            <font color="#00994d">
                                                held_list_vers
                                            </font>
                                            <span>
                                                to see if node_itv is deletable now.
                                                <br/>
                                            </span>
                                            // Searching would hold the lock for longer. So let's skip it.
                                        </li>
                                        <li>
                                            <span>
                                                If node_itv is deletable :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Delete node's dir and memory.
                                                </span>
                                                <br/>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <u>
                                                    dangling_nodes
                                                </u>
                                                <span>
                                                    [ node_itv ].push( node );
                                                </span>
                                                <br/>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <ul>
                                    <ul></ul>
                                </ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4802" y="3859" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::replace( K, G, R, slice )...
                </text>
            </switch>
        </g>
        <path d="M 4997.3 2450 L 5136.03 2770.82 Q 5140 2780 5148.99 2784.39 L 5174.04 2796.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5178.76 2798.91 L 5170.93 2798.99 L 5174.04 2796.61 L 5174 2792.69 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4939.12 2360 L 4808.53 2240" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4908 2460 C 4904.65 2457.78 4902.63 2454.02 4902.63 2450 C 4902.63 2445.98 4904.65 2442.22 4908 2440 L 4992 2440 C 4995.35 2442.22 4997.37 2445.98 4997.37 2450 C 4997.37 2454.02 4995.35 2457.78 4992 2460 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4992 2440 C 4995.35 2442.22 4997.37 2445.98 4997.37 2450 C 4997.37 2454.02 4995.35 2457.78 4992 2460 C 4988.65 2457.78 4986.63 2454.02 4986.63 2450 C 4986.63 2445.98 4988.65 2442.22 4992 2440" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2467px; margin-left: 4950px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    replace_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4950" y="2480" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    replace_avail
                </text>
            </switch>
        </g>
        <path d="M 4997.3 2370 L 5134.73 2591.5 Q 5140 2600 5130.38 2602.75 L 4966.12 2649.68" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4961.07 2651.12 L 4966.84 2645.83 L 4966.12 2649.68 L 4968.77 2652.56 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4908 2380 C 4904.65 2377.78 4902.63 2374.02 4902.63 2370 C 4902.63 2365.98 4904.65 2362.22 4908 2360 L 4992 2360 C 4995.35 2362.22 4997.37 2365.98 4997.37 2370 C 4997.37 2374.02 4995.35 2377.78 4992 2380 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4992 2360 C 4995.35 2362.22 4997.37 2365.98 4997.37 2370 C 4997.37 2374.02 4995.35 2377.78 4992 2380 C 4988.65 2377.78 4986.63 2374.02 4986.63 2370 C 4986.63 2365.98 4988.65 2362.22 4992 2360" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2387px; margin-left: 4950px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    gc_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4950" y="2400" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    gc_avail
                </text>
            </switch>
        </g>
        <path d="M 4478.12 2271.88 L 4896.5 2368.57" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4901.61 2369.75 L 4894 2371.58 L 4896.5 2368.57 L 4895.58 2364.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6721.36 3120 L 6838.35 3245.34" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6841.94 3249.18 L 6834.6 3246.45 L 6838.35 3245.34 L 6839.72 3241.68 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1720 1360 L 1740.7 1387.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1742.8" cy="1390.4" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 1753.2 1397.6 L 1745.2 1393.6 L 1746.8 1402.4 M 1745.2 1393.6 L 1750 1400" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1440" y="1200" width="440" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 160px; padding-top: 1200px; margin-left: 1440px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        IntervalSet&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - itvs: Vec&lt; Interval&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + add( Interval&lt;T&gt; )
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + clear()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + merge()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + overlaps_with(points: Iter&lt;U: TryPartialOrd&lt;T&gt;&gt;) -&gt; Res&lt;bool&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1440" y="1212" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    IntervalSet&lt;T&gt;...
                </text>
            </switch>
        </g>
        <path d="M 5290 3760 L 5248.4 3834.44" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5245.84 3839.02 L 5246.2 3831.21 L 5248.4 3834.44 L 5252.31 3834.62 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5120 3515.29 L 5046.16 3534.84" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5041.08 3536.18 L 5046.95 3531.01 L 5046.16 3534.84 L 5048.74 3537.78 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6840" y="3040" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 3040px; margin-left: 6840px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationWork
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span>
                                        snap_head_excl: SendPtr&lt; ListNode&lt; LsmElem &gt; &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + scnd_idx_num: ScndIdxNum
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + output_commit_ver: CommitVer
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + req: ScndIdxCreationRequest
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6840" y="3052" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationWork...
                </text>
            </switch>
        </g>
        <rect x="5480" y="3840" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3847px; margin-left: 5482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    do_flush_and_compact
                                </u>
                                ( slice, skip_tombstones, db_state_guard )
                                <br/>
                                -&gt; Option&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                <br/>
                                <ol>
                                    <li>
                                        With db_state guard :=
                                        <span style="color: rgb(51 , 153 , 255)">
                                            db_state
                                        </span>
                                        .lock_shared() :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                Create a new empty SSTable-based CompactedUnit.
                                            </span>
                                        </li>
                                        <li>
                                            For each of {PI; and SIs in db_state_guard.
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            .keys() regardless of `
                                            <font color="#3399ff">
                                                is_readable
                                            </font>
                                            `} :
                                        </li>
                                        <ol>
                                            <li>
                                                K-merge across the slice --&gt; produce one SSTable.
                                                <br/>
                                                If skipping tombstones, do so.
                                            </li>
                                            <li>
                                                If the newly produced SSTable is non-empty :
                                            </li>
                                            <ol>
                                                <li>
                                                    Assign the new SSTable into the new CommittedUnit.
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                If the newly produced CommittedUnit is non-empty :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    On disk, serialize CommitInfo with ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        commit_ver_hi_incl = max in slice
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        commit_ver_lo_incl = min in slcie
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        timestamp_num = (max in slice) + 1
                                                    </span>
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    Move the new CommittedUnit into a Box&lt; ListNode&lt; LsmElem &gt; &gt;. Return this.
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    committed_unit.remove_dir();
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Return None.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5482" y="3859" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::do_flush_and_compact( slice, skip_tombstones, db_state_guard )...
                </text>
            </switch>
        </g>
        <path d="M 5644.52 3760 L 5680.45 3834.27" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5682.74 3838.99 L 5676.54 3834.22 L 5680.45 3834.27 L 5682.84 3831.17 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="5120" y="3080" width="720" height="680" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 3087px; margin-left: 5122px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    merge_segments
                                </u>
                                ( snap_head_excl )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            segm_head_excl := snap_head_excl;
                                        </span>
                                        <br/>
                                        <span>
                                            curr := segm_head_excl.next.load();
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                // In this while-block, work on one segment, i.e. until the next closest boundary dummy.
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <span>
                                                slice := [ ];
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <span>
                                                While true :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    cut_non_boundary_dummies( segm_head_excl, &amp;mut curr );
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    match curr :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        case nullptr :
                                                    </span>
                                                    <br/>
                                                </li>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            break;
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                                <li>
                                                    <span>
                                                        case a dummy :
                                                    </span>
                                                    <br/>
                                                </li>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            // The curr dummy could not be cut. Therefore it must be a boundary.
                                                        </span>
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            break;
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                                <li>
                                                    <span>
                                                        case CommittedUnit :
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                        </ol>
                                        <ul>
                                            <ul>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            slice.push( curr );
                                                        </span>
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            curr = curr.next.load();
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                            </ul>
                                        </ul>
                                        <li>
                                            <span>
                                                If {slice.len() &gt; 1} or {slice contains at least one MemLog-based CommittedUnit} :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    skip_tombstones := { curr == nullptr };
                                                </span>
                                                <br/>
                                                <span>
                                                    compacted_node := do_flush_and_compact( slice, skip_tombstones, db_state_guard );
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    replace( snap_head_excl, curr, compacted_node, slice );
                                                </span>
                                                <br/>
                                            </li>
                                        </ol>
                                        <li>
                                            If curr == nullptr :
                                        </li>
                                        <ol>
                                            <li>
                                                break;
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    segm_head_excl = curr;
                                                    <br/>
                                                </span>
                                                curr = curr.next.load();
                                            </li>
                                        </ol>
                                        <ol></ol>
                                    </ol>
                                </ol>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5122" y="3099" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::merge_segments( snap_head_excl )...
                </text>
            </switch>
        </g>
        <path d="M 5480 3000 L 5480 3073.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5480 3078.88 L 5476.5 3071.88 L 5480 3073.63 L 5483.5 3071.88 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6160 3017.55 L 5845.48 3203.7" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5840.96 3206.37 L 5845.2 3199.79 L 5845.48 3203.7 L 5848.77 3205.82 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6880" y="2040" width="600" height="440" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 2047px; margin-left: 6882px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Db::delete_scnd_idx()
                                <br/>
                                <br/>
                                Args:
                                <br/>
                                <ul>
                                    <li>
                                        SVSpec
                                    </li>
                                </ul>
                                Steps:
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#3399ff">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_shared() :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            [ sv_spec ].
                                            <span style="color: rgb(51 , 153 , 255)">
                                                is_readable
                                            </span>
                                            != true :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "&lt;Doesn't exist | It's being built&gt;".
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#3399ff">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                If
                                            </span>
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            <span>
                                                [ sv_spec ].
                                            </span>
                                            <span style="color: rgb(51 , 153 , 255)">
                                                is_readable
                                            </span>
                                            <span>
                                                != true :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                Return "&lt;Doesn't exist | It's being built&gt;".
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#3399ff">
                                                remove_scnd_idx
                                            </font>
                                            <span>
                                                ( sv_spec );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            /*
                                            <br/>
                                        </span>
                                        That's it!
                                        <br/>
                                        Leave all data (in memory and on disk) in place. Let compaction eventually implicitly erase them.
                                        <br/>
                                        The use of ScndIdxNum ensures that, if a SI is later re-created for the just-deleted SVSpec, any lingering existing data would remain unused.
                                        <br/>
                                        */
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6882" y="2059" fill="#000000" font-family="Helvetica" font-size="12px">
                    Db::delete_scnd_idx()...
                </text>
            </switch>
        </g>
        <path d="M 1640 2920 L 1640 2960" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1636 2956 L 1644 2956" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1520" y="2800" width="240" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 120px; padding-top: 2800px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        LsmElem
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + content: LsmElemContent
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + traversable_list_ver_lo_incl: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="2812" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmElem...
                </text>
            </switch>
        </g>
        <rect x="5760" y="2240" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 2240px; margin-left: 5760px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationRequest
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span>
                                        sv_spec: SVSpec
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + scnd_idx_num: ScndIdxNum
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <span>
                                        response_to_client
                                    </span>
                                    <span>
                                        : oneshot::Sender&lt; Res&lt; () &gt; &gt;
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5760" y="2252" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationRequest...
                </text>
            </switch>
        </g>
        <path d="M 4370 3095.78 L 4473.71 3079.69" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4478.9 3078.88 L 4472.51 3083.41 L 4473.71 3079.69 L 4471.44 3076.5 Z" fill="#adadad" stroke="#adadad" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3840 2840 L 4360 2840 L 4360 3410 L 4120 3410 L 4100 3440 L 4100 3410 L 3840 3410 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,4100,3140)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 568px; height: 1px; padding-top: 2887px; margin-left: 3802px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Termination sequence
                                <br/>
                                <br/>
                                This sequence works in cooperation with
                                <br/>
                                <ul>
                                    <li>
                                        Db::terminate()
                                    </li>
                                    <li>
                                        Txn::run()
                                    </li>
                                </ul>
                                <div>
                                    Steps:
                                </div>
                                <ol>
                                    <li>
                                        <font color="#3399ff">
                                            is_terminating
                                        </font>
                                        bool is set to true.
                                        <br/>
                                        From now on, no new txn can start.
                                        <br/>
                                        Note, already-running txns can still hold
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        <font color="#990000">
                                            is_terminating
                                        </font>
                                        Conditional Variable is set.
                                        <br/>
                                        F+C is notified.
                                        <br/>
                                    </li>
                                    <li>
                                        While F+C's local
                                        <u>
                                            dangling_nodes
                                        </u>
                                        is not empty :
                                    </li>
                                    <ol>
                                        <li>
                                            F+C waits on
                                            <font color="#990000">
                                                gc_avail
                                            </font>
                                            .
                                        </li>
                                        <li>
                                            F+C removes from
                                            <u>
                                                dangling_nodes
                                            </u>
                                            .
                                        </li>
                                    </ol>
                                    <li>
                                        /*
                                        <br/>
                                        Note,
                                        <span style="color: rgb(153 , 0 , 0)">
                                            gc_avail
                                        </span>
                                        does not inform whether
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        is held or not. But this is irrelevant for the purpose of GC.
                                        <br/>
                                        If
                                        <font color="#990000">
                                            gc_avail
                                        </font>
                                        has a capacity set, messages can be dropped. And if messages are dropped, the above while-loop could be stuck forever. Therefore, the above while-loop should be omitted.
                                        <br/>
                                        */
                                    </li>
                                    <li>
                                        <span>
                                            While
                                        </span>
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        <span>
                                            is not empty :
                                            <br/>
                                        </span>
                                        /*
                                        <br/>
                                        It would be sufficient to check whether
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        is empty except for potentially
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        .
                                        <br/>
                                        */
                                    </li>
                                    <ol>
                                        <li>
                                            Sleep a bit.
                                        </li>
                                    </ol>
                                    <li>
                                        GC all nodes in
                                        <u>
                                            dangling_nodes
                                        </u>
                                        .
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3802" y="2899" fill="#000000" font-family="Helvetica" font-size="12px">
                    Termination sequence...
                </text>
            </switch>
        </g>
        <rect x="320" y="2920" width="440" height="480" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 480px; padding-top: 2920px; margin-left: 320px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 480px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#3399ff">
                                            DbState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state: ScndIdxsState
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state_file_path: PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_terminating: bool
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + can_new_scnd_idx_be_defined( &amp;SVSpec ) -&gt; ...
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + define_new_scnd_idx( &amp;SVSpec ) -&gt; ...
                                </p>
                                <ol>
                                    <li>
                                        si_num :=
                                        <font color="#3399ff">
                                            next_scnd_idx_num
                                        </font>
                                        .get_and_inc();
                                    </li>
                                    <li>
                                        <font color="#3399ff">
                                            scnd_idxs
                                        </font>
                                        .insert( sv_spec, ( si_num,
                                        <font color="#3399ff">
                                            is_readable
                                        </font>
                                        =false) );
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + set_scnd_idx_as_readable( &amp;SVSpec ) -&gt; Res&lt; () &gt;
                                </p>
                                <ol>
                                    <li>
                                        <font color="#3399ff">
                                            scnd_idxs
                                        </font>
                                        [ sv_spec ].is_readable = true;
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + can_scnd_idx_be_removed( &amp;SVSpec ) -&gt; ...
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_scnd_idx( &amp;SVSpec ) =&gt; ...
                                </p>
                                <ol>
                                    <li>
                                        scnd_idxs.remove( sv_spec );
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="320" y="2932" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DbState...
                </text>
            </switch>
        </g>
        <path d="M 540 3400 L 540 3480" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 536 3476 L 544 3476" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 700 1440 L 700 1520" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="400" y="1040" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1047px; margin-left: 402px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    At bootup
                                </u>
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#3399ff">
                                            scnd_idxs_state := ScndIdxsState.deser( scnd_idxs_state.txt );
                                        </font>
                                    </li>
                                    <li>
                                        <font color="#3399ff">
                                            db_state := DbState( ... );
                                        </font>
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        (
                                        <font color="#00994d">
                                            list, next_commit_ver, next_unit_dir_num
                                        </font>
                                        ) := Load committed units;
                                    </li>
                                    <li>
                                        <font color="#00994d">
                                            lsm_state := LsmState( list, ... );
                                        </font>
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        Create all
                                        <font color="#990000">
                                            channels
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        db := Db( ... );
                                    </li>
                                    <li>
                                        Launch actors
                                        <font color="#cc6600">
                                            flush_and_compact_job
                                        </font>
                                        () and
                                        <font color="#cccc00">
                                            scnd_idx_creation_job
                                        </font>
                                        ().
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        return db;
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="402" y="1059" fill="#000000" font-family="Helvetica" font-size="12px">
                    At bootup...
                </text>
            </switch>
        </g>
        <rect x="400" y="1520" width="600" height="480" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1527px; margin-left: 402px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                LsmDirManager:
                                <u>
                                    load_or_new
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        pq := new BinaryHeap&lt; CommitInfo &gt;;
                                        <br/>
                                    </li>
                                    <li>
                                        For uni_dir in `ls lsm/` :
                                    </li>
                                    <ol>
                                        <li>
                                            If commit_info.txt doesn't exist :
                                        </li>
                                        <ol>
                                            <li>
                                                Ignore this unit. Print warning.
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Load CommitInfo.
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Push CommitInfo into pq.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            nodes: = empty Vec;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            // pq prioritizes CommitInfo by { highest commit_ver_hi_incl; tie-breaker by highest timestamp_num }.
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        next_commit_ver := pq.peek().commit_ver_hi_incl + 1;    If empty, zero.
                                    </li>
                                    <li>
                                        <span>
                                            While pq is not empty :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                cu_info := pq.pop();
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                If curr commit_ver range overlaps with previous commit_ver range :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Ignore this unit. Print warning.
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Load CommitInfo into CommittedUnit.
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Push CommittedUnit into nodes.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        list := AtomicLinkedList::from_elems( nodes );
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="402" y="1539" fill="#000000" font-family="Helvetica" font-size="12px">
                    LsmDirManager:load_or_new()...
                </text>
            </switch>
        </g>
        <rect x="1840" y="2680" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 2680px; margin-left: 1840px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommittedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; CommittedEntrySet&lt;PK,PV&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) CommittedEntrySet&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + commit_info: CommitInfo
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_staging( StagingUnit, CommitVer ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_compacted( CompactedUnit, CommitInfo ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( UnitDir ) -&gt; Res&lt; Self, UnitDir &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1840" y="2692" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommittedUnit...
                </text>
            </switch>
        </g>
        <rect x="1840" y="2240" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 2240px; margin-left: 1840px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        StagingUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: WritableMemLog&lt;PK,PV&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                        <br/>
                                    </li>
                                    <li>
                                        (value) WritableMemLog&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new( UnitDir ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1840" y="2252" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    StagingUnit...
                </text>
            </switch>
        </g>
        <rect x="1040" y="2120" width="360" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 200px; padding-top: 2120px; margin-left: 1040px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        UnitDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_prim_path() -&gt; PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_scnd_path( ScndIdxNum ) -&gt; PathBuf
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_commit_info_path() -&gt; PathBuf
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_commit_info() -&gt; Res&lt; CommitInfo &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + list_scnd_paths() -&gt; Iter&lt; (PathBuf, ScndIdxNum) &gt;
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1040" y="2132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    UnitDir...
                </text>
            </switch>
        </g>
        <rect x="1080" y="2400" width="280" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 282px; height: 240px; padding-top: 2400px; margin-left: 1080px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 280px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitInfo
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_hi_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_lo_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + timestamp_num: TimestampNum
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + data_type: either "memlog" or "sstable"
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + cmp()
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1080" y="2412" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitInfo...
                </text>
            </switch>
        </g>
        <rect x="880" y="2720" width="560" height="600" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 562px; height: 600px; padding-top: 2720px; margin-left: 880px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 560px; height: 600px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#00994d">
                                            LsmState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + list: AtomicLinkedList&lt; LsmElem &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + next_commit_ver: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + curr_list_ver: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + held_list_vers: BTreeMap&lt; ListVer, usize &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + hold_curr_list_ver() -&gt; ListVer
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + unhold_list_ver( ListVer ) -&gt; Option&lt; GcAbleInterval &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ol>
                                    <li>
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        [ arg_ver ] -= 1; and if zero, remove the entry.
                                    </li>
                                    <li>
                                        If {arg_ver !=
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        } &amp;&amp; {the entry was removed} :
                                    </li>
                                    <ol>
                                        <li>
                                            Search in
                                            <font color="#00994d">
                                                held_list_vers
                                            </font>
                                            , and get arg_ver's directly lower and higher still-held vers.
                                        </li>
                                        <li>
                                            If the found high-bound is unbounded :
                                        </li>
                                        <ol>
                                            <li>
                                                Set the high-excl-bound to be
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                .
                                            </li>
                                        </ol>
                                        <li>
                                            The newly opened up GC'able ListVer itv := ( lo ... hi ). Return this itv.
                                        </li>
                                    </ol>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + hold_and_unhold_list_ver( ListVer ) -&gt; ( ListVer, Opt&lt; GcAbleInterval &gt; )
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990099">
                                        update_or_push
                                    </font>
                                    ( update_or_specify_head ) -&gt; *const ListNode&lt; LsmElem &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Args:
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        FnOnce( Opt&lt; &amp;LsmElemContent &gt; ) -&gt; Opt&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                        <br/>
                                        // Read the existing head node, and return whether to push a node.
                                    </li>
                                </ul>
                                <p style="margin: 0px 0px 0px 4px">
                                    Returns the resulting head.
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="880" y="2732" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmState...
                </text>
            </switch>
        </g>
        <path d="M 658.18 2360 L 694.55 2280" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 696.53 2285.3 L 689.25 2281.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="320" y="2360" width="440" height="520" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 520px; padding-top: 2360px; margin-left: 320px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 520px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Db
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#3399ff">
                                        db_state
                                    </font>
                                    <span>
                                        :
                                    </span>
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        RwLock
                                    </span>
                                    <span>
                                        &lt; DbState &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + lsm_dir_mgr: LsmDirManager
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#00994d">
                                        lsm_state
                                    </font>
                                    :
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        Mutex
                                    </span>
                                    &lt; LsmState &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // Tokio's `watch` channel is like a Condition Variable.
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span style="color: rgb(153 , 0 , 0)">
                                        replace_avail
                                    </span>
                                    : watch::Sender&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        gc_avail
                                    </font>
                                    : mpsc::Sender&lt; GcAbleInterval &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        scnd_idx_request
                                    </font>
                                    : mpsc::Sender&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Sender&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + load_or_new( PathBuf ) -&gt; Res&lt;( ... )&gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Returns:
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        Arc&lt;Self&gt;
                                    </li>
                                    <li>
                                        fc_job_task: Future&lt;Res&lt;()&gt;&gt;
                                        <br/>
                                    </li>
                                    <li>
                                        scnd_idx_creation_job_task: Future&lt;Res&lt;()&gt;&gt;
                                    </li>
                                </ul>
                                <div>
                                    <div>
                                        + terminate()
                                    </div>
                                </div>
                                <div>
                                    <ol>
                                        <li>
                                            With
                                            <font color="#3399ff">
                                                db_state
                                            </font>
                                            .lock_exclusive() :
                                        </li>
                                        <ol>
                                            <li>
                                                set
                                                <font color="#3399ff">
                                                    is_terminating
                                                </font>
                                                to true;
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#990000">
                                                is_terminating
                                            </font>
                                            .send( () );
                                        </li>
                                        <li>
                                            // Do it in this order.
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="320" y="2372" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Db...
                </text>
            </switch>
        </g>
        <rect x="4680" y="2160" width="170" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 172px; height: 80px; padding-top: 2160px; margin-left: 4680px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 170px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        GcAbleInterval
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + lo_excl: Opt&lt; ListVer &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + hi_excl: ListVer
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4680" y="2172" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    GcAbleInterval...
                </text>
            </switch>
        </g>
        <path d="M 790 2280 L 1007.15 2714.3" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1009.5 2719 L 1003.24 2714.3 L 1007.15 2714.3 L 1009.5 2711.17 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2501px; margin-left: 900px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="900" y="2504" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 730.48 2080 L 722.86 2000" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="560" y="2080" width="360" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 200px; padding-top: 2080px; margin-left: 560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        LsmDirManager
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - lsm_dir_path: PathBuf
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - next_unit_dir_num: AtomicU64
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt;( Self,
                                    <font color="#00994d">
                                        LsmState
                                    </font>
                                    )&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_new_unit_dir_path() -&gt; UnitDir
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="560" y="2092" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmDirManager...
                </text>
            </switch>
        </g>
        <rect x="4920" y="1920" width="200" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 120px; padding-top: 1920px; margin-left: 4920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        NodeListVerInterval
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + lo_incl: ListVer
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + hi_incll: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - log_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + cmp()
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4920" y="1932" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    NodeListVerInterval...
                </text>
            </switch>
        </g>
        <rect x="920" y="3720" width="400" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 160px; padding-top: 3720px; margin-left: 920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AtomicLinkedListSnapshot&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_excl_ptr: NonNull&lt; ListNode&lt; T &gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + tail_excl_ptr: Opt&lt; NonNull&lt; ListNode&lt; T &gt; &gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + iter() -&gt; Iter&lt; &amp;T &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="920" y="3732" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AtomicLinkedListSnapshot&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="4480" y="2920" width="480" height="240" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 2927px; margin-left: 4482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    poll_held_list_vers_then_gc
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        While true :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                With
                                            </span>
                                            <font color="#00994d">
                                                lsm_state
                                            </font>
                                            <span>
                                                .lock_exclusive() :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If
                                                </span>
                                                <font color="#00994d">
                                                    held_list_vers
                                                </font>
                                                <span>
                                                    is empty :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                Sleep a bit;
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        For each (_itv, nodes) in
                                        <u>
                                            dangling_nodes
                                        </u>
                                        :
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            For each node :
                                        </li>
                                        <ol>
                                            <li>
                                                Remove files. Drop memory.
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4482" y="2939" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::poll_held_list_vers_then_gc()...
                </text>
            </switch>
        </g>
        <rect x="7280" y="3320" width="440" height="360" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 360px; padding-top: 3320px; margin-left: 7280px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 360px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SICrJob
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: Arc&lt;Db&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - working_dir: PathBuf
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        // rx
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        scnd_idx_creation_work
                                    </font>
                                    : mpsc::Receiver&lt; ScndIdxCreationWork &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Receiver&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7280" y="3332" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SICrJob...
                </text>
            </switch>
        </g>
        <path d="M 5160 2700.57 L 4880.6 2916.11" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4876.44 2919.32 L 4879.85 2912.27 L 4880.6 2916.11 L 4884.12 2917.81 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2700 1070 L 2700 1103.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2700 1108.88 L 2696.5 1101.88 L 2700 1103.63 L 2703.5 1101.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2700" cy="1050" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1050px; margin-left: 2641px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Client calls get_*() and put()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2700" y="1054" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Client calls get_*()...
                </text>
            </switch>
        </g>
        <ellipse cx="2698.8" cy="820" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2698.8 830 L 2699.81 863.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2699.97 868.88 L 2696.26 861.99 L 2699.81 863.63 L 2703.25 861.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2700 990 L 2700 1023.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2700 1028.88 L 2696.5 1021.88 L 2700 1023.63 L 2703.5 1021.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2640" y="950" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 970px; margin-left: 2641px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2700" y="974" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    new
                </text>
            </switch>
        </g>
        <path d="M 2700 910 L 2700 943.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2700 948.88 L 2696.5 941.88 L 2700 943.63 L 2703.5 941.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2700" cy="890" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 890px; margin-left: 2641px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::new()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2700" y="894" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::new()
                </text>
            </switch>
        </g>
        <path d="M 2699.7 1150 L 2699.19 1183.73" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2699.12 1188.98 L 2695.72 1181.93 L 2699.19 1183.73 L 2702.72 1182.03 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2640" y="1110" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1130px; margin-left: 2641px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                pre-commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2700" y="1134" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    pre-commit
                </text>
            </switch>
        </g>
        <path d="M 2713.97 1224.94 L 2760.3 1270.59" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2764.04 1274.27 L 2756.59 1271.85 L 2760.3 1270.59 L 2761.51 1266.87 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1251px; margin-left: 2740px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2740" y="1254" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to commit
                </text>
            </switch>
        </g>
        <path d="M 2690.26 1227.15 L 2472.57 1664.56" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2470.23 1669.26 L 2470.21 1661.44 L 2472.57 1664.56 L 2476.48 1664.56 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1448px; margin-left: 2580px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to abort
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2580" y="1451" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to abort
                </text>
            </switch>
        </g>
        <path d="M 2955 1545 L 3000.5 1590.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3004.21 1594.21 L 2996.78 1591.73 L 3000.5 1590.5 L 3001.73 1586.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1571px; margin-left: 2981px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                yes conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2981" y="1574" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    yes conflict
                </text>
            </switch>
        </g>
        <path d="M 3111.77 1670.39 L 3154.86 1598.57 Q 3160 1590 3157.25 1580.38 L 3002.75 1039.62 Q 3000 1030 2990.19 1028.04 L 2766.24 983.25" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2761.1 982.22 L 2768.65 980.16 L 2766.24 983.25 L 2767.27 987.02 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3100" cy="1690" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1690px; margin-left: 3041px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::reset()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3100" y="1694" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::reset()
                </text>
            </switch>
        </g>
        <path d="M 3035 1625 L 3076.52 1666.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3080.24 1670.24 L 3072.81 1667.76 L 3076.52 1666.52 L 3077.76 1662.81 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1649px; margin-left: 3059px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                not exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3059" y="1652" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    not exceeded
                </text>
            </switch>
        </g>
        <path d="M 3020 1590 L 3080 1610 L 3020 1630 L 2960 1610 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1610px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Retry limit exceeded?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="1614" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Retry limit exceeded?
                </text>
            </switch>
        </g>
        <path d="M 2978 1616 L 2521.45 1681.22" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2516.26 1681.96 L 2522.69 1677.51 L 2521.45 1681.22 L 2523.68 1684.44 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1649px; margin-left: 2747px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2747" y="1652" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    exceeded
                </text>
            </switch>
        </g>
        <path d="M 2460 1710 L 2460 1743.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2460 1748.88 L 2456.5 1741.88 L 2460 1743.63 L 2463.5 1741.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2460" cy="1690" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1690px; margin-left: 2401px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::close()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2460" y="1694" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::close()
                </text>
            </switch>
        </g>
        <path d="M 2845 1385 L 2803.48 1426.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2799.76 1430.24 L 2802.24 1422.81 L 2803.48 1426.52 L 2807.19 1427.76 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1409px; margin-left: 2821px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                up-to-date
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2821" y="1412" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    up-to-date
                </text>
            </switch>
        </g>
        <path d="M 2875 1385 L 2916.52 1426.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2920.24 1430.24 L 2912.81 1427.76 L 2916.52 1426.52 L 2917.76 1422.81 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1409px; margin-left: 2899px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                there is gap
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2899" y="1412" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    there is gap
                </text>
            </switch>
        </g>
        <path d="M 2860 1350 L 2920 1370 L 2860 1390 L 2800 1370 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1370px; margin-left: 2801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is snapshot up-to-date?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2860" y="1374" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is snapshot up-to-da...
                </text>
            </switch>
        </g>
        <ellipse cx="2780" cy="1450" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1450px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::commit()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="1454" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::commit()
                </text>
            </switch>
        </g>
        <path d="M 2940 1470 L 2940 1503.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2940 1508.88 L 2936.5 1501.88 L 2940 1503.63 L 2943.5 1501.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2940" cy="1450" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1450px; margin-left: 2881px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::has_conflict()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2940" y="1454" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::has_conflict()
                </text>
            </switch>
        </g>
        <path d="M 2916 1518 L 2868.94 1494.47 Q 2860 1490 2860 1480 L 2860 1396.37" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2860 1391.12 L 2863.5 1398.12 L 2860 1396.37 L 2856.5 1398.12 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1473px; margin-left: 2860px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                no conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2860" y="1476" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    no conflict
                </text>
            </switch>
        </g>
        <path d="M 2940 1510 L 3000 1530 L 2940 1550 L 2880 1530 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1530px; margin-left: 2881px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is there any conflict?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2940" y="1534" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is there any conflic...
                </text>
            </switch>
        </g>
        <ellipse cx="2460" cy="1760" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2698.8 1190 L 2758.8 1210 L 2698.8 1230 L 2638.8 1210 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1210px; margin-left: 2640px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Client decision?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2699" y="1214" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Client decision?
                </text>
            </switch>
        </g>
        <path d="M 2795 1305 L 2840.5 1350.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2844.21 1354.21 L 2836.78 1351.73 L 2840.5 1350.5 L 2841.73 1346.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1331px; margin-left: 2821px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                try to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2821" y="1334" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    try to commit
                </text>
            </switch>
        </g>
        <path d="M 2767.37 1305.79 L 2479.44 1665.7" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2476.16 1669.8 L 2477.8 1662.15 L 2479.44 1665.7 L 2483.26 1666.52 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1488px; margin-left: 2622px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                nothing to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2622" y="1491" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    nothing to commit
                </text>
            </switch>
        </g>
        <path d="M 2780 1270 L 2840 1290 L 2780 1310 L 2720 1290 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1290px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Are there any data to commit?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="1294" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Are there any data t...
                </text>
            </switch>
        </g>
        <path d="M 2480 918.52 L 2644.08 897.25" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="1840" y="800" width="640" height="320" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 638px; height: 1px; padding-top: 807px; margin-left: 1842px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    new
                                </u>
                                ( db, db_state_guard )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <u>
                                            db
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl := None;
                                            <br/>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .head_excl :=
                                            </span>
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            <span>
                                                () ...
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : dummy.hold_count += 1;
                                            </li>
                                            <li>
                                                Else : push new dummy w/
                                                <br/>
                                                { traversable_list_ver_lo_incl=
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                <span>
                                                    , hold_count=1,
                                                </span>
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                <span>
                                                    =false }
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <u>
                                                snap_next_commit_ver
                                            </u>
                                            :=
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                            <br/>
                                        </li>
                                        <li>
                                            <u>
                                                snap_list_ver
                                            </u>
                                            :=
                                            <font color="#00994d">
                                                hold_curr_list_ver
                                            </font>
                                            ();
                                        </li>
                                    </ol>
                                    <li>
                                        <u>
                                            snap_vec
                                        </u>
                                        := None;
                                    </li>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        <span>
                                            := new empty;
                                            <br/>
                                        </span>
                                        <u>
                                            dependent_itvs_scnds
                                        </u>
                                        <span>
                                            := new empty;
                                        </span>
                                    </li>
                                    <li>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            := None;
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1842" y="819" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::new( db, db_state_guard )...
                </text>
            </switch>
        </g>
        <path d="M 3200 1252.39 L 2910 1330" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3905.84 1520 L 4461.88 2259.2" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4465.04 2263.4 L 4458.03 2259.91 L 4461.88 2259.2 L 4463.62 2255.7 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="3200" y="760" width="840" height="760" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 838px; height: 1px; padding-top: 767px; margin-left: 3202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                pub Txn::
                                <u>
                                    try_commit_once
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <u>
                                            db
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                If
                                            </span>
                                            <u>
                                                snap_next_commit_ver
                                            </u>
                                            <span>
                                                !=
                                            </span>
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            <span>
                                                :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <u>
                                                    snap
                                                </u>
                                                .tail_excl.hold_count -= 1;    if
                                                <u>
                                                    snap
                                                </u>
                                                .tail_excl is Some
                                                <br/>
                                                <u>
                                                    snap
                                                </u>
                                                .tail_excl = Some(
                                                <u>
                                                    snap
                                                </u>
                                                .head_excl );
                                                <br/>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .head_excl :=
                                                </span>
                                                <font color="#990099">
                                                    update_or_push
                                                </font>
                                                <span>
                                                    () ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    If the existing head is a dummy : dummy.hold_count += 1;
                                                </li>
                                                <li>
                                                    Else : push new dummy w/
                                                    <br/>
                                                    { traversable_list_ver_lo_incl=
                                                    <font color="#00994d">
                                                        curr_list_ver
                                                    </font>
                                                    , hold_count=1,
                                                    <font color="#cccc00">
                                                        is_fence
                                                    </font>
                                                    =false }
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    If {prior
                                                </span>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .tail_excl became non-held} :
                                                </span>
                                                <u>
                                                    db
                                                </u>
                                                <span>
                                                    .
                                                </span>
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    replace_avail
                                                </span>
                                                <span>
                                                    .send( () );
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <u>
                                                    snap_next_commit_ver
                                                </u>
                                                =
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                ;
                                            </li>
                                            <li>
                                                gc_able_itv :=
                                                <font color="#00994d">
                                                    unhold_list_ver
                                                </font>
                                                (
                                                <u>
                                                    snap_list_ver
                                                </u>
                                                );
                                                <br/>
                                                <u>
                                                    snap_list_ver
                                                </u>
                                                =
                                                <font color="#00994d">
                                                    hold_curr_list_ver
                                                </font>
                                                ();
                                            </li>
                                            <li>
                                                if gc_able_itv is Some :
                                                <u>
                                                    db
                                                </u>
                                                .
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    gc_avail
                                                </span>
                                                .send( gc_able_itv );
                                                <br/>
                                            </li>
                                            <li>
                                                return "need to check for conflict";
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    committed_unit := CommittedUnit::from(
                                                </span>
                                                <u>
                                                    staging
                                                </u>
                                                <span>
                                                    .take(),
                                                </span>
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                <span>
                                                    );
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        // Serializing is expensive, and we're doing it under mutex guard!
                                                    </span>
                                                    <br/>
                                                    <span>
                                                        On disk, serialize CommitInfo with ...
                                                    </span>
                                                    <br/>
                                                </li>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            commit_ver_lo_incl == commit_ver_hi_incl :=
                                                        </span>
                                                        <font color="#00994d">
                                                            next_commit_ver
                                                        </font>
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            timestamp_num := 0
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                                <li>
                                                    <span>
                                                        In memory, move each WritableMemLog into ReadonlyMemLog.
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    node := Box( ListNode( ... committed_unit ... ) ) with ...
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        traversable_list_ver_lo_incl =
                                                    </span>
                                                    <font color="#00994d">
                                                        curr_list_ver
                                                    </font>
                                                    <br/>
                                                </li>
                                            </ol>
                                            <li>
                                                <font>
                                                    list.
                                                </font>
                                                <font color="#990099">
                                                    push
                                                </font>
                                                <span>
                                                    ( node );
                                                </span>
                                            </li>
                                            <li>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .tail_excl
                                                </span>
                                                <span>
                                                    .hold_count -= 1;    if
                                                </span>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .tail_excl
                                                </span>
                                                <span>
                                                    is Some
                                                    <br/>
                                                </span>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .head_excl
                                                </span>
                                                <span>
                                                    .hold_count -= 1;
                                                </span>
                                            </li>
                                            <li>
                                                <u>
                                                    db
                                                </u>
                                                .
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    replace_avail
                                                </span>
                                                .send( () );
                                                <br/>
                                                // The list is definitely replaceable, due to the presence of a new MemLog.
                                            </li>
                                            <li>
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                += 1;
                                            </li>
                                            <li>
                                                <span>
                                                    gc_able_itv :=
                                                    <font color="#00994d">
                                                        unhold_list_ver
                                                    </font>
                                                    (
                                                    <u>
                                                        snap_list_ver
                                                    </u>
                                                    );
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    if gc_able_itv is Some :
                                                </span>
                                                <u>
                                                    db
                                                </u>
                                                <span>
                                                    .
                                                </span>
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    gc_avail
                                                </span>
                                                <span>
                                                    .send( gc_able_itv );
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    return "just committed";
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3202" y="779" fill="#000000" font-family="Helvetica" font-size="12px">
                    pub Txn::try_commit_once()...
                </text>
            </switch>
        </g>
        <path d="M 3280 1565.16 L 2982.09 1464.25" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="3280" y="1560" width="560" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 1567px; margin-left: 3282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                private Txn::
                                <u>
                                    has_conflict()
                                </u>
                                <br/>
                                <ol>
                                    <li>
                                        committed_units :=
                                        <u>
                                            snap
                                        </u>
                                        .filter( keep CommittedUnit and ignore Dummy );
                                    </li>
                                    <li>
                                        <span>
                                            For each CommittedUnit :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            For each of {PI and SIs} that was written-to in
                                            <u>
                                                staging
                                            </u>
                                            :
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If {
                                                </span>
                                                <u>
                                                    dependent_itvs_*
                                                </u>
                                                <span>
                                                    &lt;--&gt; CommittedEntrySet } overlap :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        Return "yes conflict".
                                                    </span>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            Return "no conflict".
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3282" y="1579" fill="#000000" font-family="Helvetica" font-size="12px">
                    private Txn::has_conflict()...
                </text>
            </switch>
        </g>
        <path d="M 2920 1340 L 2941.68 1354.45 Q 2950 1360 2942.47 1366.59 L 2797.53 1493.41 Q 2790 1500 2781.06 1495.53 L 2698.94 1454.47 Q 2690 1450 2697.68 1443.6 L 2862.32 1306.4 Q 2870 1300 2877.81 1306.25 L 2920 1340" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/>
        <path d="M 2780 1470 L 2780 1503.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 1508.88 L 2776.5 1501.88 L 2780 1503.63 L 2783.5 1501.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2780" cy="1520" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 3280 1801.6 L 3128.41 1707.62" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3920 2099.31 L 4456.29 2265.74" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4461.3 2267.3 L 4453.58 2268.57 L 4456.29 2265.74 L 4455.65 2261.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="3280" y="1800" width="640" height="400" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 638px; height: 1px; padding-top: 1807px; margin-left: 3282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    reset
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <u>
                                            db
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl.hold_count -= 1;    if
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl is Some
                                            <br/>
                                            <u>
                                                snap
                                            </u>
                                            .head_excl.hold_count -= 1;
                                            <br/>
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl = None;
                                            <br/>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .head_excl :=
                                            </span>
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            <span>
                                                () ...
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : dummy.hold_count += 1;
                                            </li>
                                            <li>
                                                Else : push new dummy w/
                                                <br/>
                                                { traversable_list_ver_lo_incl=
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                <span>
                                                    , hold_count=1,
                                                </span>
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                <span>
                                                    =false }
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            If {prior
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl and/or
                                            <u>
                                                snap
                                            </u>
                                            .head_excl became non-held} :
                                            <u>
                                                db
                                            </u>
                                            .
                                            <span style="color: rgb(153 , 0 , 0)">
                                                replace_avail
                                            </span>
                                            .send( () );
                                        </li>
                                        <li>
                                            <u>
                                                snap_next_commit_ver
                                            </u>
                                            =
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                        </li>
                                        <li>
                                            gc_able_itv :=
                                            <font color="#00994d">
                                                unhold_list_ver
                                            </font>
                                            (
                                            <u>
                                                snap_list_ver
                                            </u>
                                            );
                                            <br/>
                                            <u>
                                                snap_list_ver
                                            </u>
                                            =
                                            <font color="#00994d">
                                                hold_curr_list_ver
                                            </font>
                                            ();
                                            <br/>
                                        </li>
                                        <li>
                                            if gc_able_itv is Some :
                                            <u>
                                                db
                                            </u>
                                            .
                                            <span style="color: rgb(153 , 0 , 0)">
                                                gc_avail
                                            </span>
                                            .send( gc_able_itv );
                                        </li>
                                    </ol>
                                    <li>
                                        if
                                        <u>
                                            snap_vec
                                        </u>
                                        is Some :
                                        <u>
                                            snap_vec
                                        </u>
                                        .clear();
                                    </li>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        .clear();
                                        <br/>
                                        <u>
                                            dependent_itvs_scnds
                                        </u>
                                        .clear();
                                    </li>
                                    <li>
                                        if
                                        <u>
                                            staging
                                        </u>
                                        is Some :
                                        <u>
                                            staging
                                        </u>
                                        .clear();
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3282" y="1819" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::reset()...
                </text>
            </switch>
        </g>
        <path d="M 2626.67 1840 L 2480.84 1708.75" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2940 2080 L 3231.68 2274.45 Q 3240 2280 3250 2279.92 L 4453.71 2270.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4458.96 2270.09 L 4451.99 2273.65 L 4453.71 2270.13 L 4451.93 2266.65 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2440" y="1840" width="640" height="240" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 638px; height: 1px; padding-top: 1847px; margin-left: 2442px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    close
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <u>
                                            db
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .tail_excl.hold_count -= 1;    if
                                            </span>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .tail_excl is Some
                                                <br/>
                                            </span>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .head_excl.hold_count -= 1;
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                If {prior
                                            </span>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .tail_excl and/or
                                            </span>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .head_excl became non-held} :
                                            </span>
                                            <u>
                                                db
                                            </u>
                                            <span>
                                                .
                                            </span>
                                            <span style="color: rgb(153 , 0 , 0)">
                                                replace_avail
                                            </span>
                                            <span>
                                                .send( () );
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            gc_able_itv :=
                                            <font color="#00994d">
                                                unhold_list_ver
                                            </font>
                                            (
                                            <u>
                                                snap_list_ver
                                            </u>
                                            );
                                            <br/>
                                        </li>
                                        <li>
                                            if gc_able_itv is Some :
                                            <u>
                                                db
                                            </u>
                                            .
                                            <span style="color: rgb(153 , 0 , 0)">
                                                gc_avail
                                            </span>
                                            .send( gc_able_itv );
                                        </li>
                                    </ol>
                                    <li>
                                        if
                                        <u>
                                            staging
                                        </u>
                                        is Some :
                                        <u>
                                            staging
                                        </u>
                                        .remove_dir();
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2442" y="1859" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::close()...
                </text>
            </switch>
        </g>
        <rect x="1960" y="1200" width="360" height="400" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 400px; padding-top: 1200px; margin-left: 1960px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 400px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Txn&lt;'txn&gt;
                                    </b>
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - db: &amp;'txn Db
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#3399ff">
                                        db_state_guard
                                    </font>
                                    : RwLockReadGuard&lt; 'txn, DbState &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap: AtomicLinkedListSnapshot&lt; LsmElem &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_next_commit_ver: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_list_ver: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_vec: Opt&lt; Vec&lt; &amp;LsmElem &gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // A lazily-initialized Vec collection of
                                    <u>
                                        snap
                                    </u>
                                    .
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dependent_itvs_prim: IntervalSet&lt; &amp;'txn PK &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dependent_itvs_scnds: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) IntervalSet&lt; &amp;'txn SV &gt;
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - staging: Opt&lt; StagingUnit &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1960" y="1212" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Txn&lt;'txn&gt;...
                </text>
            </switch>
        </g>
        <path d="M 4470 2260 L 4480 2270 L 4470 2280 L 4460 2270 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2937.63 720 L 2997.38 940.35 Q 3000 950 2990.51 953.16 L 2742.43 1035.86" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="2560" y="0" width="560" height="720" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 7px; margin-left: 2562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                pub Txn::
                                <u>
                                    get_pk_one
                                </u>
                                ( pk )
                                <br/>
                                <ol>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        <span>
                                            .add( (pk,pk) );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <u>
                                            snap_vec
                                        </u>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        Get one from [stg, snap]. Return result.
                                    </li>
                                </ol>
                                pub Txn::
                                <u>
                                    get_pk_range
                                </u>
                                ( pk_lo, pk_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        <span>
                                            .add( (pk_lo,pk_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <u>
                                            snap_vec
                                        </u>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        K-merge {stg + snap}. Return result.
                                    </li>
                                </ol>
                                pub Txn::
                                <u>
                                    get_sv_range
                                </u>
                                ( sv_spec, sv_lo, sv_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            // This is a simplistic query engine, which depends on exactly one index.
                                            <br/>
                                        </span>
                                        If
                                        <font color="#3399ff">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec] doesn't exist or
                                        </span>
                                        <font color="#3399ff">
                                            is_readable
                                        </font>
                                        <span>
                                            ==false: return failure.
                                            <br/>
                                        </span>
                                        si_num :=
                                        <font color="#3399ff">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec].si_num;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <u>
                                            dependent_itvs_scnds
                                        </u>
                                        <span>
                                            [si_num] doesn't exist: create new empty.
                                            <br/>
                                        </span>
                                        <u>
                                            dependent_itvs_scnds
                                        </u>
                                        <span>
                                            [si_num].add( (sv_lo,sv_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        stg :=
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .map( (stg) -&gt; stg.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        snap :=
                                        <u>
                                            snap_vec
                                        </u>
                                        <span>
                                            .map( (unit) -&gt; unit.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        K-merge {stg + snap}. Return result.
                                    </li>
                                </ol>
                                pub Txn::
                                <u>
                                    put
                                </u>
                                ( pk, new_pv )
                                <br/>
                                <ol>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        .add( (pk,pk) );
                                        <br/>
                                        // We must treat concurrent writes on the same PK as a conflict, because they generally invalidate deltas on SIs in staging.
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <u>
                                            snap_vec
                                        </u>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        old_pv := Get one from [stg, snap];
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            is None: create new empty.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each si_num in
                                        </span>
                                        <u>
                                            db_state_guard
                                        </u>
                                        <span>
                                            .scnd_idxs :
                                            <br/>
                                        </span>
                                        // Assess all SIs, regardless of `
                                        <font color="#3399ff">
                                            is_readable
                                        </font>
                                        <span>
                                            `.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If there is a delta for this SI:
                                        </li>
                                        <ol>
                                            <li>
                                                If
                                                <u>
                                                    staging
                                                </u>
                                                .scnds[si_num] doesn't exist: create new empty.
                                                <br/>
                                                <u>
                                                    staging
                                                </u>
                                                .scnds[si_num].put( the_delta );
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .prim
                                        </span>
                                        <span>
                                            .put( (PK,PV) );
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2562" y="19" fill="#000000" font-family="Helvetica" font-size="12px">
                    pub Txn::get_pk_one( pk )...
                </text>
            </switch>
        </g>
        <path d="M 2060 3120 L 2060 3006.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2060 3001.12 L 2063.5 3008.12 L 2060 3006.37 L 2056.5 3008.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3060px; margin-left: 2060px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2060" y="3063" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <rect x="1840" y="3120" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 3120px; margin-left: 1840px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CompactedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; CommittedEntrySet&lt;PK,PV&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) CommittedEntrySet&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new_empty( StagingUnit, CommitVer ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_empty() -&gt; bool
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1840" y="3132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CompactedUnit...
                </text>
            </switch>
        </g>
        <path d="M 2280 3136.15 L 2427.06 3040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2422.55 3047.73 L 2418.17 3041.03 M 2424.87 3036.65 L 2420.36 3044.38 L 2429.25 3043.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Viewer does not support full SVG 1.1
            </text>
        </a>
    </switch>
</svg>