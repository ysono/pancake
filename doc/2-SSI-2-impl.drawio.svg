<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="7801px" height="3761px" viewBox="-0.5 -0.5 7801 3761" content="&lt;mxfile&gt;&lt;diagram id=&quot;RcHnaSoGghIKxj3INRLX&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs>
        <linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-e6e6e6-1-808080-1-s-0">
            <stop offset="0%" style="stop-color: rgb(230, 230, 230); stop-opacity: 1;"/>
            <stop offset="100%" style="stop-color: rgb(128, 128, 128); stop-opacity: 1;"/>
        </linearGradient>
    </defs>
    <g>
        <path d="M 2204 960 L 2154.04 1584.55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2153.76" cy="1588.04" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2149.13 1595.69 L 2157.11 1596.33 M 2153.48 1591.53 L 2152.8 1600" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2040 715 L 1960 695" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1968.73 693.06 L 1966.79 700.82 M 1959.03 698.88 L 1967.76 696.94 L 1960.97 691.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4557.06 1632.94 L 4976.82 1807.55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4981.67 1809.57 L 4973.86 1810.11 L 4976.82 1807.55 L 4976.55 1803.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5240 1990 L 5046.24 2029.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5041.1 2030.69 L 5047.25 2025.85 L 5046.24 2029.63 L 5048.65 2032.71 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5760 1990 L 6233.85 2117.58" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6238.92 2118.94 L 6231.25 2120.5 L 6233.85 2117.58 L 6233.07 2113.74 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5240 2120 L 5275.4 2155.12" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5279.13 2158.81 L 5271.69 2156.37 L 5275.4 2155.12 L 5276.62 2151.4 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5500 1600 L 5500 1560" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="5240" y="1600" width="520" height="520" fill="rgb(255, 255, 255)" stroke="#cc6600" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 518px; height: 1px; padding-top: 1607px; margin-left: 5242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Actor
                                <u>
                                    flush_and_compact_job
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            While true:
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            `Select` all channels.
                                        </li>
                                        <ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    min_held_list_ver
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    gc_dangling_nodes( mhlv );
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <span>
                                                    <font color="#990000">
                                                        replace_avail
                                                    </font>
                                                    :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    flush_and_compact();
                                                </li>
                                            </ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    scnd_idx_creation_request
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    prep_for_si_creation( req );
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <font color="#990000">
                                                    is_terminating
                                                </font>
                                                <span>
                                                    :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <font color="#990000">
                                            scnd_idx_creation_request
                                        </font>
                                        <span>
                                            .close();
                                        </span>
                                    </li>
                                    <li>
                                        poll_held_list_vers_then_gc();
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5242" y="1619" fill="#000000" font-family="Helvetica" font-size="12px">
                    Actor flush_and_compact_job()...
                </text>
            </switch>
        </g>
        <rect x="4560" y="1960" width="480" height="240" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 1967px; margin-left: 4562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    gc_dangling_nodes
                                </u>
                                ( min_held_list_ver )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            Pop
                                        </span>
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        while max_incl_traversable_list_ver &lt; min_held_list_ver;
                                    </li>
                                    <li>
                                        For each popped node :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                Remove files. Drop memory.
                                            </span>
                                            <br/>
                                        </li>
                                    </ol>
                                </ol>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4562" y="1979" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::gc_dangling_nodes( min_held_list_ver )...
                </text>
            </switch>
        </g>
        <path d="M 5952.7 1770 L 5786.73 1952.6 Q 5780 1960 5789.54 1963.01 L 6233.93 2103.35" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6238.93 2104.93 L 6231.2 2106.16 L 6233.93 2103.35 L 6233.31 2099.48 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5958 1780 C 5954.65 1777.78 5952.63 1774.02 5952.63 1770 C 5952.63 1765.98 5954.65 1762.22 5958 1760 L 6042 1760 C 6045.35 1762.22 6047.37 1765.98 6047.37 1770 C 6047.37 1774.02 6045.35 1777.78 6042 1780 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6042 1760 C 6045.35 1762.22 6047.37 1765.98 6047.37 1770 C 6047.37 1774.02 6045.35 1777.78 6042 1780 C 6038.65 1777.78 6036.63 1774.02 6036.63 1770 C 6036.63 1765.98 6038.65 1762.22 6042 1760" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1787px; margin-left: 6000px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                scnd_idx_creation_request
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6000" y="1800" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    scnd_idx_creati...
                </text>
            </switch>
        </g>
        <rect x="6240" y="1920" width="600" height="560" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1927px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    prep_for_si_creation
                                </u>
                                ( ScndIdxCreationRequest )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            // F+C does a sweep of the LL once, before delivering SICr new work.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                            // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            snap_head_excl :=
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            () ...
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy w/
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false : dummy.
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                .store( true );
                                                <br/>
                                            </li>
                                            <li>
                                                Else : push new dummy w/ { hold_count=0,
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =true }
                                            </li>
                                        </ol>
                                        <li>
                                            output_commit_ver :=
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                            <br/>
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            += 1;
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            traverse_and_compact( snap_head_excl );
                                            <br/>
                                        </span>
                                        // Here, compaction is optional. But we reuse code, and compact anyway.
                                    </li>
                                    <li>
                                        work := ScndIdxCreationWork( snap_head_excl, output_commit_ver, req );
                                        <br/>
                                        <font color="#990000">
                                            scnd_idx_creation_work
                                        </font>
                                        <span>
                                            .send( work );
                                        </span>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="1939" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::prep_for_si_creation( ScndIdxCreationRequest )...
                </text>
            </switch>
        </g>
        <path d="M 620 2240 L 620 2280" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 616 2276 L 624 2276" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 840 2121.94 L 960 2199.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 954.47 2200.55 L 958.81 2193.83" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1216 2680 L 1209.6 2760" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1205.93 2755.69 L 1213.91 2756.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1520 2321.67 L 1584.83 2308.16" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1588.25" cy="2307.45" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1599.18 2301.08 L 1592.17 2306.63 L 1600.82 2308.92 M 1592.17 2306.63 L 1600 2305" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6000 1760 L 6000 1720" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1000 1555 L 1113.65 1564.47" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1118.89 1564.91 L 1111.62 1567.81 L 1113.65 1564.47 L 1112.2 1560.84 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1560px; margin-left: 1060px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                formats new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1060" y="1563" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    formats new
                </text>
            </switch>
        </g>
        <path d="M 1840 2257.14 L 1904.77 2244.8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1908.21" cy="2244.15" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1916.82 2246.58 L 1915.32 2238.72 M 1911.65 2243.5 L 1920 2241.9" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 530 3080 L 509.3 3107.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="507.2" cy="3110.4" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 503.2 3122.4 L 504.8 3113.6 L 496.8 3117.6 M 504.8 3113.6 L 500 3120" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="400" y="2840" width="440" height="240" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 2840px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxsState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + scnd_idxs: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) Arc&lt; SVSpec &gt;
                                    </li>
                                    <li>
                                        (value) ScndIdxState
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - next_scnd_idx_num: ScndIdxNum
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="2852" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxsState...
                </text>
            </switch>
        </g>
        <path d="M 1920 2126.67 L 1849.49 2103.16 Q 1840 2100 1830.74 2096.23 L 1440 1937.04" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1445.21 1934.84 L 1442.2 1942.25" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2360 2242.31 L 2440 2257.69" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2431.39 2260.11 L 2432.9 2252.25 M 2440.76 2253.76 L 2432.14 2256.18 L 2439.24 2261.62" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1866.88 L 1520 1859.38" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1516.39 1863.73 L 1515.64 1855.77" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1810 L 1520 1770" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1518.21 1766.42 L 1512.84 1773.58 L 1521.79 1773.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1920 L 1850.38 2037.25 Q 1860 2040 1868.68 2044.96 L 1914.47 2071.13" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1919.03 2073.73 L 1911.22 2073.3 L 1914.47 2071.13 L 1914.69 2067.22 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1990px; margin-left: 1683px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                load into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1683" y="1993" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    load into
                </text>
            </switch>
        </g>
        <path d="M 2710 2200 L 2723.07 2173.86" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2724.63" cy="2170.73" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2731.79 2165.37 L 2724.63 2161.79 M 2726.2 2167.6 L 2730 2160" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2706.15 2400 L 2718.12 2425.93" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2719.59" cy="2429.1" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2719.31 2438.04 L 2726.57 2434.69 M 2721.05 2432.28 L 2724.62 2440" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2880 2251.88 L 3153.78 2191.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3158.91 2190.86 L 3152.82 2195.78 L 3153.78 2191.99 L 3151.32 2188.94 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2221px; margin-left: 3020px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="2225" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <rect x="2440" y="2200" width="440" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 2207px; margin-left: 2442px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    CommittedEntrySet&lt;K, V&gt;
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li>
                                        RMemLog( ReadOnlyMemlog&lt;K, V&gt; )
                                    </li>
                                    <li>
                                        SSTable( SSTable&lt;K, V&gt; )
                                    </li>
                                </ul>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Entry&lt;K, V&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Entry&lt;K, V&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Entry&lt;K, ()&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2442" y="2219" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum CommittedEntrySet&lt;K, V&gt;:...
                </text>
            </switch>
        </g>
        <path d="M 1400 2900 L 1464.58 2906.46" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1468.06" cy="2906.81" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1480.4 2904.02 L 1472.04 2907.2 L 1479.6 2911.98 M 1472.04 2907.2 L 1480 2908" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1200 3000 L 1200 3073.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="stroke"/>
        <path d="M 1200 3078.88 L 1196.5 3071.88 L 1200 3073.63 L 1203.5 3071.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3040px; margin-left: 1200px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is implicitly related to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1200" y="3043" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is implicitly related to
                </text>
            </switch>
        </g>
        <rect x="1000" y="2760" width="400" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 240px; padding-top: 2760px; margin-left: 1000px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AtomicLinkedList&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_ptr: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + from_elems( Iter&lt;T&gt; ) -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head() -&gt; &amp;ListNode&lt;T&gt;
                                </p>
                                <p></p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#990099">
                                        push_elem
                                    </font>
                                    <span>
                                        ( T ) -&gt; &amp;ListNode&lt;T&gt;
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#990099">
                                        push_node
                                    </font>
                                    ( Box&lt; ListNode&lt;T&gt; &gt; ) -&gt; &amp;ListNode&lt;T&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + iter() -&gt; Iter&lt; &amp;T &gt;
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1000" y="2772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AtomicLinkedList&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1480" y="2880" width="240" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 80px; padding-top: 2880px; margin-left: 1480px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ListNode&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + elem: T
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + next: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1480" y="2892" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ListNode&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1520" y="1800" width="200" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 100px; padding-top: 1800px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 100px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        TimestampNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + inc_from(Iter&lt;Self&gt;) -&gt; Self
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="1812" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    TimestampNum...
                </text>
            </switch>
        </g>
        <rect x="1520" y="1720" width="80" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 82px; height: 60px; padding-top: 1720px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 80px; height: 60px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitVer
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="1732" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitVer...
                </text>
            </switch>
        </g>
        <path d="M 1300 1680 L 1300 1753.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1300 1758.88 L 1296.5 1751.88 L 1300 1753.63 L 1303.5 1751.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1720px; margin-left: 1300px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1300" y="1723" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 1480 1618.57 L 1913.77 1711.52" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1918.91 1712.62 L 1911.33 1714.58 L 1913.77 1711.52 L 1912.8 1707.73 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1666px; margin-left: 1700px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1700" y="1669" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into new
                </text>
            </switch>
        </g>
        <rect x="640" y="3120" width="200" height="160" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 160px; padding-top: 3120px; margin-left: 640px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + inc_from(Iter&lt;Self&gt;) -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + get_and_inc() -&gt; Self
                                    </span>
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="640" y="3132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxNum...
                </text>
            </switch>
        </g>
        <rect x="2560" y="1960" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 1960px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ReadonlyMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + memtable: BTreeMap&lt; K, V &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - log_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; ( &amp;K, &amp;V ) &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; ( &amp;K, &amp;V ) &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="1972" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ReadonlyMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <rect x="2560" y="2440" width="440" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 2440px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SSTable&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - sparse_file_offsets: Vec&lt; (K, u64) &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - kv_file_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + new( Iter&lt; Entry&lt;K, V&gt; &gt;
                                    </span>
                                    <span>
                                        ) -&gt; Res&lt; Self &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Res&lt;( K, V )&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Res&lt;( K, V )&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Res&lt;K&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_file() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="2452" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SSTable&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 2817.5 1840 L 2836.49 1890.64 Q 2840 1900 2836.49 1909.36 L 2819.74 1954.04" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2817.89 1958.95 L 2817.07 1951.17 L 2819.74 1954.04 L 2823.63 1953.63 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1900px; margin-left: 2840px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2840" y="1903" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 2903.81 1840 L 3155.05 2042.92" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3159.13 2046.22 L 3151.49 2044.55 L 3155.05 2042.92 L 3155.88 2039.1 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1944px; margin-left: 3032px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3032" y="1947" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <path d="M 2742.5 1840 L 2723.51 1890.64 Q 2720 1900 2723.51 1909.36 L 2742.5 1960" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2737.35 1957.66 L 2744.84 1954.85" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2560" y="1640" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 1640px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        WritableMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + r_memlog: ReadonlyMemLog&lt;K, V&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + log_writer: DatumWriter
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + put( K, V ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + flush() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + into() -&gt; ReadonlyMemLog&lt;K,V&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="1652" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    WritableMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 3160 2482.59 L 3006.24 2513.91" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3001.1 2514.96 L 3007.26 2510.14 L 3006.24 2513.91 L 3008.65 2516.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2499px; margin-left: 3080px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                constructs
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3080" y="2502" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    constructs
                </text>
            </switch>
        </g>
        <rect x="3160" y="2360" width="320" height="180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2367px; margin-left: 3162px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                enum
                                <b>
                                    Entry
                                </b>
                                &lt;'a, K, V&gt; {
                                <br/>
                                Ref(( &amp;'a K, &amp;'a V )),
                                <br/>
                                Own(Res&lt;( K, V )&gt;),
                                <br/>
                                }
                                <br/>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + try_borrow() -&gt; Res&lt;( &amp;'a K, &amp;'a V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + take_kv() -&gt; Res&lt;( K, V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    etc
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3162" y="2379" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    enum Entry&lt;'a, K, V&gt; {...
                </text>
            </switch>
        </g>
        <path d="M 3308.28 2280 L 3313.35 2353.65" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3313.72 2358.88 L 3309.74 2352.14 L 3313.35 2353.65 L 3316.73 2351.66 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2320px; margin-left: 3311px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                produces
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3311" y="2323" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    produces
                </text>
            </switch>
        </g>
        <rect x="3160" y="2040" width="280" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 2047px; margin-left: 3162px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                fn
                                <b>
                                    merge_committed_entrysets
                                </b>
                                (
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K,V&gt; &gt;
                                <br/>
                                <br/>
                                fn
                                <b>
                                    merge_txnlocal_and_committed_entrysets
                                </b>
                                (
                                <br/>
                                Opt&lt; &amp;WritableMemLog&lt;K, V&gt; &gt;,
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K,V&gt; &gt;
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3162" y="2059" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    fn merge_committed_entrysets(...
                </text>
            </switch>
        </g>
        <path d="M 2360 1753.13 L 2560 1746.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2556.13 1751 L 2555.88 1743" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2140 1920 L 2140 2033.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2140 2038.88 L 2136.5 2031.88 L 2140 2033.63 L 2143.5 2031.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1980px; margin-left: 2140px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2140" y="1983" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 5280 1360.87 L 5215.44 1355.26" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="5211.95" cy="1354.95" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 5199.65 1357.9 L 5207.97 1354.61 L 5200.35 1349.93 M 5207.97 1354.61 L 5200 1353.91" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="5280" y="1200" width="440" height="360" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 360px; padding-top: 1200px; margin-left: 5280px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 360px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        FCJob
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: Arc&lt; DB &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dangling_nodes: VecDeque&lt; DanglingNodeSet &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    // rx
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        min_held_list_ver
                                    </font>
                                    : watch::Receiver&lt; ListVer &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <span style="color: rgb(153 , 0 , 0)">
                                        replace_avail
                                    </span>
                                    : watch::Receiver&lt; () &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        scnd_idx_creation_request
                                    </font>
                                    : mpsc::Receiver&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Receiver&lt; () &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        // tx
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        sicr_work
                                    </font>
                                    : mpsc::Sender&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5280" y="1212" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    FCJob...
                </text>
            </switch>
        </g>
        <path d="M 6240 1711.33 L 6053.39 1768.15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6048.37 1769.67 L 6054.05 1764.29 L 6053.39 1768.15 L 6056.09 1770.98 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 160 1680 L 280 1680 L 280 1930 L 240 1930 L 220 1960 L 220 1930 L 160 1930 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,220,1820)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 248px; height: 1px; padding-top: 1767px; margin-left: 82px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                If a thread is to lock both
                                <font color="#00cccc">
                                    db_state
                                </font>
                                and
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                , it must lock
                                <font color="#00cccc">
                                    db_state
                                </font>
                                first, then
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                .
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="82" y="1779" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    If a thread is to lock both db_state and...
                </text>
            </switch>
        </g>
        <rect x="1200" y="1000" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1007px; margin-left: 1202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    File paths
                                </u>
                                <br/>
                                <ul>
                                    <li>
                                        db_root/
                                    </li>
                                    <ul>
                                        <li>
                                            scnd_idxs_state.txt
                                            <br/>
                                            (Contains a) definitions of all secondary indexes, b) next_scnd_idx_num.)
                                        </li>
                                        <li>
                                            lsm/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt;anti_collision_num&gt;/
                                                <br/>
                                                (Either StagingUnit or CommittedUnit.)
                                            </li>
                                            <ul>
                                                <li>
                                                    pi.kv
                                                </li>
                                                <li>
                                                    si-&lt;scnd_idx_num&gt;.kv
                                                </li>
                                                <li>
                                                    (... other SIs)
                                                </li>
                                                <li>
                                                    (All entrysets (PI or SI) are optional.)
                                                </li>
                                                <li>
                                                    commit_info.txt
                                                    <br/>
                                                    (This file is present iff this unit was attempted commitment.
                                                    <br/>
                                                    There is currently no way to distinguish a failed and a finalized commit.)
                                                </li>
                                            </ul>
                                            <li>
                                                (... other unit dirs)
                                            </li>
                                        </ul>
                                        <li>
                                            si_cr_job/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt; temporary SSTables &gt;
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1202" y="1019" fill="#000000" font-family="Helvetica" font-size="12px">
                    File paths...
                </text>
            </switch>
        </g>
        <rect x="1800" y="760" width="120" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 122px; height: 80px; padding-top: 760px; margin-left: 1800px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 120px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Interval&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + lo_incl: Opt&lt;T&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + hi_incl: Opt&lt;T&gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1800" y="772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Interval&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1600" y="2200" width="240" height="160" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 238px; height: 1px; padding-top: 2207px; margin-left: 1602px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    LsmElem
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li>
                                        Unit( CommittedUnit )
                                    </li>
                                    <li>
                                        Dummy{ ... }
                                    </li>
                                    <ul>
                                        <li>
                                            hold_count: AtomicUsize
                                            <br/>
                                        </li>
                                        <li>
                                            <font color="#cccc00">
                                                is_fence
                                            </font>
                                            : AtomicBool
                                        </li>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1602" y="2219" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum LsmElem:...
                </text>
            </switch>
        </g>
        <path d="M 560 3200 L 640 3200" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 636 3204 L 636 3196" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="320" y="3120" width="240" height="160" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 160px; padding-top: 3120px; margin-left: 320px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnd_idx_num: ScndIdxNum
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#00cccc">
                                        is_readable
                                    </font>
                                    : bool
                                </p>
                                <div>
                                    <hr size="1"/>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + ser( ... ) -&gt; Res&lt; () &gt;
                                    </p>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + deser( ... ) -&gt; Res&lt; Self &gt;
                                    </p>
                                </div>
                                <div>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="320" y="3132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxState...
                </text>
            </switch>
        </g>
        <rect x="5320" y="200" width="800" height="600" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 798px; height: 1px; padding-top: 207px; margin-left: 5322px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    TODO
                                </b>
                                <br/>
                                <ul>
                                    <li>
                                        <span>
                                            Txn
                                        </span>
                                    </li>
                                    <ul>
                                        <li>
                                            <span>
                                                Handle this anomaly:
                                            </span>
                                            <br/>
                                        </li>
                                        <ul>
                                            <li>
                                                <span>
                                                    1) commit_info.txt is written
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    2) crash
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    Problem: Actually committed CommittedUnit vs never pushed CommittedUnit are indistinguishable.
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    Possible solution:
                                                </span>
                                                <br/>
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        1) Txn::commit() writes commit_info.txt with timestamp_num=None
                                                    </span>
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        2) Txn::commit() pushes to LL
                                                    </span>
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        3) Txn::commit() notifies F+C
                                                    </span>
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        4) F+C goes through recent commits, and sets timestamp_num=Some(zero)
                                                    </span>
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        5) F+C messages back
                                                    </span>
                                                    Txn::commit()
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        6) Txn::commit() returns
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ul>
                                        </ul>
                                    </ul>
                                    <li>
                                        <span>
                                            F+C
                                        </span>
                                        <br/>
                                    </li>
                                    <ul>
                                        <li>
                                            <span>
                                                Levelled compaction.
                                            </span>
                                        </li>
                                        <ul>
                                            <li>
                                                <span>
                                                    Each CommittedUnit can have levelled compaction within.
                                                </span>
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div style="text-align: right">
                                    <span style="text-align: center">
                                        https://github.com/ysono/pancake/
                                    </span>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5322" y="219" fill="#000000" font-family="Helvetica" font-size="12px">
                    TODO...
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1650 L 5234.3 1728" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5239 1730.33 L 5231.17 1730.35 L 5234.3 1728 L 5234.29 1724.08 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4988 1660 C 4984.65 1657.78 4982.63 1654.02 4982.63 1650 C 4982.63 1645.98 4984.65 1642.22 4988 1640 L 5072 1640 C 5075.35 1642.22 5077.37 1645.98 5077.37 1650 C 5077.37 1654.02 5075.35 1657.78 5072 1660 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1640 C 5075.35 1642.22 5077.37 1645.98 5077.37 1650 C 5077.37 1654.02 5075.35 1657.78 5072 1660 C 5068.65 1657.78 5066.63 1654.02 5066.63 1650 C 5066.63 1645.98 5068.65 1642.22 5072 1640" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1667px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is_terminating
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1680" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    is_terminating
                </text>
            </switch>
        </g>
        <path d="M 6920 3027.14 L 6738.51 3195.67" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6734.67 3199.24 L 6737.41 3191.91 L 6738.51 3195.67 L 6742.18 3197.04 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6840 3316.12 L 6956.47 3291.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6961.61 3290.23 L 6955.49 3295.11 L 6956.47 3291.33 L 6954.03 3288.27 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7280 2860 L 7360 2860" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="6920" y="2680" width="360" height="360" fill="rgb(255, 255, 255)" stroke="#cccc00" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 358px; height: 1px; padding-top: 2687px; margin-left: 6922px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Actor
                                <u>
                                    scnd_idx_creation_job
                                </u>
                                ()
                                <br/>
                                <ul>
                                    <li>
                                        While true:
                                    </li>
                                    <ul>
                                        <li>
                                            `Select` all channels.
                                        </li>
                                        <ul>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    scnd_idx_creation_work
                                                </font>
                                                :
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        do_create();
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        notify_end_of_work();
                                                    </span>
                                                </li>
                                            </ul>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <font color="#990000">
                                                    is_terminating
                                                </font>
                                                <span>
                                                    :
                                                </span>
                                                <br/>
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ul>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6922" y="2699" fill="#000000" font-family="Helvetica" font-size="12px">
                    Actor scnd_idx_creation_job()...
                </text>
            </switch>
        </g>
        <path d="M 7017.3 2610 L 7038.46 2673.95" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 7040.1 2678.94 L 7034.58 2673.39 L 7038.46 2673.95 L 7041.23 2671.19 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6977.33 2600 L 7036 2520" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6928 2620 C 6924.65 2617.78 6922.63 2614.02 6922.63 2610 C 6922.63 2605.98 6924.65 2602.22 6928 2600 L 7012 2600 C 7015.35 2602.22 7017.37 2605.98 7017.37 2610 C 7017.37 2614.02 7015.35 2617.78 7012 2620 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7012 2600 C 7015.35 2602.22 7017.37 2605.98 7017.37 2610 C 7017.37 2614.02 7015.35 2617.78 7012 2620 C 7008.65 2617.78 7006.63 2614.02 7006.63 2610 C 7006.63 2605.98 7008.65 2602.22 7012 2600" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2627px; margin-left: 6970px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                scnd_idx_creation_work
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6970" y="2640" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    scnd_idx_creati...
                </text>
            </switch>
        </g>
        <path d="M 7257.3 2610 L 7216.65 2674.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 7213.85 2679.05 L 7214.62 2671.27 L 7216.65 2674.61 L 7220.54 2674.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7168 2620 C 7164.65 2617.78 7162.63 2614.02 7162.63 2610 C 7162.63 2605.98 7164.65 2602.22 7168 2600 L 7252 2600 C 7255.35 2602.22 7257.37 2605.98 7257.37 2610 C 7257.37 2614.02 7255.35 2617.78 7252 2620 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7252 2600 C 7255.35 2602.22 7257.37 2605.98 7257.37 2610 C 7257.37 2614.02 7255.35 2617.78 7252 2620 C 7248.65 2617.78 7246.63 2614.02 7246.63 2610 C 7246.63 2605.98 7248.65 2602.22 7252 2600" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2627px; margin-left: 7210px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is_terminating
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7210" y="2640" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    is_terminating
                </text>
            </switch>
        </g>
        <rect x="6240" y="2560" width="600" height="600" fill="rgb(255, 255, 255)" stroke="#cccc00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 2567px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                SICr
                                <u>
                                    do_create
                                </u>
                                ( ScndIdxWork )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            snap := AtomicLinkedListSnapshot{
                                        </span>
                                        <u>
                                            snap_head_excl
                                        </u>
                                        <span>
                                            , tail_excl=None };
                                            <br/>
                                        </span>
                                        snap_pi
                                        <span>
                                            :=
                                        </span>
                                        <span>
                                            snap.iter().filter_map( (unit) -&gt; unit.pi ).k_merge().filter( keep non-Tombstone );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each (PK,PV) in snap_pi :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            Write to a Memtable (without log).
                                        </li>
                                        <li>
                                            Periodically flush to a new SSTable.
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            If there were no data :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            // There should be no file to delete.
                                        </li>
                                        <li>
                                            return;
                                        </li>
                                    </ol>
                                    <li>
                                        K-merge all SSTables.
                                    </li>
                                    <li>
                                        <span>
                                            Remove non-final SSTables.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            cu := CommittedUnit w/ ...
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            commit_ver_lo_incl == commit_ver_hi_incl :=
                                            <u>
                                                output_commit_ver
                                            </u>
                                        </li>
                                        <li>
                                            <span>
                                                timestamp_num := 0
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            node := Box( ListNode( ... cu ... ) );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            node.next =
                                        </span>
                                        <span>
                                            <u>
                                                snap_head_excl
                                            </u>
                                            .next.load();
                                            <br/>
                                            <u>
                                                snap_head_excl
                                            </u>
                                            .next.store( node );
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        With
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        .lock_exclusive() :
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#00cccc">
                                                set_scnd_idx_as_readable
                                            </font>
                                            ( sv_spec ), which does ...
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <font color="#00cccc">
                                                    scnd_idxs
                                                </font>
                                                [ sv_spec ].
                                                <font color="#00cccc">
                                                    is_readable
                                                </font>
                                                = true ;
                                            </li>
                                            <li>
                                                Write to disk.
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="2579" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICr do_create( ScndIdxWork )...
                </text>
            </switch>
        </g>
        <path d="M 6968 3300 C 6964.65 3297.78 6962.63 3294.02 6962.63 3290 C 6962.63 3285.98 6964.65 3282.22 6968 3280 L 7052 3280 C 7055.35 3282.22 7057.37 3285.98 7057.37 3290 C 7057.37 3294.02 7055.35 3297.78 7052 3300 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7052 3280 C 7055.35 3282.22 7057.37 3285.98 7057.37 3290 C 7057.37 3294.02 7055.35 3297.78 7052 3300 C 7048.65 3297.78 7046.63 3294.02 7046.63 3290 C 7046.63 3285.98 7048.65 3282.22 7052 3280" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3307px; margin-left: 7010px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    replace_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7010" y="3320" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    replace_avail
                </text>
            </switch>
        </g>
        <rect x="5200" y="2160" width="720" height="200" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 2167px; margin-left: 5202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    flush_and_compact
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            snap_head_excl :=
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            () ...
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : nothing to update.
                                            </li>
                                            <li>
                                                Else : push new dummy w/ { hold_count=0,
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false }
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            traverse_and_compact( snap_head_excl );
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5202" y="2179" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::flush_and_compact()...
                </text>
            </switch>
        </g>
        <path d="M 4925.6 3240 L 4916.51 3353.65" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4916.09 3358.89 L 4913.16 3351.63 L 4916.51 3353.65 L 4920.14 3352.19 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="4680" y="2880" width="520" height="360" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 518px; height: 1px; padding-top: 2887px; margin-left: 4682px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    cut_non_boundary_dummies
                                </u>
                                ( prior_excl )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            slice := [ ];
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            curr := prior_excl.next.load();
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            match curr :
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    case dummy with { hold_count=0 and
                                                </span>
                                                <span style="color: rgb(204 , 204 , 0)">
                                                    is_fence
                                                </span>
                                                <span>
                                                    =false } :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    slice.push( curr );
                                                </li>
                                                <li>
                                                    curr = curr.next.load();
                                                </li>
                                            </ol>
                                            <li>
                                                case nullptr or boundary dummy or fence dummy or CommittedUnit :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            If slice is not empty :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                replace( prior_excl, curr, None, slice );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            return curr;
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                                <ul></ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4682" y="2899" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::cut_non_boundary_dummies( prior_excl )...
                </text>
            </switch>
        </g>
        <rect x="6240" y="3200" width="600" height="360" fill="rgb(255, 255, 255)" stroke="#cccc00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3207px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <div>
                                    SICr
                                    <u>
                                        notify_end_of_work
                                    </u>
                                    ( ScndIdxWork )
                                </div>
                                <ol>
                                    <li>
                                        <u>
                                            snap_head_excl
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <font color="#cccc00">
                                            is_fence
                                        </font>
                                        <span>
                                            .store( false );
                                        </span>
                                    </li>
                                    <li>
                                        <font color="#990000">
                                            replace_avail
                                        </font>
                                        <span>
                                            .send( () );
                                            <br/>
                                        </span>
                                        /* Even if snap_head_excl's hold_count is not zero, notify F+C anyway, because some dummies in SICr's snapshot might have become non-held. For such dummies, notification would have been sent to F+C but F+C would not have worked across those dummies. */
                                    </li>
                                    <li>
                                        <span>
                                            response_to_client.send( "succes" );
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="3219" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICr notify_end_of_work( ScndIdxWork )...
                </text>
            </switch>
        </g>
        <path d="M 6920 2860 L 6846.37 2860" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6841.12 2860 L 6848.12 2856.5 L 6846.37 2860 L 6848.12 2863.5 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6240" y="1400" width="600" height="440" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1407px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                DB::
                                <u>
                                    create_scnd_idx
                                </u>
                                ()
                                <br/>
                                <br/>
                                Args:
                                <br/>
                                <ul>
                                    <li>
                                        SVSpec
                                    </li>
                                </ul>
                                Steps:
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_shared() :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            .has_key( sv_spec ) :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "Already exists and &lt;is | isn't&gt; being created".
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                            // It's preferrable to wait for the exclusive lock outside the job thread.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            .has_key( sv_spec ) :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "Already exists and &lt;is | isn't&gt; being created".
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#00cccc">
                                                define_new_scnd_idx
                                            </font>
                                            ( sv_spec ), which does ...
                                        </li>
                                        <ol>
                                            <li>
                                                si_num :=
                                                <font color="#00cccc">
                                                    next_scnd_idx_num
                                                </font>
                                                .get_and_inc();
                                            </li>
                                            <li>
                                                <font color="#00cccc">
                                                    scnd_idxs
                                                </font>
                                                .insert( sv_spec, ( si_num,
                                                <font color="#00cccc">
                                                    is_readable
                                                </font>
                                                =false ) );
                                            </li>
                                            <li>
                                                Write to disk.
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            (tx, rx) := oneshot::channel();
                                            <br/>
                                            req := ScndIdxCreationRequest( sv_spec, si_num, tx );
                                            <br/>
                                        </span>
                                        <font color="#990000">
                                            scnd_idx_creation_request
                                        </font>
                                        <span>
                                            .send( req );
                                            <br/>
                                            resp := rx.receive();
                                            <br/>
                                            return resp;
                                        </span>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="1419" fill="#000000" font-family="Helvetica" font-size="12px">
                    DB::create_scnd_idx()...
                </text>
            </switch>
        </g>
        <rect x="4600" y="3360" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3367px; margin-left: 4602px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    replace
                                </u>
                                ( K, G, R, slice )
                                <br/>
                                // K is slice_head_excl
                                <br/>
                                // G is slice_tail_excl
                                <br/>
                                // R: Opt&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                <br/>
                                // slice: Vec&lt; &amp;ListNode&lt; LsmElem &gt; &gt;
                                <br/>
                                <ol>
                                    <li>
                                        If R is Some :
                                    </li>
                                    <ol>
                                        <li>
                                            R.next.store(G);
                                        </li>
                                        <li>
                                            K.next.store(R);
                                        </li>
                                    </ol>
                                    <li>
                                        Else :
                                    </li>
                                    <ol>
                                        <li>
                                            K.next.store(G);
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#00994d">
                                                curr_list_ver
                                            </font>
                                            += 1;
                                        </li>
                                    </ol>
                                    <li>
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        .push( (prior curr_list_ver, vec of just-replaced nodes) );
                                    </li>
                                </ol>
                                <ul>
                                    <ul></ul>
                                </ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4602" y="3379" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::replace( K, G, R, slice )...
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1810 L 5216.03 2130.82 Q 5220 2140 5228.99 2144.39 L 5254.04 2156.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5258.76 2158.91 L 5250.93 2158.99 L 5254.04 2156.61 L 5254 2152.69 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4988 1820 C 4984.65 1817.78 4982.63 1814.02 4982.63 1810 C 4982.63 1805.98 4984.65 1802.22 4988 1800 L 5072 1800 C 5075.35 1802.22 5077.37 1805.98 5077.37 1810 C 5077.37 1814.02 5075.35 1817.78 5072 1820 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1800 C 5075.35 1802.22 5077.37 1805.98 5077.37 1810 C 5077.37 1814.02 5075.35 1817.78 5072 1820 C 5068.65 1817.78 5066.63 1814.02 5066.63 1810 C 5066.63 1805.98 5068.65 1802.22 5072 1800" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1827px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    replace_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1840" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    replace_avail
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1730 L 5214.73 1951.5 Q 5220 1960 5210.38 1962.75 L 5046.12 2009.68" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5041.07 2011.12 L 5046.84 2005.83 L 5046.12 2009.68 L 5048.77 2012.56 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4988 1740 C 4984.65 1737.78 4982.63 1734.02 4982.63 1730 C 4982.63 1725.98 4984.65 1722.22 4988 1720 L 5072 1720 C 5075.35 1722.22 5077.37 1725.98 5077.37 1730 C 5077.37 1734.02 5075.35 1737.78 5072 1740 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1720 C 5075.35 1722.22 5077.37 1725.98 5077.37 1730 C 5077.37 1734.02 5075.35 1737.78 5072 1740 C 5068.65 1737.78 5066.63 1734.02 5066.63 1730 C 5066.63 1725.98 5068.65 1722.22 5072 1720" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1747px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    min_held_list_ver
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1760" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    min_held_list_v...
                </text>
            </switch>
        </g>
        <path d="M 4558.12 1631.88 L 4976.5 1728.57" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4981.61 1729.75 L 4974 1731.58 L 4976.5 1728.57 L 4975.58 1724.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6801.36 2480 L 6918.35 2605.34" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6921.94 2609.18 L 6914.6 2606.45 L 6918.35 2605.34 L 6919.72 2601.68 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1800 720 L 1820.7 747.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1822.8" cy="750.4" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 1833.2 757.6 L 1825.2 753.6 L 1826.8 762.4 M 1825.2 753.6 L 1830 760" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1520" y="560" width="440" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 160px; padding-top: 560px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        IntervalSet&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - itvs: Vec&lt; Interval&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + add( Interval&lt;T&gt; )
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + clear()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + merge()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + overlaps_with(points: Iter&lt;U: TryPartialOrd&lt;T&gt;&gt;) -&gt; Res&lt;bool&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="572" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    IntervalSet&lt;T&gt;...
                </text>
            </switch>
        </g>
        <path d="M 5322.4 3240 L 5169.08 3356.15" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5164.89 3359.32 L 5168.36 3352.31 L 5169.08 3356.15 L 5172.58 3357.89 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5280 3060 L 5206.37 3060" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5201.12 3060 L 5208.12 3056.5 L 5206.37 3060 L 5208.12 3063.5 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6920" y="2400" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 2400px; margin-left: 6920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationWork
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span>
                                        snap_head_excl: SendPtr&lt; ListNode&lt; LsmElem &gt; &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + scnd_idx_num: ScndIdxNum
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + output_commit_ver: CommitVer
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + req: ScndIdxCreationRequest
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6920" y="2412" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationWork...
                </text>
            </switch>
        </g>
        <rect x="5280" y="3360" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3367px; margin-left: 5282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    do_flush_and_compact
                                </u>
                                ( slice, skip_tombstones, db_state_guard )
                                <br/>
                                -&gt; Option&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                <br/>
                                <ol>
                                    <li>
                                        With db_state guard :=
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        .lock_shared() :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                Create a new empty SSTable-based CompactedUnit.
                                            </span>
                                        </li>
                                        <li>
                                            For each of {PI; and SIs in db_state_guard.
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            .keys() regardless of `
                                            <font color="#00cccc">
                                                is_readable
                                            </font>
                                            `} :
                                        </li>
                                        <ol>
                                            <li>
                                                K-merge across the slice --&gt; produce one SSTable.
                                                <br/>
                                                If skipping tombstones, do so.
                                            </li>
                                            <li>
                                                If the newly produced SSTable is non-empty :
                                            </li>
                                            <ol>
                                                <li>
                                                    Assign the new SSTable into the new CommittedUnit.
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                If the newly produced CommittedUnit is non-empty :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    On disk, serialize CommitInfo with ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        commit_ver_hi_incl = max in slice
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        commit_ver_lo_incl = min in slcie
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        timestamp_num = (max in slice) + 1
                                                    </span>
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    Move the new CommittedUnit into a Box&lt; ListNode&lt; LsmElem &gt; &gt;. Return this.
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    committed_unit.remove_dir();
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Return None.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5282" y="3379" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::do_flush_and_compact( slice, skip_tombstones, db_state_guard )...
                </text>
            </switch>
        </g>
        <path d="M 5567.2 3240 L 5571.75 3353.64" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5571.96 3358.88 L 5568.18 3352.03 L 5571.75 3353.64 L 5575.17 3351.75 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5560 2360 L 5560 2433.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5560 2438.88 L 5556.5 2431.88 L 5560 2433.63 L 5563.5 2431.88 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6240 2328.57 L 5845.85 2497.49" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5841.03 2499.56 L 5846.08 2493.59 L 5845.85 2497.49 L 5848.84 2500.02 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6960" y="1400" width="600" height="440" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1407px; margin-left: 6962px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                DB::
                                <u>
                                    delete_scnd_idx
                                </u>
                                ()
                                <br/>
                                <br/>
                                Args:
                                <br/>
                                <ul>
                                    <li>
                                        SVSpec
                                    </li>
                                </ul>
                                Steps:
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_shared() :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            [ sv_spec ].
                                            <font color="#00cccc">
                                                is_readable
                                            </font>
                                            != true :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "&lt;Doesn't exist | It's being built&gt;".
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                If
                                            </span>
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            <span>
                                                [ sv_spec ].
                                            </span>
                                            <font color="#00cccc">
                                                is_readable
                                            </font>
                                            <span>
                                                != true :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                Return "&lt;Doesn't exist | It's being built&gt;".
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#00cccc">
                                                remove_scnd_idx
                                            </font>
                                            <span>
                                                ( sv_spec );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            /*
                                            <br/>
                                        </span>
                                        That's it!
                                        <br/>
                                        Leave all data (in memory and on disk) in place. Let compaction eventually implicitly erase them.
                                        <br/>
                                        The use of ScndIdxNum ensures that, if a SI is later re-created for the just-deleted SVSpec, any lingering existing data would remain unused.
                                        <br/>
                                        */
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6962" y="1419" fill="#000000" font-family="Helvetica" font-size="12px">
                    DB::delete_scnd_idx()...
                </text>
            </switch>
        </g>
        <rect x="5840" y="1600" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 1600px; margin-left: 5840px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationRequest
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span>
                                        sv_spec: SVSpec
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + scnd_idx_num: ScndIdxNum
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <span>
                                        response_to_client
                                    </span>
                                    <span>
                                        : oneshot::Sender&lt; Res&lt; () &gt; &gt;
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5840" y="1612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationRequest...
                </text>
            </switch>
        </g>
        <rect x="400" y="2280" width="440" height="480" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 480px; padding-top: 2280px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 480px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#00cccc">
                                            DbState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state: ScndIdxsState
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state_file_path: PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_terminating: bool
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + can_new_scnd_idx_be_defined( &amp;SVSpec ) -&gt; ...
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + define_new_scnd_idx( &amp;SVSpec ) -&gt; ...
                                </p>
                                <ol>
                                    <li>
                                        si_num :=
                                        <font color="#00cccc">
                                            next_scnd_idx_num
                                        </font>
                                        .get_and_inc();
                                    </li>
                                    <li>
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        .insert( sv_spec, ( si_num,
                                        <font color="#00cccc">
                                            is_readable
                                        </font>
                                        =false) );
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + set_scnd_idx_as_readable( &amp;SVSpec ) -&gt; Res&lt; () &gt;
                                </p>
                                <ol>
                                    <li>
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        [ sv_spec ].is_readable = true;
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + can_scnd_idx_be_removed( &amp;SVSpec ) -&gt; ...
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_scnd_idx( &amp;SVSpec ) =&gt; ...
                                </p>
                                <ol>
                                    <li>
                                        scnd_idxs.remove( sv_spec );
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="2292" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DbState...
                </text>
            </switch>
        </g>
        <path d="M 620 2760 L 620 2840" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 616 2836 L 624 2836" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 780 800 L 780 880" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="480" y="400" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 407px; margin-left: 482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    At bootup
                                </u>
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#00cccc">
                                            scnd_idxs_state := ScndIdxsState.deser( scnd_idxs_state.txt );
                                        </font>
                                        <br/>
                                        then ignore SIs that previously never finished creation.
                                        <br/>
                                    </li>
                                    <li>
                                        <font color="#00cccc">
                                            db_state := DbState( ... );
                                        </font>
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        <font color="#00994d">
                                            (lsm_dir, lsm_state) := LsmDir::load_or_new( lsm_dir_path );
                                            <br/>
                                        </font>
                                        Ignore CommitUnits that did not properly get GC'd previously.
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        Create all
                                        <font color="#990000">
                                            channels
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        db := DB( ... );
                                    </li>
                                    <li>
                                        Launch actors
                                        <font color="#cc6600">
                                            FCJob
                                        </font>
                                        and
                                        <font color="#cccc00">
                                            SICrJob
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        db.terminate();
                                    </li>
                                    <li>
                                        Join the actors.
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="482" y="419" fill="#000000" font-family="Helvetica" font-size="12px">
                    At bootup...
                </text>
            </switch>
        </g>
        <rect x="480" y="880" width="600" height="480" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 887px; margin-left: 482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                LsmDir::
                                <u>
                                    load_or_new
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        pq := new BinaryHeap&lt; CommitInfo &gt;;
                                        <br/>
                                    </li>
                                    <li>
                                        For unit_dir in `ls lsm/` :
                                    </li>
                                    <ol>
                                        <li>
                                            If commit_info.txt doesn't exist :
                                        </li>
                                        <ol>
                                            <li>
                                                Ignore this unit. Print warning.
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Load CommitInfo.
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Push CommitInfo into pq.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            nodes: = empty Vec;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            // pq prioritizes CommitInfo by { highest commit_ver_hi_incl; tie-breaker by highest timestamp_num }.
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        next_commit_ver := pq.peek().commit_ver_hi_incl + 1;    If empty, zero.
                                    </li>
                                    <li>
                                        <span>
                                            While pq is not empty :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                cu_info := pq.pop();
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                If curr commit_ver range overlaps with previous commit_ver range :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Ignore this unit. Print warning.
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Load CommitInfo into CommittedUnit.
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Push CommittedUnit into nodes.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        list := AtomicLinkedList::from_elems( nodes );
                                    </li>
                                    <li>
                                        return (LsmDir, LsmState);
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="482" y="899" fill="#000000" font-family="Helvetica" font-size="12px">
                    LsmDir::load_or_new()...
                </text>
            </switch>
        </g>
        <rect x="1920" y="2040" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 2040px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommittedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; CommittedEntrySet&lt;PK, OptDat&lt;PV&gt;&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) CommittedEntrySet&lt;SVPK, OptDat&lt;PV&gt;&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + commit_info: CommitInfo
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_staging( StagingUnit, CommitVer ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_compacted( CompactedUnit, CommitInfo ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( UnitDir ) -&gt; Res&lt; Self, UnitDir &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="2052" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommittedUnit...
                </text>
            </switch>
        </g>
        <rect x="1920" y="1600" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 1600px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        StagingUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: WritableMemLog&lt;PK, OptDat&lt;PV&gt;&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                        <br/>
                                    </li>
                                    <li>
                                        (value) WritableMemLog&lt;SVPK, OptDat&lt;PV&gt;&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new( UnitDir ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + flush() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="1612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    StagingUnit...
                </text>
            </switch>
        </g>
        <rect x="1120" y="1480" width="360" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 200px; padding-top: 1480px; margin-left: 1120px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        UnitDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_prim_path() -&gt; PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_scnd_path( ScndIdxNum ) -&gt; PathBuf
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_commit_info_path() -&gt; PathBuf
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_commit_info() -&gt; Res&lt; CommitInfo &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + list_scnd_paths() -&gt; Iter&lt; (PathBuf, ScndIdxNum) &gt;
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1120" y="1492" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    UnitDir...
                </text>
            </switch>
        </g>
        <rect x="1160" y="1760" width="280" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 282px; height: 240px; padding-top: 1760px; margin-left: 1160px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 280px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitInfo
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_hi_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_lo_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + timestamp_num: TimestampNum
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + data_type: either "memlog" or "sstable"
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + cmp()
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1160" y="1772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitInfo...
                </text>
            </switch>
        </g>
        <rect x="960" y="2080" width="560" height="600" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 562px; height: 600px; padding-top: 2080px; margin-left: 960px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 560px; height: 600px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#00994d">
                                            LsmState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + list: AtomicLinkedList&lt; LsmElem &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + next_commit_ver: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - curr_list_ver: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - held_list_vers: HashBag&lt; ListVer &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - min_held_list_ver: ListVer
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + get_and_bump_curr_list_ver() -&gt; ListVer
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        // Return the pre-bump curr_list_ver.
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + hold_curr_list_ver() -&gt; ListVer
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        // Return the unchanged curr_list_ver.
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + unhold_list_ver( ListVer ) -&gt; Opt&lt; ListVer &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // Return min_held_list_ver, if it changed.
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + hold_and_unhold_list_ver( ListVer ) -&gt; { curr: ListVer, min: Opt&lt; ListVer &gt; }
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // Return ( curr_list_ver; min_held_list_ver, if it changed ).
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_held_list_vers_empty() -&gt; bool
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990099">
                                        update_or_push
                                    </font>
                                    ( update_or_specify_head ) -&gt; *const ListNode&lt; LsmElem &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Args:
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        FnOnce( Opt&lt; &amp;LsmElem &gt; ) -&gt; Opt&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                        <br/>
                                        // Read the existing head node, and return whether to push a node.
                                    </li>
                                </ul>
                                <p style="margin: 0px 0px 0px 4px">
                                    Returns the resulting head.
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="960" y="2092" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmState...
                </text>
            </switch>
        </g>
        <path d="M 738.18 1720 L 774.55 1640" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 776.53 1645.3 L 769.25 1641.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="400" y="1720" width="440" height="520" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 520px; padding-top: 1720px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 520px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        DB
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#00cccc">
                                        db_state
                                    </font>
                                    <span>
                                        :
                                    </span>
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        RwLock
                                    </span>
                                    <span>
                                        &lt; DbState &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + lsm_dir: LsmDir
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#00994d">
                                        lsm_state
                                    </font>
                                    :
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        Mutex
                                    </span>
                                    &lt; LsmState &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // Tokio's `watch` channel is like a Condition Variable.
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#990000">
                                        min_held_list_ver
                                    </font>
                                    <span>
                                        : watch::Sender&lt; ListVer &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span style="color: rgb(153 , 0 , 0)">
                                        replace_avail
                                    </span>
                                    : watch::Sender&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        scnd_idx_request
                                    </font>
                                    : mpsc::Sender&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Sender&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + load_or_new( PathBuf ) -&gt; Res&lt;( ... )&gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Returns:
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        Arc&lt;Self&gt;
                                    </li>
                                    <li>
                                        fc_job_task: Future&lt;Res&lt;()&gt;&gt;
                                        <br/>
                                    </li>
                                    <li>
                                        scnd_idx_creation_job_task: Future&lt;Res&lt;()&gt;&gt;
                                    </li>
                                </ul>
                                <div>
                                    <div>
                                        + terminate()
                                    </div>
                                </div>
                                <div>
                                    <ol>
                                        <li>
                                            With
                                            <font color="#00cccc">
                                                db_state
                                            </font>
                                            .lock_exclusive() :
                                        </li>
                                        <ol>
                                            <li>
                                                set
                                                <font color="#00cccc">
                                                    is_terminating
                                                </font>
                                                to true;
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#990000">
                                                is_terminating
                                            </font>
                                            .send( () );
                                        </li>
                                        <li>
                                            // Do it in this order.
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="1732" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DB...
                </text>
            </switch>
        </g>
        <path d="M 870 1640 L 1087.15 2074.3" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1089.5 2079 L 1083.24 2074.3 L 1087.15 2074.3 L 1089.5 2071.17 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1860px; margin-left: 980px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="980" y="1863" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 810.48 1440 L 802.86 1360" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="640" y="1440" width="360" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 200px; padding-top: 1440px; margin-left: 640px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        LsmDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - lsm_dir_path: PathBuf
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - next_unit_dir_num: AtomicU64
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt;( Self,
                                    <font color="#00994d">
                                        LsmState
                                    </font>
                                    )&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_new_unit_dir_path() -&gt; UnitDir
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="640" y="1452" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmDir...
                </text>
            </switch>
        </g>
        <rect x="4880" y="1280" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 1280px; margin-left: 4880px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        DanglingNodeSet
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + max_incl_traversable_list_ver: ListVer
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + nodes: Vec&lt; SendPtr&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4880" y="1292" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DanglingNodeSet...
                </text>
            </switch>
        </g>
        <rect x="1000" y="3080" width="400" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 160px; padding-top: 3080px; margin-left: 1000px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AtomicLinkedListSnapshot&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_excl_ptr: NonNull&lt; ListNode&lt; T &gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + tail_excl_ptr: Opt&lt; NonNull&lt; ListNode&lt; T &gt; &gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + iter() -&gt; Iter&lt; &amp;T &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1000" y="3092" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AtomicLinkedListSnapshot&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="7360" y="2680" width="440" height="360" fill="rgb(255, 255, 255)" stroke="#cccc00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 360px; padding-top: 2680px; margin-left: 7360px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 360px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SICrJob
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: Arc&lt; DB &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - working_dir: PathBuf
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        // rx
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        scnd_idx_creation_work
                                    </font>
                                    : mpsc::Receiver&lt; ScndIdxCreationWork &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Receiver&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7360" y="2692" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SICrJob...
                </text>
            </switch>
        </g>
        <path d="M 2780 440 L 2780 473.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 478.88 L 2776.5 471.88 L 2780 473.63 L 2783.5 471.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2780" cy="420" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 420px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Client calls get_*() and put()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="424" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Client calls get_*()...
                </text>
            </switch>
        </g>
        <ellipse cx="2778.8" cy="190" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2778.8 200 L 2779.57 233.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2779.69 238.88 L 2776.03 231.96 L 2779.57 233.63 L 2783.03 231.8 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2780 360 L 2780 393.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 398.88 L 2776.5 391.88 L 2780 393.63 L 2783.5 391.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2720" y="320" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 340px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="344" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    new
                </text>
            </switch>
        </g>
        <path d="M 2780 280 L 2780 313.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 318.88 L 2776.5 311.88 L 2780 313.63 L 2783.5 311.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2780" cy="260" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 260px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::new()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="264" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::new()
                </text>
            </switch>
        </g>
        <path d="M 2779.7 520 L 2779.19 553.73" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2779.12 558.98 L 2775.72 551.93 L 2779.19 553.73 L 2782.72 552.03 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2720" y="480" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 500px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                pre-commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="504" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    pre-commit
                </text>
            </switch>
        </g>
        <path d="M 2793.97 594.94 L 2840.3 640.59" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2844.04 644.27 L 2836.59 641.85 L 2840.3 640.59 L 2841.51 636.87 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 620px; margin-left: 2820px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2820" y="624" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to commit
                </text>
            </switch>
        </g>
        <path d="M 2771.33 597.51 L 2550.91 1114.34" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2548.85 1119.17 L 2548.38 1111.36 L 2550.91 1114.34 L 2554.82 1114.1 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 859px; margin-left: 2660px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to abort
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2660" y="862" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to abort
                </text>
            </switch>
        </g>
        <path d="M 3035 995 L 3080.5 1040.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3084.21 1044.21 L 3076.78 1041.73 L 3080.5 1040.5 L 3081.73 1036.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1020px; margin-left: 3060px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                yes conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3060" y="1023" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    yes conflict
                </text>
            </switch>
        </g>
        <path d="M 3186.63 1120.12 L 3236.84 969.49 Q 3240 960 3235.46 951.09 L 2964.54 418.91 Q 2960 410 2950.68 406.38 L 2837.36 362.31" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2832.47 360.41 L 2840.26 359.68 L 2837.36 362.31 L 2837.73 366.2 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3180" cy="1140" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1140px; margin-left: 3121px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::reset()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3180" y="1144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::reset()
                </text>
            </switch>
        </g>
        <path d="M 3115 1075 L 3156.52 1116.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3160.24 1120.24 L 3152.81 1117.76 L 3156.52 1116.52 L 3157.76 1112.81 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1098px; margin-left: 3138px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                not exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3138" y="1102" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    not exceeded
                </text>
            </switch>
        </g>
        <path d="M 3100 1040 L 3160 1060 L 3100 1080 L 3040 1060 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1060px; margin-left: 3041px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Retry limit exceeded?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3100" y="1064" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Retry limit exceeded?
                </text>
            </switch>
        </g>
        <path d="M 3058 1066 L 2601.45 1131.22" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2596.26 1131.96 L 2602.69 1127.51 L 2601.45 1131.22 L 2603.68 1134.44 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1099px; margin-left: 2826px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2826" y="1102" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    exceeded
                </text>
            </switch>
        </g>
        <path d="M 2540 1160 L 2540 1193.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2540 1198.88 L 2536.5 1191.88 L 2540 1193.63 L 2543.5 1191.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2540" cy="1140" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1140px; margin-left: 2481px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::close()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2540" y="1144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::close()
                </text>
            </switch>
        </g>
        <path d="M 2925 755 L 2883.48 796.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2879.76 800.24 L 2882.24 792.81 L 2883.48 796.52 L 2887.19 797.76 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 778px; margin-left: 2902px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                up-to-date
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2902" y="782" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    up-to-date
                </text>
            </switch>
        </g>
        <path d="M 2955 755 L 2996.52 796.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3000.24 800.24 L 2992.81 797.76 L 2996.52 796.52 L 2997.76 792.81 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 778px; margin-left: 2978px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                there is gap
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2978" y="782" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    there is gap
                </text>
            </switch>
        </g>
        <path d="M 2940 720 L 3000 740 L 2940 760 L 2880 740 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 740px; margin-left: 2881px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is snapshot up-to-date?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2940" y="744" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is snapshot up-to-da...
                </text>
            </switch>
        </g>
        <ellipse cx="2860" cy="820" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 820px; margin-left: 2801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::commit()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2860" y="824" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::commit()
                </text>
            </switch>
        </g>
        <path d="M 3020 920 L 3020 953.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3020 958.88 L 3016.5 951.88 L 3020 953.63 L 3023.5 951.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3020" cy="900" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 900px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::has_conflict()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="904" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::has_conflict()
                </text>
            </switch>
        </g>
        <path d="M 2996 968 L 2948.94 944.47 Q 2940 940 2940 930 L 2940 766.37" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2940 761.12 L 2943.5 768.12 L 2940 766.37 L 2936.5 768.12 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 882px; margin-left: 2940px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                no conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2940" y="885" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    no conflict
                </text>
            </switch>
        </g>
        <path d="M 3020 960 L 3080 980 L 3020 1000 L 2960 980 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 980px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is there any conflict?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="984" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is there any conflic...
                </text>
            </switch>
        </g>
        <ellipse cx="2540" cy="1210" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2778.8 560 L 2838.8 580 L 2778.8 600 L 2718.8 580 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 580px; margin-left: 2720px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Client decision?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2779" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Client decision?
                </text>
            </switch>
        </g>
        <path d="M 2875 675 L 2920.5 720.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2924.21 724.21 L 2916.78 721.73 L 2920.5 720.5 L 2921.73 716.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 700px; margin-left: 2900px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                try to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2900" y="703" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    try to commit
                </text>
            </switch>
        </g>
        <path d="M 2849.09 676.36 L 2556.55 1115.18" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2553.64 1119.55 L 2554.61 1111.78 L 2556.55 1115.18 L 2560.43 1115.66 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 899px; margin-left: 2701px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                nothing to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2701" y="902" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    nothing to commit
                </text>
            </switch>
        </g>
        <path d="M 2860 640 L 2920 660 L 2860 680 L 2800 660 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 660px; margin-left: 2801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Are there any data to commit?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2860" y="664" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Are there any data t...
                </text>
            </switch>
        </g>
        <path d="M 2560 288.48 L 2723.95 267.13" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="1920" y="160" width="640" height="320" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 638px; height: 1px; padding-top: 167px; margin-left: 1922px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    new
                                </u>
                                ( db, db_state_guard )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl := None;
                                            <br/>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .head_excl :=
                                            </span>
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            <span>
                                                () ...
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : dummy.hold_count += 1;
                                            </li>
                                            <li>
                                                Else : push new dummy w/ {
                                                <span>
                                                    hold_count=1,
                                                </span>
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                <span>
                                                    =false }
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap_next_commit_ver
                                            </font>
                                            :=
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                            <br/>
                                        </li>
                                        <li>
                                            <font color="#0066cc">
                                                snap_list_ver
                                            </font>
                                            :=
                                            <font color="#00994d">
                                                hold_curr_list_ver
                                            </font>
                                            ();
                                        </li>
                                    </ol>
                                    <li>
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        := None;
                                    </li>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        <span>
                                            := new empty;
                                            <br/>
                                        </span>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        <span>
                                            := new empty;
                                        </span>
                                    </li>
                                    <li>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            := None;
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1922" y="179" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::new( db, db_state_guard )...
                </text>
            </switch>
        </g>
        <path d="M 3280 622.39 L 2990 700" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3985.84 880 L 4541.88 1619.2" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4545.04 1623.4 L 4538.03 1619.91 L 4541.88 1619.2 L 4543.62 1615.7 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="3280" y="120" width="840" height="760" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 838px; height: 1px; padding-top: 127px; margin-left: 3282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    try_commit
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                If
                                            </span>
                                            <font color="#0066cc">
                                                snap_next_commit_ver
                                            </font>
                                            <span>
                                                !=
                                            </span>
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            <span>
                                                :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .tail_excl.hold_count -= 1;    if
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .tail_excl is Some
                                                <br/>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .tail_excl = Some(
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .head_excl );
                                                <br/>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .head_excl :=
                                                </span>
                                                <font color="#990099">
                                                    update_or_push
                                                </font>
                                                <span>
                                                    () ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    If the existing head is a dummy : dummy.hold_count += 1;
                                                </li>
                                                <li>
                                                    Else : push new dummy w/ { hold_count=1,
                                                    <font color="#cccc00">
                                                        is_fence
                                                    </font>
                                                    =false }
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    If {prior
                                                </span>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .tail_excl became non-held} :
                                                </span>
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    replace_avail
                                                </span>
                                                <span>
                                                    .send( () );
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <font color="#0066cc">
                                                    snap_next_commit_ver
                                                </font>
                                                =
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                ;
                                            </li>
                                            <li>
                                                <font color="#0066cc">
                                                    snap_list_ver
                                                </font>
                                                , min_held_list_ver =
                                                <font color="#00994d">
                                                    hold_and_unhold_list_ver
                                                </font>
                                                (
                                                <font color="#0066cc">
                                                    snap_list_ver
                                                </font>
                                                );
                                            </li>
                                            <li>
                                                If min_held_list_ver changed :
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    min_held_list_ver
                                                </span>
                                                .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                                <br/>
                                            </li>
                                            <li>
                                                return "need to check for conflict";
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    committed_unit := CommittedUnit::from(
                                                </span>
                                                <font color="#0066cc">
                                                    staging
                                                </font>
                                                <span>
                                                    .take(),
                                                </span>
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                <span>
                                                    );
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        // Serializing is expensive, and we're doing it under mutex guard!
                                                    </span>
                                                    <br/>
                                                    <span>
                                                        On disk, serialize CommitInfo with ...
                                                    </span>
                                                    <br/>
                                                </li>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            commit_ver_lo_incl == commit_ver_hi_incl :=
                                                        </span>
                                                        <font color="#00994d">
                                                            next_commit_ver
                                                        </font>
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            timestamp_num := 0
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                                <li>
                                                    <span>
                                                        In memory, move each WritableMemLog into ReadonlyMemLog.
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    node := Box( ListNode( ... committed_unit ... ) )
                                                    <br/>
                                                </span>
                                                <font>
                                                    list.
                                                </font>
                                                <font color="#990099">
                                                    push
                                                </font>
                                                <span>
                                                    ( node );
                                                </span>
                                            </li>
                                            <li>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .tail_excl
                                                </span>
                                                <span>
                                                    .hold_count -= 1;    if
                                                </span>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .tail_excl
                                                </span>
                                                <span>
                                                    is Some
                                                    <br/>
                                                </span>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .head_excl
                                                </span>
                                                <span>
                                                    .hold_count -= 1;
                                                </span>
                                            </li>
                                            <li>
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    replace_avail
                                                </span>
                                                .send( () );
                                                <br/>
                                                // The list is definitely replaceable, due to the presence of a new MemLog.
                                            </li>
                                            <li>
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                += 1;
                                            </li>
                                            <li>
                                                <span>
                                                    min_held_list_ver :=
                                                    <font color="#00994d">
                                                        unhold_list_ver
                                                    </font>
                                                    (
                                                    <font color="#0066cc">
                                                        snap_list_ver
                                                    </font>
                                                    );
                                                </span>
                                            </li>
                                            <li>
                                                If min_held_list_ver changed :
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    min_held_list_ver
                                                </span>
                                                .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                            </li>
                                            <li>
                                                <span>
                                                    return "just committed";
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3282" y="139" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::try_commit()...
                </text>
            </switch>
        </g>
        <path d="M 3360 965.81 L 3071.89 910.04" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="3360" y="920" width="560" height="200" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 927px; margin-left: 3362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    has_conflict()
                                </u>
                                <br/>
                                <ol>
                                    <li>
                                        committed_units :=
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        .filter( keep CommittedUnit and ignore Dummy );
                                    </li>
                                    <li>
                                        <span>
                                            For each CommittedUnit :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            For each of {PI and SIs} that was written-to in
                                            <font color="#0066cc">
                                                staging
                                            </font>
                                            :
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If {
                                                </span>
                                                <font color="#0066cc">
                                                    dependent_itvs_*
                                                </font>
                                                <span>
                                                    &lt;--&gt; CommittedEntrySet } overlap :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        Return "yes conflict".
                                                    </span>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            Return "no conflict".
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3362" y="939" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::has_conflict()...
                </text>
            </switch>
        </g>
        <path d="M 3000 710 L 3113.49 842.41 Q 3120 850 3110.01 850.36 L 2849.99 859.64 Q 2840 860 2831.32 855.04 L 2778.68 824.96 Q 2770 820 2777.65 813.56 L 2952.35 666.44 Q 2960 660 2966.25 667.81 L 3000 710" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/>
        <path d="M 2860 840 L 2860 873.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2860 878.88 L 2856.5 871.88 L 2860 873.63 L 2863.5 871.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2860" cy="890" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 3360 1210.71 L 3218.82 1155.25" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4120 1486.67 L 4536.46 1625.49" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4541.44 1627.15 L 4533.69 1628.25 L 4536.46 1625.49 L 4535.91 1621.61 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="3360" y="1160" width="760" height="400" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 758px; height: 1px; padding-top: 1167px; margin-left: 3362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    reset
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl.hold_count -= 1;    if
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl is Some
                                            <br/>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .head_excl.hold_count -= 1;
                                            <br/>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl = None;
                                            <br/>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .head_excl :=
                                            </span>
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            <span>
                                                () ...
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : dummy.hold_count += 1;
                                            </li>
                                            <li>
                                                Else : push new dummy w/ {
                                                <span>
                                                    hold_count=1,
                                                </span>
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                <span>
                                                    =false }
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            If {prior
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl and/or
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .head_excl became non-held} :
                                            <span style="color: rgb(153 , 0 , 0)">
                                                replace_avail
                                            </span>
                                            .send( () );
                                        </li>
                                        <li>
                                            <font color="#0066cc">
                                                snap_next_commit_ver
                                            </font>
                                            =
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                        </li>
                                        <li>
                                            <font color="#0066cc">
                                                snap_list_ver
                                            </font>
                                            , min_held_list_ver =
                                            <font color="#00994d">
                                                hold_and_unhold_list_ver
                                            </font>
                                            (
                                            <font color="#0066cc">
                                                snap_list_ver
                                            </font>
                                            );
                                        </li>
                                        <li>
                                            If min_held_list_ver changed :
                                            <span style="color: rgb(153 , 0 , 0)">
                                                min_held_list_ver
                                            </span>
                                            .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                        </li>
                                    </ol>
                                    <li>
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        = None;
                                    </li>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        .clear();
                                        <br/>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        .clear();
                                    </li>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        is Some :
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        .clear();
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3362" y="1179" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::reset()...
                </text>
            </switch>
        </g>
        <path d="M 2701.54 1280 L 2561.54 1158.67" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3080 1520 L 3311.06 1635.53 Q 3320 1640 3330 1639.92 L 4533.71 1630.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4538.96 1630.09 L 4531.99 1633.65 L 4533.71 1630.13 L 4531.93 1626.65 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2480" y="1280" width="720" height="240" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 1287px; margin-left: 2482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    close
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .tail_excl.hold_count -= 1;    if
                                            </span>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .tail_excl is Some
                                                <br/>
                                            </span>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .head_excl.hold_count -= 1;
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                If {prior
                                            </span>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .tail_excl and/or
                                            </span>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .head_excl became non-held} :
                                            </span>
                                            <span style="color: rgb(153 , 0 , 0)">
                                                replace_avail
                                            </span>
                                            <span>
                                                .send( () );
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            min_held_list_ver :=
                                            <font color="#00994d">
                                                unhold_list_ver
                                            </font>
                                            (
                                            <font color="#0066cc">
                                                snap_list_ver
                                            </font>
                                            );
                                        </li>
                                        <li>
                                            If min_held_list_ver changed :
                                            <span style="color: rgb(153 , 0 , 0)">
                                                min_held_list_ver
                                            </span>
                                            .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                        </li>
                                    </ol>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        is Some :
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        .remove_dir();
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2482" y="1299" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::close()...
                </text>
            </switch>
        </g>
        <rect x="2040" y="560" width="360" height="400" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 400px; padding-top: 560px; margin-left: 2040px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 400px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Txn&lt;'txn&gt;
                                    </b>
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - db: &amp;'txn Db
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#00cccc">
                                        db_state_guard
                                    </font>
                                    : RwLockReadGuard&lt; 'txn, DbState &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap: AtomicLinkedListSnapshot&lt; LsmElem &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_next_commit_ver: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_list_ver: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_vec: Opt&lt; Vec&lt; &amp;LsmElem &gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // A lazily-initialized Vec collection of snap.
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dependent_itvs_prim: IntervalSet&lt; &amp;'txn PK &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dependent_itvs_scnds: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) IntervalSet&lt; &amp;'txn SV &gt;
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - staging: Opt&lt; StagingUnit &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2040" y="572" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Txn&lt;'txn&gt;...
                </text>
            </switch>
        </g>
        <path d="M 4550 1620 L 4560 1630 L 4550 1640 L 4540 1630 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4240 137.78 L 4166.33 47.74 Q 4160 40 4150.01 40.36 L 3049.99 79.64 Q 3040 80 3033.93 87.94 L 2794.82 400.62" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="4240" y="80" width="560" height="800" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 87px; margin-left: 4242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                /* All these methdos are public to the client callback. */
                                <br/>
                                <br/>
                                Txn::
                                <u>
                                    get_pk_one
                                </u>
                                ( pk )
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        <span>
                                            .add( (pk,pk) );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        Get one from [stg, snap]. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    get_pk_range
                                </u>
                                ( pk_lo, pk_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        <span>
                                            .add( (pk_lo,pk_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        is None: collect it from
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        K-merge {stg + snap}. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    get_sv_range
                                </u>
                                ( sv_spec, sv_lo, sv_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            // This is a simplistic query engine, which depends on exactly one index.
                                            <br/>
                                        </span>
                                        If
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec] doesn't exist or
                                        </span>
                                        <font color="#00cccc">
                                            is_readable
                                        </font>
                                        <span>
                                            ==false: return failure.
                                            <br/>
                                        </span>
                                        si_num :=
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec].si_num;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        <span>
                                            [si_num] doesn't exist: create new empty.
                                            <br/>
                                        </span>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        <span>
                                            [si_num].add( (sv_lo,sv_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        is None: collect it from
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        stg :=
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        K-merge {stg + snap}. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    put
                                </u>
                                ( pk, new_pv )
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        .add( (pk,pk) );
                                        <br/>
                                        // We must treat concurrent writes on the same PK as a conflict, because they generally invalidate deltas on SIs in staging.
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        old_pv := Get one from [stg, snap];
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            is None: create new empty.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each si_num in
                                        </span>
                                        <font color="#0066cc">
                                            db_state_guard
                                        </font>
                                        <span>
                                            .scnd_idxs :
                                            <br/>
                                        </span>
                                        // Assess all SIs, regardless of `
                                        <font color="#00cccc">
                                            is_readable
                                        </font>
                                        <span>
                                            `.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If there is a delta for this SI:
                                        </li>
                                        <ol>
                                            <li>
                                                If
                                                <font color="#0066cc">
                                                    staging
                                                </font>
                                                .scnds[si_num] doesn't exist: create new empty.
                                                <br/>
                                                <font color="#0066cc">
                                                    staging
                                                </font>
                                                .scnds[si_num].put( the_delta );
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .prim
                                        </span>
                                        <span>
                                            .put( (PK,PV) );
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4242" y="99" fill="#000000" font-family="Helvetica" font-size="12px">
                    /* All these methdos are public to the client callback. */...
                </text>
            </switch>
        </g>
        <path d="M 2140 2480 L 2140 2366.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2140 2361.12 L 2143.5 2368.12 L 2140 2366.37 L 2136.5 2368.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2420px; margin-left: 2140px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2140" y="2423" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <rect x="1920" y="2480" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 2480px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CompactedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; CommittedEntrySet&lt;PK, OptDat&lt;PV&gt;&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) CommittedEntrySet&lt;SVPK, OptDat&lt;PV&gt;&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new_empty( StagingUnit, CommitVer ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_empty() -&gt; bool
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="2492" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CompactedUnit...
                </text>
            </switch>
        </g>
        <path d="M 2360 2496.15 L 2507.06 2400" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2502.55 2407.73 L 2498.17 2401.03 M 2504.87 2396.65 L 2500.36 2404.38 L 2509.25 2403.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2729.53 430.82 L 2649.78 447.9 Q 2640 450 2638.57 459.9 L 2543.81 1113.72" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2543.06 1118.92 L 2540.6 1111.49 L 2543.81 1113.72 L 2547.52 1112.49 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 739px; margin-left: 2598px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                error
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2598" y="743" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    error
                </text>
            </switch>
        </g>
        <rect x="0" y="0" width="160" height="160" fill="none" stroke="#e6e6e6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 150px; height: 1px; padding-top: 80px; margin-left: 5px;">
                        <div data-drawio-colors="color: #E6E6E6; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(230, 230, 230); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                (An anchor at the origin. This might help reduce svg line changes.)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="80" y="84" fill="#E6E6E6" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    (An anchor at the origin....
                </text>
            </switch>
        </g>
        <rect x="5280" y="2880" width="560" height="360" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 2887px; margin-left: 5282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    compact_one_segment
                                </u>
                                ( segm_head_excl )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            slice := [ ];
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            prev := segm_head_excl;
                                            <br/>
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                curr := cut_non_boundary_dummies( prev );
                                            </span>
                                        </li>
                                        <li>
                                            match curr :
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    case CommittedUnit :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    slice.push( curr );
                                                </li>
                                                <li>
                                                    prev = curr;
                                                </li>
                                            </ol>
                                            <li>
                                                case nullptr or dummy :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            If {slice.len() &gt; 1} or {slice contains at least one MemLog} :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                skip_tombstones := ( curr is nullptr );
                                                <br/>
                                                compacted_node := do_flush_and_compact( slice, skip_tombstones );
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                replace( segm_head_excl, curr, compacted_node, slice );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        return curr;
                                    </li>
                                </ol>
                                <ul></ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5282" y="2899" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::compact_one_segment( segm_head_excl )...
                </text>
            </switch>
        </g>
        <rect x="5280" y="2440" width="560" height="360" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 2447px; margin-left: 5282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    traverse_and_compact
                                </u>
                                ( snap_head_excl )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            segm_head_excl := snap_head_excl;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                curr := compact_one_segment( segm_head_excl );
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                match curr :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                case dummy with {
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false } /* or CommittedUnit */ :
                                            </li>
                                            <ol>
                                                <li>
                                                    segm_head_excl = curr;
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    case nullptr or fence dummy :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                </ol>
                                <ul></ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5282" y="2459" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::traverse_and_compact( snap_head_excl )...
                </text>
            </switch>
        </g>
        <path d="M 5560 2800 L 5560 2873.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5560 2878.88 L 5556.5 2871.88 L 5560 2873.63 L 5563.5 2871.88 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3020" cy="820" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 820px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn:: update_snapshot()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="824" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn:: update_snapsho...
                </text>
            </switch>
        </g>
        <path d="M 3020 840 L 3020 873.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3020 878.88 L 3016.5 871.88 L 3020 873.63 L 3023.5 871.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4450 2455.78 L 4560 2438.71" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3920 2200 L 4440 2200 L 4440 2770 L 4200 2770 L 4180 2800 L 4180 2770 L 3920 2770 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,4180,2500)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 568px; height: 1px; padding-top: 2247px; margin-left: 3882px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Termination sequence
                                <br/>
                                <br/>
                                This sequence works in cooperation with
                                <br/>
                                <ul>
                                    <li>
                                        DB::terminate()
                                    </li>
                                    <li>
                                        Txn::run()
                                    </li>
                                </ul>
                                <div>
                                    Steps:
                                </div>
                                <ol>
                                    <li>
                                        <font color="#00cccc">
                                            is_terminating
                                        </font>
                                        bool is set to true.
                                        <br/>
                                        From now on, no new txn can start.
                                        <br/>
                                        Note, already-running txns can still additionally hold
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        <font color="#990000">
                                            is_terminating
                                        </font>
                                        Conditional Variable is set.
                                        <br/>
                                        F+C is notified.
                                        <br/>
                                    </li>
                                    <li>
                                        While F+C's local
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        is not empty :
                                    </li>
                                    <ol>
                                        <li>
                                            F+C waits on
                                            <span style="color: rgb(153 , 0 , 0)">
                                                min_held_list_ver
                                            </span>
                                            .
                                        </li>
                                        <li>
                                            F+C removes from
                                            <font color="#cc6600">
                                                dangling_nodes
                                            </font>
                                            .
                                        </li>
                                    </ol>
                                    <li>
                                        /*
                                        <br/>
                                        <span style="color: rgb(153 , 0 , 0)">
                                            min_held_list_ver
                                        </span>
                                        does not inform whether
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        is held or not. But this is irrelevant for the purpose of GC.
                                        <br/>
                                        <span style="color: rgb(153 , 0 , 0)">
                                            min_held_list_ver
                                        </span>
                                        does not inform whether all list_vers &lt;
                                        <span style="color: rgb(0 , 153 , 77)">
                                            curr_list_ver
                                        </span>
                                        are non-held. Reason: F+C may bump
                                        <span style="color: rgb(0 , 153 , 77)">
                                            curr_list_ver
                                        </span>
                                        .
                                        <br/>
                                        Therefore, we omit the above while-loop.
                                        <br/>
                                        */
                                    </li>
                                    <li>
                                        <span>
                                            While
                                        </span>
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        <span>
                                            is not empty :
                                        </span>
                                        <br/>
                                        // It would suffice to check whether
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        is empty except for potentially
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        .
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            Sleep a bit.
                                        </li>
                                    </ol>
                                    <li>
                                        GC all nodes in
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        .
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3882" y="2259" fill="#000000" font-family="Helvetica" font-size="12px">
                    Termination sequence...
                </text>
            </switch>
        </g>
        <rect x="4560" y="2280" width="480" height="240" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 2287px; margin-left: 4562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    poll_held_list_vers_then_gc
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        While true :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                With
                                            </span>
                                            <font color="#00994d">
                                                lsm_state
                                            </font>
                                            <span>
                                                .lock_exclusive() :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If
                                                </span>
                                                <font color="#00994d">
                                                    held_list_vers
                                                </font>
                                                <span>
                                                    is empty :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                Sleep a bit;
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        For each (_, nodes) in
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        :
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            For each node :
                                        </li>
                                        <ol>
                                            <li>
                                                Remove files. Drop memory.
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4562" y="2299" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::poll_held_list_vers_then_gc()...
                </text>
            </switch>
        </g>
        <path d="M 5240 2060.57 L 4960.6 2276.11" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4956.44 2279.32 L 4959.85 2272.27 L 4960.6 2276.11 L 4964.12 2277.81 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1360" y="160" width="440" height="200" fill="rgb(255, 255, 255)" stroke="#0066cc" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 167px; margin-left: 1362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    run
                                </u>
                                ( db, client_cb )
                                <br/>
                                <ol>
                                    <li>
                                        With db_state_guard =
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        .lock_shared() :
                                        <br/>
                                        // This guard is held for the duration of the txn.
                                    </li>
                                    <ol>
                                        <li>
                                            txn := Txn::new( ... );
                                        </li>
                                        <li>
                                            Make the txn go through state transitions.
                                        </li>
                                        <li>
                                            Return what client_cb returns.
                                        </li>
                                    </ol>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1362" y="179" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::run( db, client_cb )...
                </text>
            </switch>
        </g>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Viewer does not support full SVG 1.1
            </text>
        </a>
    </switch>
</svg>