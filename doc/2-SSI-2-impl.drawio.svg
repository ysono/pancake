<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="6962px" height="5043px" viewBox="-0.5 -0.5 6962 5043" content="&lt;mxfile&gt;&lt;diagram id=&quot;RcHnaSoGghIKxj3INRLX&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs>
        <linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-e6e6e6-1-808080-1-s-0">
            <stop offset="0%" style="stop-color: rgb(230, 230, 230); stop-opacity: 1;"/>
            <stop offset="100%" style="stop-color: rgb(128, 128, 128); stop-opacity: 1;"/>
        </linearGradient>
    </defs>
    <g>
        <path d="M 680 2792.3 L 600 2806.22" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 607.2 2800.91 L 608.57 2808.79 M 600.69 2810.16 L 607.88 2804.85 L 599.31 2802.28" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2550 3551 L 3656.61 3212.86" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3661.63 3211.33 L 3655.96 3216.72 L 3656.61 3212.86 L 3653.91 3210.03 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4359.2 3362.8 L 4440.03 3556.4" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4442.05 3561.25 L 4436.12 3556.14 L 4440.03 3556.4 L 4442.58 3553.44 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3965.6 3362.08 L 3917.04 3554.19" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3915.75 3559.28 L 3914.08 3551.63 L 3917.04 3554.19 L 3920.86 3553.35 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4160 3001 L 4160 2921" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="3920" y="3001" width="480" height="360" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#cc6600" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 3008px; margin-left: 3922px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCWorker::
                                <u>
                                    run
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            While true:
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            `Select` all channels.
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <span>
                                                    <font color="#990000">
                                                        fc_avail
                                                    </font>
                                                    :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    flush_and_compact( None );
                                                </li>
                                            </ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    fc_request
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    flush_and_compact( Some(snap_head) );
                                                </li>
                                                <li>
                                                    response_tx.send( () );
                                                </li>
                                            </ol>
                                            <li style="border-color: var(--border-color);">
                                                case
                                                <font color="#990000" style="border-color: var(--border-color);">
                                                    min_held_list_ver
                                                </font>
                                                :
                                            </li>
                                            <ol style="border-color: var(--border-color);">
                                                <li style="border-color: var(--border-color);">
                                                    <font color="#cc6600">
                                                        dangling_nodes
                                                    </font>
                                                    .gc_old_nodes( mhlv );
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <font color="#990000">
                                                    is_terminating
                                                </font>
                                                <span>
                                                    :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        poll_held_list_vers_then_gc();
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3922" y="3020" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCWorker::run()...
                </text>
            </switch>
        </g>
        <path d="M 1722.22 1041 L 1695.56 1161" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1692.52 1156.23 L 1700.33 1157.96" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1999.38 1041 L 2100.63 1161" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2094.99 1160.52 L 2101.1 1155.36" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2320 1681 L 2320 1761" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2316 1757 L 2324 1757" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2560 1649.57 L 2623.78 1710.31" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2626.31" cy="1712.72" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 2637.76 1718.1 L 2629.21 1715.48 L 2632.24 1723.9 M 2629.21 1715.48 L 2635 1721" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2520 1026.79 L 2904.93 996.4" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2918.89 995.3 L 2912.18 999.34 L 2911.63 992.36 Z M 2911.91 995.85 L 2905.2 999.89 L 2904.65 992.91 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1011px; margin-left: 2719px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                formats new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2719" y="1014" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    formats new
                </text>
            </switch>
        </g>
        <path d="M 2880 1771 L 3345.4 1604.78" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="3348.7" cy="1603.61" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 3357.58 1604.68 L 3354.89 1597.15 M 3352 1602.43 L 3360 1599.57" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1590 1761 L 1574.48 1787.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1572.71" cy="1790.63" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 1570.12 1803.02 L 1570.7 1794.09 L 1563.21 1798.98 M 1570.7 1794.09 L 1566.67 1801" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1480" y="1521" width="360" height="240" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 240px; padding-top: 1521px; margin-left: 1480px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxsState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#00cccc">
                                        scnd_idxs
                                    </font>
                                    : HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) Arc&lt; SVSpec &gt;
                                    </li>
                                    <li>
                                        (value) ScndIdxState
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#00cccc">
                                        next_scnd_idx_num
                                    </font>
                                    : ScndIdxNum
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1480" y="1533" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxsState...
                </text>
            </switch>
        </g>
        <path d="M 3800 1555.38 L 3984.69 1584.23" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="3988.14" cy="1584.77" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 4000.62 1582.67 L 3992.1 1585.39 L 3999.38 1590.58 M 3992.1 1585.39 L 4000 1586.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3085.19 1361 L 3067.41 1481" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3064.04 1476.46 L 3071.95 1477.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3017.65 1361 L 2984.71 1401" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2987.79 1403.54 L 2989.79 1394.82 L 2981.62 1398.46" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3200 1361 L 3252.93 1413.93 Q 3260 1421 3269.54 1423.98 L 3353.92 1450.35" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3205.66 1361 L 3200 1366.66" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3358.93 1451.92 L 3351.21 1453.17 L 3353.92 1450.35 L 3353.3 1446.49 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1424px; margin-left: 3268px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                load into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3268" y="1427" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    load into
                </text>
            </switch>
        </g>
        <path d="M 4253.33 1521 L 4261.77 1495.7" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="4262.87" cy="1492.38" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 4269.2 1486.06 L 4261.61 1483.53 M 4263.98 1489.06 L 4266.67 1481" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4250.77 1721 L 4258.52 1746.19" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="4259.55" cy="1749.53" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 4258.08 1758.35 L 4265.72 1756 M 4260.58 1752.88 L 4263.08 1761" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4440 1567.9 L 4633.81 1521.11" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4638.91 1519.88 L 4632.93 1524.93 L 4633.81 1521.11 L 4631.29 1518.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1544px; margin-left: 4537px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4537" y="1548" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <rect x="4000" y="1521" width="440" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 1528px; margin-left: 4002px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    CommittedEntrySet&lt;K, V&gt;
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li>
                                        RMemLog( ReadOnlyMemlog&lt;K, V&gt; )
                                    </li>
                                    <li>
                                        SSTable( SSTable&lt;K, V&gt; )
                                    </li>
                                </ul>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Entry&lt;K, V&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Entry&lt;K, V&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Entry&lt;K, ()&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4002" y="1540" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum CommittedEntrySet&lt;K, V&gt;:...
                </text>
            </switch>
        </g>
        <path d="M 2520 1941 L 2585.15 1960.55" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2588.51" cy="1961.55" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 2601.15 1961.17 L 2592.34 1962.7 L 2598.85 1968.83 M 2592.34 1962.7 L 2600 1965" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2320 2081 L 2320 2007.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="stroke"/>
        <path d="M 2320 2002.12 L 2323.5 2009.12 L 2320 2007.37 L 2316.5 2009.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2041px; margin-left: 2320px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is implicitly related to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2320" y="2044" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is implicitly related to
                </text>
            </switch>
        </g>
        <rect x="2120" y="1761" width="400" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 240px; padding-top: 1761px; margin-left: 2120px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AtomicLinkedList&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_ptr: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + from_elems( Iter&lt;T&gt; ) -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head() -&gt; Opt&lt; NonNull&lt; ListNode&lt;T&gt; &gt; &gt;
                                </p>
                                <p></p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        +
                                    </span>
                                    push_head_elem
                                    <span>
                                        ( T ) -&gt; &amp;ListNode&lt;T&gt;
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + push_head_node( Box&lt; ListNode&lt;T&gt; &gt; ) -&gt; &amp;ListNode&lt;T&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + iter() -&gt; Iter&lt; &amp;T &gt;
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2120" y="1773" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AtomicLinkedList&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="2600" y="1961" width="240" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 80px; padding-top: 1961px; margin-left: 2600px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ListNode&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + elem: T
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + next: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2600" y="1973" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ListNode&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="2920" y="1481" width="280" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 282px; height: 100px; padding-top: 1481px; margin-left: 2920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 280px; height: 100px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ReplacementNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new_larger_than_all_of(Iter&lt;Self&gt;) -&gt; Self
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2920" y="1493" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ReplacementNum...
                </text>
            </switch>
        </g>
        <rect x="2920" y="1401" width="80" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 82px; height: 60px; padding-top: 1401px; margin-left: 2920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 80px; height: 60px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitVer
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2920" y="1413" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitVer...
                </text>
            </switch>
        </g>
        <path d="M 3100 1081 L 3100 1154.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3100 1159.88 L 3096.5 1152.88 L 3100 1154.63 L 3103.5 1152.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1121px; margin-left: 3100px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3100" y="1124" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 3233.33 1081 L 3294.91 1127.18" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3238.93 1080.2 L 3234.13 1086.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3299.11 1130.33 L 3291.41 1128.93 L 3294.91 1127.18 L 3295.61 1123.33 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1105px; margin-left: 3265px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into new empty
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3265" y="1108" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into new empty
                </text>
            </switch>
        </g>
        <rect x="1720" y="1841" width="160" height="120" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 120px; padding-top: 1841px; margin-left: 1720px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span style="background-color: initial;">
                                        + fetch_inc() -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1720" y="1853" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxNum...
                </text>
            </switch>
        </g>
        <rect x="4080" y="1281" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 1281px; margin-left: 4080px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ReadonlyMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + memtable: BTreeMap&lt; K, V &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - log_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; ( &amp;K, &amp;V ) &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; ( &amp;K, &amp;V ) &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4080" y="1293" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ReadonlyMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <rect x="4080" y="1761" width="440" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 1761px; margin-left: 4080px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SSTable&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - sparse_file_offsets: Vec&lt; (K, u64) &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - kv_file_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + new( Iter&lt; Entry&lt;K, V&gt; &gt;
                                    </span>
                                    <span>
                                        ) -&gt; Res&lt; Self &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Res&lt;( K, V )&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Res&lt;( K, V )&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Res&lt;K&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_file() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4080" y="1773" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SSTable&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 4342.51 1201 L 4355.99 1231.84 Q 4360 1241 4356.06 1250.19 L 4345.37 1275.15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4343.3 1279.97 L 4342.84 1272.16 L 4345.37 1275.15 L 4349.27 1274.92 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1244px; margin-left: 4359px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4359" y="1247" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 4518.8 1151 L 4693.62 1356.15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4697.02 1360.15 L 4689.82 1357.09 L 4693.62 1356.15 L 4695.14 1352.55 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1258px; margin-left: 4610px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4610" y="1261" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <path d="M 4256.8 1201 L 4243.87 1231.78 Q 4240 1241 4243.94 1250.19 L 4257.14 1281" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4251.89 1278.9 L 4259.24 1275.75" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="4078.8" y="1001" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 1001px; margin-left: 4079px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        WritableMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + r_memlog: ReadonlyMemLog&lt;K, V&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + log_writer: DatumWriter
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + put( K, V ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + flush() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + into() -&gt; ReadonlyMemLog&lt;K,V&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4079" y="1013" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    WritableMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 4640 1806.2 L 4526.22 1831.23" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4521.09 1832.36 L 4527.18 1827.44 L 4526.22 1831.23 L 4528.68 1834.27 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1819px; margin-left: 4581px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                constructs
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4581" y="1822" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    constructs
                </text>
            </switch>
        </g>
        <rect x="4640" y="1681" width="320" height="180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 1688px; margin-left: 4642px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                enum
                                <b>
                                    Entry
                                </b>
                                &lt;'a, K, V&gt; {
                                <br/>
                                Ref(( &amp;'a K, &amp;'a V )),
                                <br/>
                                Own(Res&lt;( K, V )&gt;),
                                <br/>
                                }
                                <br/>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + try_borrow() -&gt; Res&lt;( &amp;'a K, &amp;'a V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + into_owned_kv() -&gt; Res&lt;( K, V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    etc
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4642" y="1700" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    enum Entry&lt;'a, K, V&gt; {...
                </text>
            </switch>
        </g>
        <path d="M 4800 1601 L 4800 1674.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4800 1679.88 L 4796.5 1672.88 L 4800 1674.63 L 4803.5 1672.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1641px; margin-left: 4800px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                produces
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4800" y="1644" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    produces
                </text>
            </switch>
        </g>
        <rect x="4640" y="1361" width="320" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 318px; height: 1px; padding-top: 1368px; margin-left: 4642px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                fn
                                <b>
                                    merge_committed_entrysets
                                </b>
                                (
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K,V&gt; &gt;
                                <br/>
                                <br/>
                                fn
                                <b>
                                    merge_txnlocal_and_committed_entrysets
                                </b>
                                (
                                <br/>
                                Opt&lt; &amp;WritableMemLog&lt;K, V&gt; &gt;,
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K,V&gt; &gt;
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4642" y="1380" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    fn merge_committed_entrysets(...
                </text>
            </switch>
        </g>
        <path d="M 3800 1087.12 L 4078.8 1094.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4070.69 1098.65 L 4070.91 1090.66 M 4078.91 1090.88 L 4070.8 1094.66 L 4078.69 1098.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3580 1241 L 3580 1354.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3580 1359.88 L 3576.5 1352.88 L 3580 1354.63 L 3583.5 1352.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1301px; margin-left: 3580px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3580" y="1304" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 4360 2719.46 L 4465.19 2687.1" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="4468.53" cy="2686.07" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 4478.82 2678.72 L 4472.35 2684.89 L 4481.18 2686.36 M 4472.35 2684.89 L 4480 2682.54" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="3960" y="2641" width="400" height="280" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 280px; padding-top: 2641px; margin-left: 3960px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 280px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        FCWorker
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: Arc&lt; DB &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#cc6600">
                                        dangling_nodes
                                    </font>
                                    : DanglingNodeSetsDeque
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    /* rx */
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <span style="color: rgb(153 , 0 , 0)">
                                        fc_avail
                                    </span>
                                    : watch::Receiver&lt; () &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        fc_request
                                    </font>
                                    : mpsc::Receiver&lt; FlushAndCompactRequest &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000" style="border-color: var(--border-color);">
                                        min_held_list_ver
                                    </font>
                                    : watch::Receiver&lt; ListVer &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Receiver&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    (... methods ...)
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3960" y="2653" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    FCWorker...
                </text>
            </switch>
        </g>
        <rect x="2920" y="361" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 368px; margin-left: 2922px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    File paths
                                </u>
                                <br/>
                                <ul>
                                    <li>
                                        db_root/
                                    </li>
                                    <ul>
                                        <li>
                                            scnd_idxs_state.txt  (&lt;-&gt; struct ScndIdxsState)
                                        </li>
                                        <li>
                                            lsm/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt;anti_collision_num&gt;/  (Either StagingUnit or CommittedUnit or CompactedUnit.)
                                            </li>
                                            <ul>
                                                <li>
                                                    pi.kv
                                                </li>
                                                <li>
                                                    si-&lt;scnd_idx_num&gt;.kv
                                                </li>
                                                <li>
                                                    (... other SIs ...)
                                                </li>
                                                <li>
                                                    (All entrysets (PI or SI) are optional.)
                                                </li>
                                                <li>
                                                    commit_info.txt  (&lt;-&gt; struct CommitInfo)
                                                    <br/>
                                                    (This file is present iff this unit was attempted commitment.
                                                    <br/>
                                                    There is currently no way to distinguish a failed and a finalized commit.)
                                                </li>
                                            </ul>
                                            <li>
                                                (... other unit dirs ...)
                                            </li>
                                        </ul>
                                        <li>
                                            scnd_idx_creation/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt;anti_collision_num&gt;/  (One scnd idx creation job.)
                                            </li>
                                            <ul>
                                                <li>
                                                    foo.kv
                                                </li>
                                                <li>
                                                    (... temporary SSTables ...)
                                                </li>
                                            </ul>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2922" y="380" fill="#000000" font-family="Helvetica" font-size="12px">
                    File paths...
                </text>
            </switch>
        </g>
        <rect x="320" y="2961" width="160" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 162px; height: 80px; padding-top: 2961px; margin-left: 320px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 160px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Interval&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + lo_incl: Opt&lt;T&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + hi_incl: Opt&lt;T&gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="320" y="2973" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Interval&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="2600" y="1721" width="280" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 1728px; margin-left: 2602px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    LsmElem
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li style="border-color: var(--border-color);">
                                        <font color="#990099" style="border-color: var(--border-color);">
                                            hold_count
                                        </font>
                                        : AtomicU64
                                    </li>
                                    <li>
                                        type: enum
                                        <b>
                                            LsmElemType
                                        </b>
                                        :
                                    </li>
                                    <ul>
                                        <li>
                                            Unit( CommittedUnit )
                                        </li>
                                        <li>
                                            Dummy{ ... }
                                        </li>
                                        <ul>
                                            <li>
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                : AtomicBool
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2602" y="1740" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum LsmElem:...
                </text>
            </switch>
        </g>
        <path d="M 1640 1889.57 L 1720 1895.29" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1715.73 1898.99 L 1716.3 1891.01" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1400" y="1801" width="240" height="160" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 160px; padding-top: 1801px; margin-left: 1400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnd_idx_num: ScndIdxNum
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#00cccc">
                                        is_readable
                                    </font>
                                    : bool
                                </p>
                                <div>
                                    <hr size="1"/>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + ser( ... ) -&gt; Res&lt; () &gt;
                                    </p>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + deser( ... ) -&gt; Res&lt; Self &gt;
                                    </p>
                                </div>
                                <div>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1400" y="1813" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxState...
                </text>
            </switch>
        </g>
        <rect x="2560" y="3681" width="720" height="480" fill="#e6e6e6" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 3688px; margin-left: 2562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    TODO
                                </b>
                                <br/>
                                <ul>
                                    <li>
                                        <span style="background-color: initial;">
                                            When actually committing, handle this anomaly:
                                        </span>
                                    </li>
                                    <ul>
                                        <li>
                                            <span style="background-color: initial;">
                                                1) commit_info.txt is written
                                            </span>
                                        </li>
                                        <li>
                                            <span style="background-color: initial;">
                                                2) crash
                                            </span>
                                        </li>
                                        <li>
                                            <span style="background-color: initial;">
                                                Problem: Actually committed CommittedUnit vs never pushed CommittedUnit are indistinguishable.
                                            </span>
                                        </li>
                                        <li>
                                            <span style="background-color: initial;">
                                                Possible solution A :
                                            </span>
                                        </li>
                                        <ul>
                                            <li>
                                                <span style="background-color: initial;">
                                                    Ensure that any crash during commitment propagates, s.t. further commitments are impossible.
                                                </span>
                                            </li>
                                        </ul>
                                        <li>
                                            <span style="background-color: initial;">
                                                Possible solution (?) B :
                                            </span>
                                        </li>
                                        <ul>
                                            <li>
                                                Flush some info to disk, a second time, _after_ the node is pushed to the LL.
                                            </li>
                                            <ul>
                                                <li>
                                                    where the second info could be e.g.
                                                </li>
                                                <ul>
                                                    <li>
                                                        replacement_num is flushed as None; then push to LL; then replacement_num is finalized
                                                    </li>
                                                    <li>
                                                        CRC is initially missing; then push to LL; then CRC is flushed
                                                    </li>
                                                </ul>
                                            </ul>
                                            <li>
                                                <span style="background-color: initial;">
                                                    Txn::commit() writes commit_info.txt
                                                </span>
                                            </li>
                                            <li>
                                                <span style="background-color: initial;">
                                                    Txn::commit()pushes to LL
                                                </span>
                                            </li>
                                            <li>
                                                <span style="background-color: initial;">
                                                    Txn::commit()notifies F+C
                                                </span>
                                            </li>
                                            <li>
                                                <span style="background-color: initial;">
                                                    F+C goes through recent commits, and sets replacement_num=Some(zero)
                                                </span>
                                            </li>
                                            <li>
                                                <span style="background-color: initial;">
                                                    F+C messages back
                                                </span>
                                                <span style="background-color: initial;">
                                                    Txn::commit()
                                                </span>
                                            </li>
                                            <li>
                                                <span style="background-color: initial;">
                                                    Txn::commit()returns
                                                </span>
                                            </li>
                                            <li>
                                                <span style="background-color: initial;">
                                                    (This is too complicated and likely causes some incorrectness.)
                                                </span>
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2562" y="3700" fill="#000000" font-family="Helvetica" font-size="12px">
                    TODO...
                </text>
            </switch>
        </g>
        <path d="M 3757.3 3051 L 3883.63 3051" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3888.88 3051 L 3881.88 3054.5 L 3883.63 3051 L 3881.88 3047.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3668 3061 C 3664.65 3058.78 3662.63 3055.02 3662.63 3051 C 3662.63 3046.98 3664.65 3043.22 3668 3041 L 3752 3041 C 3755.35 3043.22 3757.37 3046.98 3757.37 3051 C 3757.37 3055.02 3755.35 3058.78 3752 3061 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3752 3041 C 3755.35 3043.22 3757.37 3046.98 3757.37 3051 C 3757.37 3055.02 3755.35 3058.78 3752 3061 C 3748.65 3058.78 3746.63 3055.02 3746.63 3051 C 3746.63 3046.98 3748.65 3043.22 3752 3041" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3068px; margin-left: 3710px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is_terminating
                                <br/>
                                &lt; () &gt;
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3710" y="3081" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    is_terminating...
                </text>
            </switch>
        </g>
        <rect x="3840" y="3561" width="680" height="320" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 678px; height: 1px; padding-top: 3568px; margin-left: 3842px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCWorker::
                                <u>
                                    flush_and_compact
                                </u>
                                ( spap_head: Opt&lt; *const ListNode&lt;_&gt; &gt; )
                                <br/>
                                <ol>
                                    <li>
                                        With db_state_guard =
                                        <font color="#00cccc" style="border-color: var(--border-color);">
                                            db_state
                                        </font>
                                        .
                                        <span style="background-color: rgb(255, 204, 153);">
                                            lock_shared
                                        </span>
                                        () :
                                        <br/>
                                        /* This guard is held for the duration of the flushing-and-compaction. */
                                        <br/>
                                        /* It's also likely correct to hold a guard over a smaller scope (e.g. only while reading data, and not while traversing);
                                        <br/>
                                        but doing so would make it harder to reason about the correctness of concurrent interoperation with SICr,
                                        <br/>
                                        and would also increase the frequency of acquisitions and releases. */
                                    </li>
                                    <ol>
                                        <li>
                                            if arg snap_head is None :
                                        </li>
                                        <ol>
                                            <li>
                                                With
                                                <font color="#00994d" style="background-color: initial;">
                                                    lsm_state
                                                </font>
                                                <span style="background-color: initial;">
                                                    .
                                                </span>
                                                <span style="background-color: rgb(255, 204, 153);">
                                                    lock_exclusive
                                                </span>
                                                <span style="background-color: initial;">
                                                    () :
                                                    <br/>
                                                </span>
                                                /* Some lines here should be done outside the mutex guard. They'relumped in here for legibility. */
                                            </li>
                                        </ol>
                                    </ol>
                                    <ol>
                                        <ol>
                                            <ol>
                                                <li>
                                                    snap_head := at
                                                    <font color="#00994d" style="border-color: var(--border-color);">
                                                        list
                                                    </font>
                                                    head ...
                                                </li>
                                                <ol>
                                                    <li>
                                                        If the existing head is a dummy w/ {
                                                        <font color="#cccc00">
                                                            is_fence
                                                        </font>
                                                        =false } : don't update and don't push.
                                                    </li>
                                                    <li>
                                                        Else : push new dummy w/ {
                                                        <font color="#990099">
                                                            hold_count
                                                        </font>
                                                        =0,
                                                        <font color="#cccc00">
                                                            is_fence
                                                        </font>
                                                        =false }
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        /* If the existing non-null head is a fence, then we do push a non-fence. */
                                                    </li>
                                                </ol>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                traverse_and_compact( snap_head );
                                            </span>
                                        </li>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3842" y="3580" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCWorker::flush_and_compact( spap_head: Opt&lt; *const ListNode&lt;_&gt; &gt; )...
                </text>
            </switch>
        </g>
        <path d="M 3757.3 3211 L 3925.72 3396.29" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3929.25 3400.17 L 3921.95 3397.35 L 3925.72 3396.29 L 3927.13 3392.64 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3668 3221 C 3664.65 3218.78 3662.63 3215.02 3662.63 3211 C 3662.63 3206.98 3664.65 3203.22 3668 3201 L 3752 3201 C 3755.35 3203.22 3757.37 3206.98 3757.37 3211 C 3757.37 3215.02 3755.35 3218.78 3752 3221 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3752 3201 C 3755.35 3203.22 3757.37 3206.98 3757.37 3211 C 3757.37 3215.02 3755.35 3218.78 3752 3221 C 3748.65 3218.78 3746.63 3215.02 3746.63 3211 C 3746.63 3206.98 3748.65 3203.22 3752 3201" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3228px; margin-left: 3710px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    fc_avail
                                    <br/>
                                    &lt; () &gt;
                                    <br/>
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3710" y="3241" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    fc_avail...
                </text>
            </switch>
        </g>
        <path d="M 3757.3 3131 L 3913.68 3150.42" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3918.89 3151.06 L 3911.51 3153.67 L 3913.68 3150.42 L 3912.38 3146.73 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3668 3141 C 3664.65 3138.78 3662.63 3135.02 3662.63 3131 C 3662.63 3126.98 3664.65 3123.22 3668 3121 L 3752 3121 C 3755.35 3123.22 3757.37 3126.98 3757.37 3131 C 3757.37 3135.02 3755.35 3138.78 3752 3141 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3752 3121 C 3755.35 3123.22 3757.37 3126.98 3757.37 3131 C 3757.37 3135.02 3755.35 3138.78 3752 3141 C 3748.65 3138.78 3746.63 3135.02 3746.63 3131 C 3746.63 3126.98 3748.65 3123.22 3752 3121" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3148px; margin-left: 3710px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    min_held_list_ver
                                    <br/>
                                    &lt; ListVer &gt;
                                    <br/>
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3710" y="3161" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    min_held_list_v...
                </text>
            </switch>
        </g>
        <path d="M 2550 3551 L 3656.74 3133.25" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3661.65 3131.39 L 3656.34 3137.14 L 3656.74 3133.25 L 3653.87 3130.59 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 400 2921 L 400 2945.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="400" cy="2949" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 404 2961 L 400 2953 L 396 2961 M 400 2953 L 400 2961" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="200" y="2761" width="400" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 160px; padding-top: 2761px; margin-left: 200px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        IntervalSet&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - itvs: Vec&lt; Interval&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + add( Interval&lt;T&gt; )
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + clear()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + merge()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + overlaps_with(points: Iter&lt;U: TryPartialOrd&lt;T&gt;&gt;) -&gt; Res&lt;bool&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="200" y="2773" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    IntervalSet&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="4560" y="4321" width="600" height="480" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 4328px; margin-left: 4562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    do_flush_and_compact
                                </u>
                                ( units, skip_tombstones ) -&gt; Opt&lt; CommittedUnit &gt;
                                <br/>
                                <ol>
                                    <li>
                                        <span style="background-color: initial;">
                                            If {units.len() &gt; 1} or {units contains 1+ MemLog(s)} :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span style="background-color: initial;">
                                                Create a new empty CompactedUnit.
                                            </span>
                                        </li>
                                        <li>
                                            <span style="background-color: initial;">
                                                For each of {PI; and SIs in
                                            </span>
                                            <font color="#00cccc" style="background-color: initial;">
                                                scnd_idxs
                                            </font>
                                            <span style="background-color: initial;">
                                                regardless of `
                                            </span>
                                            <font style="background-color: initial;">
                                                is_readable
                                            </font>
                                            <span style="background-color: initial;">
                                                `} :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span style="background-color: initial;">
                                                    K-merge across the slice --&gt; produce one SSTable.
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span style="background-color: initial;">
                                                        If skipping tombstones, do so.
                                                    </span>
                                                </li>
                                            </ol>
                                            <li>
                                                <span style="background-color: initial;">
                                                    If the newly produced SSTable is non-empty :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span style="background-color: initial;">
                                                        Assign the new SSTable into the new CommittedUnit.
                                                    </span>
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span style="background-color: initial;">
                                                If the newly produced CommittedUnit contains 1+ non-empty SSTable(s) :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span style="background-color: initial;">
                                                    On disk, serialize CommitInfo with ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span style="background-color: initial;">
                                                        commit_ver_hi_incl = max in slice
                                                    </span>
                                                </li>
                                                <li>
                                                    <span style="background-color: initial;">
                                                        commit_ver_lo_incl = min in slcie
                                                    </span>
                                                </li>
                                                <li>
                                                    <span style="background-color: initial;">
                                                        replacement_num = (max in slice) + 1
                                                    </span>
                                                </li>
                                            </ol>
                                            <li>
                                                Convert the CompactedUnit into CommittedUnit.
                                            </li>
                                            <li>
                                                Return the CommittedUnit.
                                            </li>
                                        </ol>
                                        <li>
                                            <span style="background-color: initial;">
                                                Else :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span style="background-color: initial;">
                                                    Remove the CompactedUnit from disk.
                                                </span>
                                            </li>
                                            <li>
                                                <span style="background-color: initial;">
                                                    Return "empty".
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        Else :
                                    </li>
                                    <ol>
                                        <li>
                                            Return "no change".
                                        </li>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4562" y="4340" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::do_flush_and_compact( units, skip_tombstones ) -&gt; Opt&lt; CommittedUnit &gt;...
                </text>
            </switch>
        </g>
        <path d="M 4480 4460.41 L 4553.84 4479.96" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4558.92 4481.3 L 4551.26 4482.89 L 4553.84 4479.96 L 4553.05 4476.13 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4180 3881 L 4180 3954.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4180 3959.88 L 4176.5 3952.88 L 4180 3954.63 L 4183.5 3952.88 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6360" y="3281" width="600" height="240" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3288px; margin-left: 6362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                DB::
                                <u>
                                    delete_scnd_idx
                                </u>
                                ( sv_spec )
                                <br/>
                                <ol>
                                    <li>
                                        With
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        .
                                        <span style="background-color: rgb(255, 204, 153);">
                                            lock_shared
                                        </span>
                                        () :
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#00cccc" style="background-color: initial;">
                                                scnd_idxs
                                            </font>
                                            <span style="background-color: initial;">
                                                [ sv_spec ] is Some, and its
                                            </span>
                                            <font color="#00cccc" style="background-color: initial;">
                                                is_readable
                                            </font>
                                            <span style="background-color: initial;">
                                                == false
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                Return error.
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        With
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        .
                                        <span style="background-color: rgb(255, 204, 153);">
                                            lock_exclusive
                                        </span>
                                        () :
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#00cccc" style="background-color: initial; border-color: var(--border-color);">
                                                scnd_idxs
                                            </font>
                                            <span style="background-color: initial; border-color: var(--border-color);">
                                                [ sv_spec ] is Some, and its
                                            </span>
                                            <font color="#00cccc" style="background-color: initial; border-color: var(--border-color);">
                                                is_readable
                                            </font>
                                            <span style="background-color: initial; border-color: var(--border-color);">
                                                == false
                                            </span>
                                        </li>
                                        <ol style="border-color: var(--border-color);">
                                            <li style="border-color: var(--border-color);">
                                                Return error.
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#00cccc" style="background-color: initial;">
                                                scnd_idxs
                                            </font>
                                            <span style="background-color: initial;">
                                                .remove( sv_spec );
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <span style="background-color: initial;">
                                                Serialize ScndIdxsState to disk.
                                            </span>
                                        </li>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6362" y="3300" fill="#000000" font-family="Helvetica" font-size="12px">
                    DB::delete_scnd_idx( sv_spec )...
                </text>
            </switch>
        </g>
        <rect x="1440" y="1161" width="440" height="320" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 1161px; margin-left: 1440px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#00cccc">
                                            DbState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state: ScndIdxsState
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state_file_path: PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#00cccc">
                                        is_terminating
                                    </font>
                                    : bool
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + (... various methods that encapsulate accesses to fields ...)
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1440" y="1173" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DbState...
                </text>
            </switch>
        </g>
        <path d="M 1660 1481 L 1660 1521" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1656 1517 L 1664 1517" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2120 313.35 L 2194.17 346.08" fill="none" stroke="#0000ff" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2198.98 348.2 L 2191.16 348.57 L 2194.17 346.08 L 2193.99 342.17 Z" fill="#0000ff" stroke="#0000ff" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1520" y="1" width="600" height="360" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 8px; margin-left: 1522px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    main
                                </u>
                                () flow overview
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#00cccc">
                                            scnd_idxs_state := ScndIdxsState::deser( "path/to/scnd_idxs_state.txt" );
                                        </font>
                                        <br/>
                                        Then, ignore SIs that previously never finished creation.
                                        <br/>
                                    </li>
                                    <li>
                                        <font color="#00cccc">
                                            db_state := DbState{ ... };
                                        </font>
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        <font color="#00994d">
                                            (lsm_dir, lsm_state) := LsmDir::load_or_new( "path/to/lsm/" );
                                            <br/>
                                        </font>
                                        While loading, ignore CommitUnits that were previously not properly GC'd.
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        Create all
                                        <font color="#990000">
                                            channels
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        db := DB( ... );
                                    </li>
                                    <li>
                                        Launch
                                        <font color="#cc6600">
                                            FCWorker
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        Process receives signal.
                                        <br/>
                                        db.terminate();
                                        <br/>
                                        /* See termination sequence elsewhere in this diagram. */
                                    </li>
                                    <li>
                                        Join
                                        <span style="color: rgb(204, 102, 0);">
                                            FCWorker
                                        </span>
                                        .
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1522" y="20" fill="#000000" font-family="Helvetica" font-size="12px">
                    main() flow overview...
                </text>
            </switch>
        </g>
        <rect x="2200" y="241" width="600" height="480" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 248px; margin-left: 2202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <font color="#00994d">
                                    LsmDir
                                </font>
                                ::
                                <u>
                                    load_or_new
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        commit_infos := vec[ all lsm/* dirs' LsmDir structs and their CommitInfo structs ];
                                        <br/>
                                    </li>
                                    <li>
                                        <span style="background-color: initial;">
                                            pq := heapify( commit_infos );
                                            <br/>
                                        </span>
                                        /* Sort by { commit_ver_hi_incl desc; tie-broken by replacement_number desc }. */
                                    </li>
                                    <li>
                                        curr_commit_ver := pq.peek().commit_ver_hi_incl;  If empty, zero.
                                    </li>
                                    <li style="border-color: var(--border-color);">
                                        <span style="border-color: var(--border-color);">
                                            committed_units: = empty Vec;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            While pq is not empty :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                cu_info := pq.pop();
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                If curr commit_ver range overlaps with previous commit_ver range :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Ignore this unit. Either warn and continue; or fail.
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Load CommitInfo into CommittedUnit.
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    committed_units.push( the CommittedUnit );
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <font color="#00994d">
                                            list
                                        </font>
                                        := AtomicLinkedList::from_elems( committed_units);
                                    </li>
                                    <li>
                                        lsm_state =
                                        <font color="#00994d">
                                            LsmState
                                        </font>
                                        {
                                        <font color="#00994d">
                                            list
                                        </font>
                                        , ... };
                                    </li>
                                    <li>
                                        return (the LsmDir, the
                                        <font color="#00994d">
                                            LsmState
                                        </font>
                                        );
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2202" y="260" fill="#000000" font-family="Helvetica" font-size="12px">
                    LsmDir::load_or_new()...
                </text>
            </switch>
        </g>
        <rect x="3360" y="1361" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 1361px; margin-left: 3360px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommittedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; CommittedEntrySet&lt;PK, OptDat&lt;PV&gt;&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) CommittedEntrySet&lt;SVPK, OptDat&lt;PV&gt;&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + commit_info: CommitInfo
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_staging( StagingUnit, CommitVer ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_compacted( CompactedUnit, CommitInfo ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( UnitDir, CommitInfo ) -&gt; Res&lt; Self, UnitDir &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3360" y="1373" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommittedUnit...
                </text>
            </switch>
        </g>
        <rect x="3360" y="921" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 921px; margin-left: 3360px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        StagingUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: WritableMemLog&lt;PK, OptDat&lt;PV&gt;&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                        <br/>
                                    </li>
                                    <li>
                                        (value) WritableMemLog&lt;SVPK, OptDat&lt;PV&gt;&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new_empty( UnitDir ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ensure_create_scnd( ScndIdxNum )
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -&gt; Res&lt; &amp;WritableMemLog&lt;SVPK, OptDat&lt;PV&gt;&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + flush() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3360" y="933" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    StagingUnit...
                </text>
            </switch>
        </g>
        <rect x="2920" y="881" width="360" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 200px; padding-top: 881px; margin-left: 2920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        UnitDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_prim_file_path() -&gt; PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_scnd_file_path( ScndIdxNum ) -&gt; PathBuf
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + list_scnd_file_paths() -&gt; Iter&lt; (PathBuf, ScndIdxNum) &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_commit_info_file_path() -&gt; PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_commit_info() -&gt; Res&lt; CommitInfo &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2920" y="893" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    UnitDir...
                </text>
            </switch>
        </g>
        <rect x="2960" y="1161" width="280" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 282px; height: 200px; padding-top: 1161px; margin-left: 2960px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 280px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitInfo
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_hi_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_lo_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + replacement_num: ReplacementNum
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + data_type: either "memlog" or "sstable"
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + cmp()
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2960" y="1173" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitInfo...
                </text>
            </switch>
        </g>
        <rect x="2080" y="1161" width="480" height="520" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 482px; height: 520px; padding-top: 1161px; margin-left: 2080px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 480px; height: 520px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#00994d">
                                            LsmState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#00994d">
                                        list
                                    </font>
                                    : AtomicLinkedList&lt; LsmElem &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#00994d">
                                        curr_commit_ver
                                    </font>
                                    : CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#00994d">
                                        curr_list_ver
                                    </font>
                                    : ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#00994d">
                                        held_list_vers
                                    </font>
                                    : HashBag&lt; ListVer &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#00994d">
                                        min_held_list_ver
                                    </font>
                                    : ListVer
                                </p>
                                <hr size="1"/>
                                <p style="border-color: var(--border-color); margin: 0px 0px 0px 4px;">
                                    (... various methods that encapsulate accesses to fields ...)
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2080" y="1173" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmState...
                </text>
            </switch>
        </g>
        <path d="M 2000 883.14 L 2167.69 961" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2162.38 962.94 L 2165.75 955.69" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1560" y="521" width="440" height="520" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 520px; padding-top: 521px; margin-left: 1560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 520px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        DB
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#00cccc">
                                        db_state
                                    </font>
                                    <span>
                                        :
                                    </span>
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        RwLock
                                    </span>
                                    <span>
                                        &lt; DbState &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + lsm_dir: LsmDir
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#00994d">
                                        lsm_state
                                    </font>
                                    :
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        Mutex
                                    </span>
                                    &lt; LsmState &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + si_cr_dir: ScndIdxCreationsDir
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#cccc00">
                                        si_cr_mutex
                                    </font>
                                    :
                                    <span style="background-color: rgb(255, 204, 153);">
                                        Mutex
                                    </span>
                                    &lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    /* Tokio's `watch` channel is like a Condition Variable. */
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span style="border-color: var(--border-color); color: rgb(153, 0, 0);">
                                        fc_avail
                                    </span>
                                    : watch::Sender&lt; () &gt;
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000" style="border-color: var(--border-color);">
                                        fc_request
                                    </font>
                                    : mpsc::Sender&lt; FlushAndCompactRequest &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#990000">
                                        min_held_list_ver
                                    </font>
                                    <span>
                                        : watch::Sender&lt; ListVer &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Sender&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + load_or_new( PathBuf ) -&gt; Res&lt;( ... )&gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Returns:
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        Arc&lt;Self&gt;
                                    </li>
                                    <li>
                                        fc_worker_task: Future&lt;Res&lt;()&gt;&gt;
                                    </li>
                                </ul>
                                <div>
                                    <div>
                                        + terminate()
                                    </div>
                                </div>
                                <div>
                                    /* Described in the termination sequence. */
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1560" y="533" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DB...
                </text>
            </switch>
        </g>
        <rect x="2160" y="961" width="360" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 160px; padding-top: 961px; margin-left: 2160px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        LsmDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - dir: AntiCollisionParentDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt;( Self,
                                    <font color="#00994d">
                                        LsmState
                                    </font>
                                    )&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_new_unit_dir_path() -&gt; UnitDir
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2160" y="973" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmDir...
                </text>
            </switch>
        </g>
        <rect x="4520" y="2801" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 2801px; margin-left: 4520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        DanglingNodeSet
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + max_incl_traversable_list_ver: ListVer
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + nodes: Vec&lt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Vec&lt; SendPtr&lt; ListNode&lt;_&gt; &gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4520" y="2813" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DanglingNodeSet...
                </text>
            </switch>
        </g>
        <rect x="2120" y="2081" width="400" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 160px; padding-top: 2081px; margin-left: 2120px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ListSnapshot&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_ptr: NonNullSendPtr&lt; ListNode&lt; T &gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + tail_ptr: Opt&lt; NonNullSendPtr&lt; ListNode&lt; T &gt; &gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + iter_including_head_and_tail() -&gt; Iter&lt; &amp;T &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2120" y="2093" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ListSnapshot&lt;T&gt;...
                </text>
            </switch>
        </g>
        <path d="M 860 3601 L 860 3634.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 860 3639.88 L 856.5 3632.88 L 860 3634.63 L 863.5 3632.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="800" y="3561" width="120" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3581px; margin-left: 801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                client_cb calls get_*() and put()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="860" y="3585" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    client_cb calls get_...
                </text>
            </switch>
        </g>
        <ellipse cx="858.8" cy="3351" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 18px; height: 1px; padding-top: 3351px; margin-left: 850px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                start
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="859" y="3355" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    sta...
                </text>
            </switch>
        </g>
        <path d="M 858.8 3361 L 859.52 3394.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 859.63 3399.88 L 855.98 3392.96 L 859.52 3394.63 L 862.98 3392.81 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 860 3521 L 860 3554.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 860 3559.88 L 856.5 3552.88 L 860 3554.63 L 863.5 3552.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="860" cy="3501" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3501px; margin-left: 801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="860" y="3505" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    new
                </text>
            </switch>
        </g>
        <path d="M 860 3441 L 860 3474.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 860 3479.88 L 856.5 3472.88 L 860 3474.63 L 863.5 3472.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="800" y="3401" width="120" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3421px; margin-left: 801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::new()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="860" y="3425" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::new()
                </text>
            </switch>
        </g>
        <path d="M 860 3681 L 859.24 3714.73" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 859.12 3719.98 L 855.78 3712.9 L 859.24 3714.73 L 862.78 3713.06 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="860" cy="3661" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3661px; margin-left: 801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                pre-commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="860" y="3665" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    pre-commit
                </text>
            </switch>
        </g>
        <path d="M 873.97 3755.94 L 920.3 3801.59" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 924.04 3805.27 L 916.59 3802.85 L 920.3 3801.59 L 921.51 3797.87 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3779px; margin-left: 898px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="898" y="3783" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to commit
                </text>
            </switch>
        </g>
        <path d="M 851.33 3758.51 L 631.03 4275.14" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 628.97 4279.97 L 628.49 4272.16 L 631.03 4275.14 L 634.93 4274.91 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3842px; margin-left: 809px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to abort
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="809" y="3845" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to abort
                </text>
            </switch>
        </g>
        <path d="M 1115 4156 L 1160.5 4201.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1164.21 4205.21 L 1156.78 4202.73 L 1160.5 4201.5 L 1161.73 4197.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4180px; margin-left: 1139px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                yes conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1139" y="4183" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    yes conflict
                </text>
            </switch>
        </g>
        <path d="M 1266.67 4281 L 1316.84 4130.49 Q 1320 4121 1315.46 4112.09 L 1044.54 3579.91 Q 1040 3571 1030.7 3567.33 L 906.06 3518.2" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 901.18 3516.28 L 908.97 3515.59 L 906.06 3518.2 L 906.41 3522.1 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1200" y="4281" width="120" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4301px; margin-left: 1201px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::reset()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1260" y="4305" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::reset()
                </text>
            </switch>
        </g>
        <path d="M 1195 4236 L 1235.5 4276.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1239.21 4280.21 L 1231.78 4277.73 L 1235.5 4276.5 L 1236.73 4272.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4260px; margin-left: 1219px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                not exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1219" y="4263" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    not exceeded
                </text>
            </switch>
        </g>
        <path d="M 1180 4201 L 1240 4221 L 1180 4241 L 1120 4221 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4221px; margin-left: 1121px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Retry limit exceeded?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1180" y="4225" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Retry limit exceeded?
                </text>
            </switch>
        </g>
        <path d="M 1138 4227 L 686.3 4291.53" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 681.11 4292.27 L 687.54 4287.82 L 686.3 4291.53 L 688.53 4294.75 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4241px; margin-left: 1059px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1059" y="4245" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    exceeded
                </text>
            </switch>
        </g>
        <path d="M 620 4321 L 620 4354.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 620 4359.88 L 616.5 4352.88 L 620 4354.63 L 623.5 4352.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="560" y="4281" width="120" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4301px; margin-left: 561px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::close()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="620" y="4305" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::close()
                </text>
            </switch>
        </g>
        <path d="M 1005 3916 L 964.5 3956.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 960.79 3960.21 L 963.27 3952.78 L 964.5 3956.5 L 968.22 3957.73 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3940px; margin-left: 981px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                up-to-date
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="981" y="3943" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    up-to-date
                </text>
            </switch>
        </g>
        <path d="M 1035 3916 L 1075.5 3956.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1079.21 3960.21 L 1071.78 3957.73 L 1075.5 3956.5 L 1076.73 3952.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3940px; margin-left: 1059px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                there is gap
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1059" y="3943" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    there is gap
                </text>
            </switch>
        </g>
        <path d="M 1020 3881 L 1080 3901 L 1020 3921 L 960 3901 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3901px; margin-left: 961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is snapshot up-to-date?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1020" y="3905" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is snapshot up-to-da...
                </text>
            </switch>
        </g>
        <rect x="880" y="3961" width="120" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3981px; margin-left: 881px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::commit()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="940" y="3985" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::commit()
                </text>
            </switch>
        </g>
        <path d="M 1100 4081 L 1100 4114.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1100 4119.88 L 1096.5 4112.88 L 1100 4114.63 L 1103.5 4112.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1040" y="4041" width="120" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4061px; margin-left: 1041px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::has_conflict()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1100" y="4065" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::has_conflict()
                </text>
            </switch>
        </g>
        <path d="M 1076 4129 L 1028.94 4105.47 Q 1020 4101 1020 4091 L 1020 3927.37" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1020 3922.12 L 1023.5 3929.12 L 1020 3927.37 L 1016.5 3929.12 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4111px; margin-left: 1040px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                no conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1040" y="4114" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    no conflict
                </text>
            </switch>
        </g>
        <path d="M 1100 4121 L 1160 4141 L 1100 4161 L 1040 4141 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4141px; margin-left: 1041px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is there any conflict?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1100" y="4145" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is there any conflic...
                </text>
            </switch>
        </g>
        <ellipse cx="620" cy="4371" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 18px; height: 1px; padding-top: 4371px; margin-left: 611px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                end
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="620" y="4375" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    end
                </text>
            </switch>
        </g>
        <path d="M 858.8 3721 L 918.8 3741 L 858.8 3761 L 798.8 3741 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3741px; margin-left: 800px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Client decision?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="859" y="3745" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Client decision?
                </text>
            </switch>
        </g>
        <path d="M 955 3836 L 1000.5 3881.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1004.21 3885.21 L 996.78 3882.73 L 1000.5 3881.5 L 1001.73 3877.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3860px; margin-left: 979px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                try to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="979" y="3863" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    try to commit
                </text>
            </switch>
        </g>
        <path d="M 929.09 3837.36 L 636.87 4275.7" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 633.95 4280.07 L 634.92 4272.3 L 636.87 4275.7 L 640.75 4276.19 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3883px; margin-left: 889px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                nothing to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="889" y="3886" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    nothing to commit
                </text>
            </switch>
        </g>
        <path d="M 940 3801 L 1000 3821 L 940 3841 L 880 3821 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3821px; margin-left: 881px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Are there any data to commit?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="940" y="3825" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Are there any data t...
                </text>
            </switch>
        </g>
        <path d="M 1440 3191.42 L 910.53 3401" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="1440" y="2881" width="760" height="320" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 758px; height: 1px; padding-top: 2888px; margin-left: 1442px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    new
                                </u>
                                ( db, db_state_guard )
                                <br/>
                                <ol>
                                    <li>
                                        With
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        .
                                        <span style="background-color: rgb(255, 204, 153);">
                                            lock_exclusive
                                        </span>
                                        () :
                                        <br/>
                                        /* Some lines here should be done outside the mutex guard. They'relumped in here for legibility. */
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl := None;
                                            <font color="#0066cc">
                                                <br/>
                                            </font>
                                        </li>
                                        <li>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .head_incl:= at
                                            <font color="#00994d">
                                                list
                                            </font>
                                            head ...
                                        </li>
                                        <ol>
                                            <li>
                                                If there is no head, add dummy with {
                                                <font color="#990099" style="border-color: var(--border-color);">
                                                    hold_count
                                                </font>
                                                =1,
                                                <font color="#cccc00" style="border-color: var(--border-color);">
                                                    is_fence
                                                </font>
                                                =false }
                                            </li>
                                            <li>
                                                Else : node.
                                                <font color="#990099" style="border-color: var(--border-color);">
                                                    hold_count
                                                </font>
                                                += 1;
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#0066cc" style="background-color: initial; border-color: var(--border-color);">
                                                snap_cache
                                            </font>
                                            <span style="background-color: initial;">
                                                := None;
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <font color="#0066cc">
                                                snap_commit_ver
                                            </font>
                                            :=
                                            <font color="#00994d">
                                                curr_commit_ver
                                            </font>
                                            ;
                                            <br/>
                                        </li>
                                        <li style="border-color: var(--border-color);">
                                            <font color="#00994d" style="border-color: var(--border-color);">
                                                held_list_vers
                                            </font>
                                            .add(
                                            <font color="#00994d" style="border-color: var(--border-color);">
                                                curr_list_ver
                                            </font>
                                            );
                                            <br/>
                                            <font color="#0066cc" style="background-color: initial;">
                                                snap_list_ver
                                            </font>
                                            <span style="background-color: initial;">
                                                :=
                                            </span>
                                            <font color="#00994d" style="background-color: initial;">
                                                curr_list_ver
                                            </font>
                                            <span style="background-color: initial;">
                                                ;
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        <span>
                                            := new empty;
                                            <br/>
                                        </span>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        <span>
                                            := new empty;
                                        </span>
                                    </li>
                                    <li>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            := None;
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1442" y="2900" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::new( db, db_state_guard )...
                </text>
            </switch>
        </g>
        <path d="M 1440 3762.14 L 1120 3881" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2200 3621 L 2543.76 3552.25" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2548.9 3551.22 L 2542.73 3556.02 L 2543.76 3552.25 L 2541.35 3549.16 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1440" y="3241" width="760" height="760" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 758px; height: 1px; padding-top: 3248px; margin-left: 1442px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    try_commit
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        .flush();
                                    </li>
                                    <li>
                                        With
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        .
                                        <span style="background-color: rgb(255, 204, 153);">
                                            lock_exclusive
                                        </span>
                                        () :
                                        <br/>
                                        /* Some lines here should be done outside the mutex guard. They're lumped in here for legibility. */
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                If
                                            </span>
                                            <font color="#0066cc">
                                                snap_commit_ver
                                            </font>
                                            <span>
                                                !=
                                            </span>
                                            <font color="#00994d">
                                                curr_commit_ver
                                            </font>
                                            <span>
                                                :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li style="border-color: var(--border-color);">
                                                <font color="#0066cc" style="border-color: var(--border-color);">
                                                    snap
                                                </font>
                                                .tail_excl.
                                                <font color="#990099" style="border-color: var(--border-color);">
                                                    hold_count
                                                </font>
                                                -= 1;  if
                                                <font color="#0066cc" style="border-color: var(--border-color);">
                                                    snap
                                                </font>
                                                .tail_exclis Some
                                                <br/>
                                                If (
                                                <font color="#0066cc" style="background-color: initial; border-color: var(--border-color);">
                                                    snap
                                                </font>
                                                <span style="background-color: initial; border-color: var(--border-color);">
                                                    .tail_excl became non-held) :
                                                </span>
                                                <span style="background-color: initial; border-color: var(--border-color); color: rgb(153, 0, 0);">
                                                    fc_avail
                                                </span>
                                                <span style="background-color: initial; border-color: var(--border-color);">
                                                    .send( () );
                                                </span>
                                                <font color="#0066cc" style="background-color: initial; border-color: var(--border-color);">
                                                    <br/>
                                                </font>
                                            </li>
                                            <li style="border-color: var(--border-color);">
                                                <font color="#0066cc" style="background-color: initial; border-color: var(--border-color);">
                                                    snap
                                                </font>
                                                <span style="background-color: initial;">
                                                    .tail_excl = Some(
                                                </span>
                                                <font color="#0066cc" style="background-color: initial; border-color: var(--border-color);">
                                                    snap
                                                </font>
                                                <span style="background-color: initial;">
                                                    .head_incl);
                                                </span>
                                            </li>
                                            <li>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .head_incl = at
                                                <font color="#00994d" style="border-color: var(--border-color);">
                                                    list
                                                </font>
                                                head ...
                                            </li>
                                            <ol>
                                                <li style="border-color: var(--border-color);">
                                                    If there is no head, add dummy with {
                                                    <font color="#990099" style="border-color: var(--border-color);">
                                                        hold_count
                                                    </font>
                                                    =1,
                                                    <font color="#cccc00" style="border-color: var(--border-color);">
                                                        is_fence
                                                    </font>
                                                    =false }
                                                </li>
                                                <li style="border-color: var(--border-color);">
                                                    Else : node.
                                                    <font color="#990099" style="border-color: var(--border-color);">
                                                        hold_count
                                                    </font>
                                                    += 1;
                                                </li>
                                            </ol>
                                            <li style="border-color: var(--border-color);">
                                                <font color="#0066cc" style="border-color: var(--border-color); background-color: initial;">
                                                    snap_cache
                                                </font>
                                                <span style="border-color: var(--border-color); background-color: initial;">
                                                    := None;
                                                </span>
                                            </li>
                                            <li>
                                                <font color="#0066cc">
                                                    snap_commit_ver
                                                </font>
                                                =
                                                <font color="#00994d">
                                                    curr_commit_ver
                                                </font>
                                                ;
                                            </li>
                                            <li style="border-color: var(--border-color);">
                                                <font style="border-color: var(--border-color);">
                                                    <font color="#00994d" style="color: rgb(0, 153, 77); border-color: var(--border-color);">
                                                        held_list_vers
                                                    </font>
                                                    <span style="color: rgb(0, 0, 0);">
                                                        .remove(
                                                    </span>
                                                    <font color="#0066cc">
                                                        snap_list_ver
                                                    </font>
                                                    <span style="color: rgb(0, 0, 0);">
                                                        );
                                                    </span>
                                                    <br/>
                                                    <font color="#00994d">
                                                        held_list_vers
                                                    </font>
                                                </font>
                                                .add(
                                                <font color="#00994d" style="border-color: var(--border-color);">
                                                    curr_list_ver
                                                </font>
                                                );
                                                <br style="border-color: var(--border-color);"/>
                                                <font color="#0066cc" style="border-color: var(--border-color); background-color: initial;">
                                                    snap_list_ver
                                                </font>
                                                <span style="border-color: var(--border-color); background-color: initial;">
                                                    =
                                                </span>
                                                <font color="#00994d" style="border-color: var(--border-color); background-color: initial;">
                                                    curr_list_ver
                                                </font>
                                                <span style="border-color: var(--border-color); background-color: initial;">
                                                    ;
                                                </span>
                                            </li>
                                            <li style="border-color: var(--border-color);">
                                                Try to advance
                                                <font color="#00994d" style="border-color: var(--border-color);">
                                                    min_held_list_ver
                                                </font>
                                                .
                                                <br/>
                                                If
                                                <font color="#00994d" style="background-color: initial;">
                                                    min_held_list_ver
                                                </font>
                                                <span style="background-color: initial;">
                                                    advanced :
                                                </span>
                                                <span style="background-color: initial; border-color: var(--border-color); color: rgb(153, 0, 0);">
                                                    min_held_list_ver
                                                </span>
                                                <span style="background-color: initial;">
                                                    .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                                </span>
                                            </li>
                                            <li>
                                                return "need to check for conflict";
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li style="border-color: var(--border-color);">
                                                <font color="#00994d" style="border-color: var(--border-color);">
                                                    curr_commit_ver
                                                </font>
                                                += 1;
                                            </li>
                                            <li>
                                                <span>
                                                    committed_unit := CommittedUnit::from(
                                                </span>
                                                <font color="#0066cc">
                                                    staging
                                                </font>
                                                <span>
                                                    ,
                                                </span>
                                                <font color="#00994d">
                                                    curr_commit_ver
                                                </font>
                                                <span>
                                                    );
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        /* Serializing is not cheap, and we're doing it under mutex guard! */
                                                    </span>
                                                    <br/>
                                                    <span>
                                                        On disk, serialize CommitInfo with ...
                                                    </span>
                                                    <br/>
                                                </li>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            commit_ver_lo_incl == commit_ver_hi_incl :=
                                                        </span>
                                                        <font color="#00994d">
                                                            curr_commit_ver
                                                        </font>
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            replacement_num := 0
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                                <li>
                                                    <span>
                                                        In memory, move each WritableMemLog into ReadonlyMemLog.
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    node := Box( ListNode( ... committed_unit ... ) )
                                                    <br/>
                                                </span>
                                                <font color="#00994d">
                                                    list
                                                </font>
                                                .push_head
                                                <span>
                                                    ( node );
                                                </span>
                                            </li>
                                            <li>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .tail_excl.
                                                <font color="#990099">
                                                    hold_count
                                                </font>
                                                -= 1;  if
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .tail_exclis Some
                                                <br/>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .head_incl.
                                                <font color="#990099">
                                                    hold_count
                                                </font>
                                                -= 1;
                                                <br/>
                                                <font color="#990000">
                                                    fc_avail
                                                </font>
                                                <span style="background-color: initial;">
                                                    .send( () );
                                                    <br/>
                                                </span>
                                                /* Notify unconditionally. The list is definitely F+C'able, due to the presence of a new MemLog. */
                                            </li>
                                            <li>
                                                <span>
                                                    <font color="#00994d">
                                                        held_list_vers
                                                    </font>
                                                    .remove(
                                                    <font color="#0066cc">
                                                        snap_list_ver
                                                    </font>
                                                    );
                                                </span>
                                            </li>
                                            <li>
                                                Try to advance
                                                <font color="#00994d">
                                                    min_held_list_ver
                                                </font>
                                                .
                                                <br/>
                                                If
                                                <font color="#00994d" style="background-color: initial; border-color: var(--border-color);">
                                                    min_held_list_ver
                                                </font>
                                                <span style="background-color: initial;">
                                                    advanced :
                                                </span>
                                                <span style="background-color: initial; border-color: var(--border-color); color: rgb(153, 0, 0);">
                                                    min_held_list_ver
                                                </span>
                                                <span style="background-color: initial;">
                                                    .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    return "just committed";
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1442" y="3260" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::try_commit()...
                </text>
            </switch>
        </g>
        <path d="M 1440 4098.78 L 1160 4067.67" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="1440" y="4041" width="760" height="200" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 758px; height: 1px; padding-top: 4048px; margin-left: 1442px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    has_conflict()
                                </u>
                                <br/>
                                <ol>
                                    <li>
                                        committed_units :=
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        .filter( keep CommittedUnit and ignore Dummy );
                                    </li>
                                    <li>
                                        <span>
                                            For each CommittedUnit :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            For each of {PI and SIs}that was written-to in
                                            <font color="#0066cc">
                                                staging
                                            </font>
                                            :
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If {
                                                </span>
                                                <font color="#0066cc">
                                                    dependent_itvs_*
                                                </font>
                                                <span>
                                                    &lt;--&gt; CommittedEntrySet } overlap :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        Return "yes conflict".
                                                    </span>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            Return "no conflict".
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1442" y="4060" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::has_conflict()...
                </text>
            </switch>
        </g>
        <path d="M 1120 3881 L 1194.76 4002.48 Q 1200 4011 1190 4011 L 870 4011 Q 860 4011 862.43 4001.3 L 877.57 3940.7 Q 880 3931 889.12 3926.9 L 1070.88 3845.1 Q 1080 3841 1087.07 3848.07 L 1120 3881" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/>
        <path d="M 940 4001 L 940 4034.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 940 4039.88 L 936.5 4032.88 L 940 4034.63 L 943.5 4032.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="940" cy="4051" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 18px; height: 1px; padding-top: 4051px; margin-left: 931px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                end
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="940" y="4055" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    end
                </text>
            </switch>
        </g>
        <path d="M 1440 4365.29 L 1316 4321" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2200 4501 L 2547.8 3556.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2549.61 3552.05 L 2550.48 3559.83 L 2547.8 3556.98 L 2543.91 3557.41 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1440" y="4281" width="760" height="440" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 758px; height: 1px; padding-top: 4288px; margin-left: 1442px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    reset
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        With
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        .
                                        <span style="background-color: rgb(255, 204, 153);">
                                            lock_exclusive
                                        </span>
                                        () :
                                        <br/>
                                        /* Some lines here should be done outside the mutex guard. They'relumped in here for legibility. */
                                    </li>
                                    <ol>
                                        <li style="border-color: var(--border-color);">
                                            <font color="#0066cc" style="background-color: initial;">
                                                snap
                                            </font>
                                            <span style="background-color: initial;">
                                                .tail_excl.
                                            </span>
                                            <font color="#990099" style="background-color: initial;">
                                                hold_count
                                            </font>
                                            <span style="background-color: initial;">
                                                -= 1;  if
                                            </span>
                                            <font color="#0066cc" style="background-color: initial;">
                                                snap
                                            </font>
                                            <span style="background-color: initial;">
                                                .tail_exclis Some
                                                <br/>
                                            </span>
                                            <font color="#0066cc" style="background-color: initial;">
                                                snap
                                            </font>
                                            <span style="background-color: initial;">
                                                .head_incl.
                                            </span>
                                            <font color="#990099" style="background-color: initial;">
                                                hold_count
                                            </font>
                                            <span style="background-color: initial;">
                                                -= 1;
                                                <br/>
                                            </span>
                                            If (
                                            <font color="#0066cc" style="background-color: initial;">
                                                <font color="#0066cc" style="border-color: var(--border-color);">
                                                    snap
                                                </font>
                                                <span style="color: rgb(0, 0, 0);">
                                                    .tail_excl and/or
                                                </span>
                                                <span style="color: rgb(0, 0, 0);">
                                                </span>
                                                <font color="#0066cc" style="border-color: var(--border-color);">
                                                    snap
                                                </font>
                                                <span style="color: rgb(0, 0, 0);">
                                                    .head_incl became non-held) :
                                                </span>
                                                <span style="border-color: var(--border-color); color: rgb(153, 0, 0);">
                                                    fc_avail
                                                </span>
                                                <span style="color: rgb(0, 0, 0);">
                                                    .send( () )
                                                </span>
                                            </font>
                                        </li>
                                        <li>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl= None;
                                        </li>
                                        <li style="border-color: var(--border-color);">
                                            <font color="#0066cc" style="border-color: var(--border-color);">
                                                snap
                                            </font>
                                            .head_incl = at
                                            <font color="#00994d" style="border-color: var(--border-color);">
                                                list
                                            </font>
                                            head ...
                                        </li>
                                        <ol style="border-color: var(--border-color);">
                                            <li style="border-color: var(--border-color);">
                                                If there is no head, add dummy with {
                                                <font color="#990099" style="border-color: var(--border-color);">
                                                    hold_count
                                                </font>
                                                =1,
                                                <font color="#cccc00" style="border-color: var(--border-color);">
                                                    is_fence
                                                </font>
                                                =false }
                                            </li>
                                            <li style="border-color: var(--border-color);">
                                                Else : node.
                                                <font color="#990099" style="border-color: var(--border-color);">
                                                    hold_count
                                                </font>
                                                += 1;
                                            </li>
                                        </ol>
                                        <li style="border-color: var(--border-color);">
                                            <font color="#0066cc" style="border-color: var(--border-color); background-color: initial;">
                                                snap_cache
                                            </font>
                                            <span style="border-color: var(--border-color); background-color: initial;">
                                                := None;
                                            </span>
                                        </li>
                                        <li style="border-color: var(--border-color);">
                                            <font color="#0066cc" style="border-color: var(--border-color);">
                                                snap_commit_ver
                                            </font>
                                            =
                                            <font color="#00994d" style="border-color: var(--border-color);">
                                                curr_commit_ver
                                            </font>
                                            ;
                                        </li>
                                        <li style="border-color: var(--border-color);">
                                            <span style="border-color: var(--border-color);">
                                                <font color="#00994d" style="border-color: var(--border-color);">
                                                    held_list_vers
                                                </font>
                                                .remove(
                                                <font color="#0066cc" style="border-color: var(--border-color);">
                                                    snap_list_ver
                                                </font>
                                                );
                                                <br/>
                                                <font color="#00994d">
                                                    held_list_vers
                                                </font>
                                                .add(
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                );
                                                <br/>
                                                <font color="#0066cc" style="border-color: var(--border-color); background-color: initial;">
                                                    snap_list_ver
                                                </font>
                                                <span style="border-color: var(--border-color); background-color: initial;">
                                                    =
                                                </span>
                                                <font color="#00994d" style="border-color: var(--border-color); background-color: initial;">
                                                    curr_list_ver
                                                </font>
                                                <span style="border-color: var(--border-color); background-color: initial;">
                                                    ;
                                                </span>
                                                <br/>
                                            </span>
                                        </li>
                                        <li style="border-color: var(--border-color);">
                                            Try to advance
                                            <font color="#00994d" style="border-color: var(--border-color);">
                                                min_held_list_ver
                                            </font>
                                            .
                                            <br/>
                                            If
                                            <font color="#00994d" style="background-color: initial; border-color: var(--border-color);">
                                                min_held_list_ver
                                            </font>
                                            <span style="background-color: initial;">
                                                advanced :
                                            </span>
                                            <span style="background-color: initial; border-color: var(--border-color); color: rgb(153, 0, 0);">
                                                min_held_list_ver
                                            </span>
                                            <span style="background-color: initial;">
                                                .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        .clear();
                                        <br/>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        .clear();
                                    </li>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        is Some :
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#0066cc">
                                                staging
                                            </font>
                                            .clear();
                                        </li>
                                    </ol>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1442" y="4300" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::reset()...
                </text>
            </switch>
        </g>
        <path d="M 1440 4825 L 1379.81 4812.96 Q 1370 4811 1361.73 4805.38 L 649.41 4321" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2200 4901 L 2548.4 3557.16" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2549.72 3552.08 L 2551.35 3559.74 L 2548.4 3557.16 L 2544.57 3557.98 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1440" y="4761" width="760" height="280" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 758px; height: 1px; padding-top: 4768px; margin-left: 1442px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    close
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        With
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        .
                                        <span style="background-color: rgb(255, 204, 153);">
                                            lock_exclusive
                                        </span>
                                        () :
                                        <br/>
                                        /* Some lines here should be done outside the mutex guard. They'relumped in here for legibility. */
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl.
                                            <font color="#990099">
                                                hold_count
                                            </font>
                                            -= 1;  if
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_exclis Some
                                            <br/>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .head_incl.
                                            <font color="#990099">
                                                hold_count
                                            </font>
                                            -= 1;
                                            <br/>
                                            If (
                                            <font color="#0066cc" style="background-color: initial;">
                                                snap
                                            </font>
                                            <span style="background-color: initial;">
                                                .tail_excl and/or
                                            </span>
                                            <font color="#0066cc" style="background-color: initial;">
                                                snap
                                            </font>
                                            <span style="background-color: initial;">
                                                .head_incl became non-held) :
                                            </span>
                                            <span style="background-color: initial; color: rgb(153, 0, 0);">
                                                fc_avail
                                            </span>
                                            <span style="background-color: initial;">
                                                .send( () );
                                            </span>
                                        </li>
                                        <li>
                                            <font color="#00994d" style="border-color: var(--border-color);">
                                                held_list_vers
                                            </font>
                                            .remove(
                                            <font color="#0066cc" style="border-color: var(--border-color);">
                                                snap_list_ver
                                            </font>
                                            );
                                            <br/>
                                        </li>
                                        <li style="border-color: var(--border-color);">
                                            Try to advance
                                            <font color="#00994d" style="border-color: var(--border-color);">
                                                min_held_list_ver
                                            </font>
                                            .
                                            <br/>
                                            If
                                            <font color="#00994d" style="background-color: initial; border-color: var(--border-color);">
                                                min_held_list_ver
                                            </font>
                                            <span style="background-color: initial;">
                                                advanced :
                                            </span>
                                            <span style="background-color: initial; border-color: var(--border-color); color: rgb(153, 0, 0);">
                                                min_held_list_ver
                                            </span>
                                            <span style="background-color: initial;">
                                                .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        is Some :
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#0066cc">
                                                staging
                                            </font>
                                            .remove_dir();
                                        </li>
                                    </ol>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1442" y="4780" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::close()...
                </text>
            </switch>
        </g>
        <rect x="680" y="2561" width="360" height="400" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 400px; padding-top: 2561px; margin-left: 680px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 400px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Txn&lt;'txn&gt;
                                    </b>
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - db: &amp;'txn Db
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#00cccc">
                                        db_state_guard
                                    </font>
                                    : RwLockReadGuard&lt; 'txn, DbState &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap: Snap
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#0066cc">
                                        snap_commit_ver
                                    </font>
                                    : CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#0066cc">
                                        snap_list_ver
                                    </font>
                                    : ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#0066cc">
                                        dependent_itvs_prim
                                    </font>
                                    : IntervalSet&lt; &amp;'txn PK &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#0066cc">
                                        dependent_itvs_scnds
                                    </font>
                                    : HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) IntervalSet&lt; &amp;'txn SV &gt;
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#0066cc">
                                        staging
                                    </font>
                                    : Opt&lt; StagingUnit &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    (... methods ...)
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="680" y="2573" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Txn&lt;'txn&gt;...
                </text>
            </switch>
        </g>
        <path d="M 560 3591.34 L 800 3583.07" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="0" y="3201" width="560" height="800" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 3208px; margin-left: 2px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                /* All these methdos are public to the client callback. */
                                <br/>
                                <br/>
                                Txn::
                                <u>
                                    get_pk_one
                                </u>
                                ( pk )
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        <span>
                                            .add( (pk,pk) );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.prim );
                                            <br/>
                                        </span>
                                        Get one from [stg, snap]. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    get_pk_range
                                </u>
                                ( pk_lo, pk_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        <span>
                                            .add( (pk_lo,pk_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            snap_cache
                                        </font>
                                        is None: collect it from
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap_cache
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.prim );
                                            <br/>
                                        </span>
                                        K-merge [stg, snap]. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    get_sv_range
                                </u>
                                ( sv_spec, sv_lo, sv_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            /* This is a simplistic query engine, which depends on exactly one index. */
                                            <br/>
                                        </span>
                                        If
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec] doesn't exist or
                                        </span>
                                        <font color="#00cccc">
                                            is_readable
                                        </font>
                                        <span>
                                            ==false: return failure.
                                            <br/>
                                        </span>
                                        si_num :=
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec].si_num;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        <span>
                                            [si_num]doesn't exist: create new empty.
                                            <br/>
                                        </span>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        <span>
                                            [si_num].add( (sv_lo,sv_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            snap_cache
                                        </font>
                                        is None: collect it from
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        stg :=
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap_cache
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        K-merge [stg, snap]. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    put
                                </u>
                                ( pk, new_pv )
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        .add( (pk,pk) );
                                        <br/>
                                        /* We must treat concurrent writes on the same PK as a conflict, because they generally invalidate deltas on SIs in staging. */
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.prim );
                                            <br/>
                                        </span>
                                        old_pv := Get one from [stg, snap];
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            is None: create new empty.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each si_num in
                                        </span>
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            :
                                            <br/>
                                        </span>
                                        /* Assess all SIs, regardless of `is_readable
                                        <span>
                                            `. */
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If there is a delta for this SI:
                                        </li>
                                        <ol>
                                            <li>
                                                If
                                                <font color="#0066cc">
                                                    staging
                                                </font>
                                                .scnds[si_num] doesn't exist: create new empty.
                                                <br/>
                                                <font color="#0066cc">
                                                    staging
                                                </font>
                                                .scnds[si_num].put( the_delta );
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .prim
                                        </span>
                                        <span>
                                            .put( (PK,PV) );
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2" y="3220" fill="#000000" font-family="Helvetica" font-size="12px">
                    /* All these methdos are public to the client callback. */...
                </text>
            </switch>
        </g>
        <path d="M 3580 1801 L 3580 1687.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3580 1682.12 L 3583.5 1689.12 L 3580 1687.37 L 3576.5 1689.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1741px; margin-left: 3580px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3580" y="1744" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <rect x="3360" y="1801" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 1801px; margin-left: 3360px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CompactedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; SSTable&lt;PK, OptDat&lt;PV&gt;&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) SSTable&lt;SVPK, OptDat&lt;PV&gt;&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new_empty( UnitDir ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3360" y="1813" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CompactedUnit...
                </text>
            </switch>
        </g>
        <path d="M 3800 1936.56 L 4064.59 1907.16" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="4068.07" cy="1906.77" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 4079.56 1901.47 L 4072.05 1906.33 L 4080.44 1909.42 M 4072.05 1906.33 L 4080 1905.44" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 800 3593.86 L 729.78 3608.9 Q 720 3611 718.57 3620.9 L 623.81 4274.7" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 623.06 4279.89 L 620.6 4272.46 L 623.81 4274.7 L 627.53 4273.47 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3601px; margin-left: 747px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                error
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="747" y="3604" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    error
                </text>
            </switch>
        </g>
        <rect x="3880" y="3961" width="600" height="840" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3968px; margin-left: 3882px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    traverse_and_compact
                                </u>
                                ( snap_head )
                                <br/>
                                <ol>
                                    <li>
                                        <span style="background-color: initial;">
                                            While true :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                Identify one segment that is [ held node on the newer end ~ node on the older end ) .
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    ... where "node on the older end (exclusive)" is any of :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        Null
                                                    </span>
                                                </li>
                                                <li>
                                                    Dummy node with
                                                    <font color="#cccc00">
                                                        is_fence
                                                    </font>
                                                    =true
                                                </li>
                                                <li>
                                                    Node with
                                                    <font color="#990099">
                                                        hold_count
                                                    </font>
                                                    &gt;0
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    While traversing, do ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        Cut and collect non-fence non-held dummy nodes.
                                                    </span>
                                                </li>
                                                <li>
                                                    Collect CommittedUnit nodes.
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            Do flush and compact.
                                        </li>
                                        <li>
                                            If flushing+compacting created a replacement node :
                                        </li>
                                        <ol>
                                            <li>
                                                Insert the node as older than snap_head.
                                                <br/>
                                                /* There is no contention. */
                                            </li>
                                        </ol>
                                        <li>
                                            If (1+ non-fence non-held dummy nodes were cut) or (1+ CommittedUnit nodes were replaced) :
                                        </li>
                                        <ol>
                                            <li style="border-color: var(--border-color);">
                                                <span style="border-color: var(--border-color); background-color: initial;">
                                                    With
                                                </span>
                                                <font color="#00994d" style="border-color: var(--border-color); background-color: initial;">
                                                    lsm_state
                                                </font>
                                                <span style="border-color: var(--border-color); background-color: initial;">
                                                    .
                                                </span>
                                                <span style="border-color: var(--border-color); background-color: rgb(255, 204, 153);">
                                                    lock_exclusive
                                                </span>
                                                <span style="border-color: var(--border-color); background-color: initial;">
                                                    () :
                                                </span>
                                            </li>
                                            <ol style="border-color: var(--border-color);">
                                                <li style="border-color: var(--border-color);">
                                                    <font style="border-color: var(--border-color); background-color: initial;">
                                                        penult_list_ver :=
                                                    </font>
                                                    <font color="#00994d" style="border-color: var(--border-color); background-color: initial;">
                                                        curr_list_ver;
                                                        <br style="border-color: var(--border-color);"/>
                                                    </font>
                                                    <font color="#00994d" style="border-color: var(--border-color); background-color: initial;">
                                                        curr_list_ver
                                                    </font>
                                                    <span style="border-color: var(--border-color); background-color: initial;">
                                                        += 1;
                                                    </span>
                                                </li>
                                                <li style="border-color: var(--border-color);">
                                                    Try to advance
                                                    <font color="#00994d" style="border-color: var(--border-color); background-color: initial;">
                                                        min_held_list_ver
                                                    </font>
                                                    <span style="border-color: var(--border-color); background-color: initial;">
                                                        .
                                                    </span>
                                                </li>
                                            </ol>
                                            <li style="border-color: var(--border-color);">
                                                <font color="#cc6600" style="border-color: var(--border-color); background-color: initial;">
                                                    dangling_nodes
                                                </font>
                                                <span style="border-color: var(--border-color); background-color: initial;">
                                                    .push_back( ( penult_list_ver, cut_nodes ) );
                                                </span>
                                                <br style="border-color: var(--border-color);"/>
                                            </li>
                                            <li style="border-color: var(--border-color);">
                                                <span style="border-color: var(--border-color); background-color: initial;">
                                                    If
                                                </span>
                                                <font style="border-color: var(--border-color); background-color: initial;" color="#00994d">
                                                    min_held_list_ver
                                                </font>
                                                <span style="border-color: var(--border-color); background-color: initial;">
                                                    was advanced :
                                                </span>
                                                <br style="border-color: var(--border-color);"/>
                                            </li>
                                            <ol style="border-color: var(--border-color);">
                                                <li style="border-color: var(--border-color);">
                                                    <font color="#cc6600" style="border-color: var(--border-color); background-color: initial;">
                                                        danling_nodes
                                                    </font>
                                                    <span style="border-color: var(--border-color); background-color: initial;">
                                                        .gc_old_nodes(
                                                    </span>
                                                    <font style="border-color: var(--border-color); background-color: initial;">
                                                        min_held_list_ver
                                                    </font>
                                                    <span style="border-color: var(--border-color); background-color: initial;">
                                                        );
                                                    </span>
                                                </li>
                                            </ol>
                                            <li>
                                                /* We already modified the LL. Now, at a delay, we're changing the list_ver info. */
                                            </li>
                                            <li>
                                                /* We change list_ver info every segment. We could choose to do it less frequently. */
                                            </li>
                                        </ol>
                                        <li>
                                            Match the curr segment's "node on the older end (exclusive)" :
                                        </li>
                                        <ol>
                                            <li>
                                                Case any of :
                                            </li>
                                            <ol>
                                                <li>
                                                    Null
                                                </li>
                                                <li style="border-color: var(--border-color);">
                                                    Dummy node with
                                                    <font color="#cccc00" style="border-color: var(--border-color);">
                                                        is_fence
                                                    </font>
                                                    =true
                                                </li>
                                                <li style="border-color: var(--border-color);">
                                                    =&gt; then break the traversal.
                                                </li>
                                            </ol>
                                            <li>
                                                Case any of :
                                            </li>
                                            <ol>
                                                <li style="border-color: var(--border-color);">
                                                    Node with
                                                    <font color="#990099" style="border-color: var(--border-color);">
                                                        hold_count
                                                    </font>
                                                    &gt;0
                                                </li>
                                                <li style="border-color: var(--border-color);">
                                                    Dummy with
                                                    <font color="#cccc00" style="border-color: var(--border-color);">
                                                        is_fence
                                                    </font>
                                                    =false and
                                                    <font color="#990099" style="border-color: var(--border-color);">
                                                        hold_count
                                                    </font>
                                                    ==0
                                                    <br/>
                                                    /* This dummy must have become non-fence non-held after we traversed it initially.
                                                    <br/>
                                                    In actual impl, we load each AtomicPtr once only, so we'll never encounter this case. */
                                                </li>
                                                <li style="border-color: var(--border-color);">
                                                    Node with CommittedUnit
                                                </li>
                                                <li style="border-color: var(--border-color);">
                                                    =&gt; then continue traversing.
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                </ol>
                                <ul></ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3882" y="3980" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::traverse_and_compact( snap_head )...
                </text>
            </switch>
        </g>
        <rect x="1040" y="3961" width="120" height="40" rx="6" ry="6" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3981px; margin-left: 1041px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn:: update_snapshot()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1100" y="3985" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn:: update_snapsho...
                </text>
            </switch>
        </g>
        <path d="M 1100 4001 L 1100 4034.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1100 4039.88 L 1096.5 4032.88 L 1100 4034.63 L 1103.5 4032.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3080 2715.69 L 3160 2716.94" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="2480" y="2541" width="600" height="340" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 2548px; margin-left: 2482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    Termination flow
                                </b>
                                <br/>
                                <br/>
                                <div>
                                    Steps:
                                </div>
                                <ol>
                                    <li>
                                        Client calls DB::terminate()
                                    </li>
                                    <ol>
                                        <li>
                                            With
                                            <font color="#00cccc" style="background-color: initial; border-color: var(--border-color);">
                                                db_state
                                            </font>
                                            <span style="background-color: initial;">
                                                .
                                            </span>
                                            <span style="border-color: var(--border-color); background-color: rgb(255, 204, 153);">
                                                lock_exclusive
                                            </span>
                                            <span style="background-color: initial;">
                                                () :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                set
                                                <font color="#00cccc" style="background-color: initial; border-color: var(--border-color);">
                                                    is_terminating
                                                </font>
                                                <span style="background-color: initial;">
                                                    to true;
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span style="background-color: initial; border-color: var(--border-color);">
                                                /* From now on, no new
                                            </span>
                                            <font color="#0066cc" style="background-color: initial; border-color: var(--border-color);">
                                                txn
                                            </font>
                                            <span style="background-color: initial; border-color: var(--border-color);">
                                                can start, and no new
                                            </span>
                                            <font color="#cccc00" style="background-color: initial; border-color: var(--border-color);">
                                                SICr
                                            </font>
                                            <span style="background-color: initial; border-color: var(--border-color);">
                                                can start. */
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <font color="#990000" style="background-color: initial; border-color: var(--border-color);">
                                                is_terminating
                                            </font>
                                            <span style="background-color: initial;">
                                                .send( () );
                                                <br/>
                                            </span>
                                            /* This is equivalent to notifying a Conditional Variable. */
                                        </li>
                                        <li>
                                            <span style="background-color: initial;">
                                                /* We must do them in this order. */
                                            </span>
                                            <br/>
                                        </li>
                                    </ol>
                                    <li>
                                        F+C worker does ...
                                    </li>
                                    <ol>
                                        <li>
                                            Receive the notification on
                                            <span style="color: rgb(153, 0, 0);">
                                                is_terminating
                                            </span>
                                            .
                                        </li>
                                        <li>
                                            FCWorker::poll_held_list_vers_then_gc();
                                        </li>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2482" y="2560" fill="#000000" font-family="Helvetica" font-size="12px">
                    Termination flow...
                </text>
            </switch>
        </g>
        <rect x="3160" y="2521" width="520" height="400" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 518px; height: 1px; padding-top: 2528px; margin-left: 3162px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCWorker::
                                <u>
                                    poll_held_list_vers_then_gc
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li style="border-color: var(--border-color);">
                                        /* F+C worker no longer attempts to do any F+C'ing, and instead only waits to complete GC'ing.
                                        <br style="border-color: var(--border-color);"/>
                                        Hence, F+C is interested in list_ver info only, not commit_ver info. */
                                        <br/>
                                        /*
                                        <span style="background-color: initial; border-color: var(--border-color); color: rgb(153, 0, 0);">
                                            min_held_list_ver
                                        </span>
                                        <span style="background-color: initial;">
                                            does not inform whether
                                        </span>
                                        <font color="#00994d" style="background-color: initial; border-color: var(--border-color);">
                                            curr_list_ver
                                        </font>
                                        <span style="background-color: initial;">
                                            is held or not. But this is irrelevant for the purpose of GC.*/
                                        </span>
                                    </li>
                                    <li>
                                        While true :
                                    </li>
                                    <ol>
                                        <li>
                                            With
                                            <font color="#00994d">
                                                lsm_state
                                            </font>
                                            .
                                            <span style="background-color: rgb(255, 204, 153);">
                                                lock_exclusive
                                            </span>
                                            () :
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If (
                                                </span>
                                                <font color="#990000" style="border-color: var(--border-color);">
                                                    min_held_list_ver
                                                </font>
                                                ==
                                                <font color="#00994d" style="border-color: var(--border-color);">
                                                    curr_list_ver
                                                </font>
                                                <span style="background-color: initial;">
                                                    ) or (
                                                </span>
                                                <font color="#00994d" style="background-color: initial;">
                                                    held_list_vers
                                                </font>
                                                <span style="background-color: initial;">
                                                    is empty) :
                                                    <br/>
                                                    /* Either check is correct. */
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                Sleep a bit.
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        For each (_, nodes) in
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        :
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            For each node in nodes :
                                        </li>
                                        <ol>
                                            <li>
                                                Remove files. Drop memory.
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3162" y="2540" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCWorker::poll_held_list_vers_then_gc()...
                </text>
            </switch>
        </g>
        <path d="M 3920 3031.81 L 3685.41 2885.98" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3680.95 2883.21 L 3688.74 2883.93 L 3685.41 2885.98 L 3685.05 2889.88 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="640" y="3041" width="440" height="200" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#0066cc" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 3048px; margin-left: 642px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    run
                                </u>
                                ( db, retry_limit, client_cb )
                                <br/>
                                <ol>
                                    <li>
                                        With db_state_guard =
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        .
                                        <span style="background-color: rgb(255, 204, 153);">
                                            lock_shared
                                        </span>
                                        () :
                                        <br/>
                                        /* This guard is held for the duration of the txn. */
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#00cccc">
                                                is_terminating
                                            </font>
                                            == true :
                                        </li>
                                        <ol>
                                            <li>
                                                Return error.
                                            </li>
                                        </ol>
                                        <li>
                                            txn := Txn::new( ... );
                                        </li>
                                        <li>
                                            Make the txn go through the state transitions.
                                        </li>
                                        <li>
                                            Return what client_cb returns.
                                        </li>
                                    </ol>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="642" y="3060" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::run( db, retry_limit, client_cb )...
                </text>
            </switch>
        </g>
        <rect x="3320" y="381" width="40" height="30" fill="none" stroke="none" pointer-events="all"/>
        <path d="M 3322.46 381 C 3321.95 381 3321.7 381.2 3321.54 381.44 L 3320 383.88 L 3320 409.38 C 3320 410.19 3320.51 411 3321.68 411 L 3355.35 411 C 3356.02 411 3356.18 410.77 3356.27 410.28 L 3359.86 391.92 C 3360 391.29 3359.67 390.8 3358.9 390.8 L 3356.18 390.8 L 3356.18 384.83 C 3356.18 384.05 3355.84 383.43 3354.88 383.43 L 3335.91 383.43 L 3334.65 381.52 C 3334.43 381.19 3334.17 381 3333.68 381 Z M 3322.49 382.21 L 3333.67 382.21 L 3335.25 384.64 L 3354.96 384.64 L 3354.96 390.8 L 3343.09 390.8 C 3342.55 390.8 3342.22 391.01 3341.99 391.38 L 3340.8 393.42 L 3324.81 393.42 C 3324.14 393.42 3323.83 393.7 3323.69 394.34 L 3321.22 407.59 L 3321.22 384.22 Z M 3343.03 392 L 3354.96 392 L 3355.57 392 L 3358.61 392 L 3355.14 409.79 L 3322.05 409.79 L 3324.88 394.62 L 3341.5 394.62 Z" fill="#434445" stroke="none" pointer-events="all"/>
        <ellipse cx="2550" cy="3551" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="none" pointer-events="all"/>
        <rect x="2540" y="3541" width="20" height="20" fill="none" stroke="none" pointer-events="all"/>
        <path d="M 3300 1131 L 3353.73 1121.41" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3358.9 1120.48 L 3352.62 1125.16 L 3353.73 1121.41 L 3351.39 1118.27 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3300" cy="1131" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="none" pointer-events="all"/>
        <rect x="3290" y="1121" width="20" height="20" fill="none" stroke="none" pointer-events="all"/>
        <path d="M 3300 1131 L 3308.05 1433.04 C 3311.95 1432.94 3312.11 1438.94 3308.21 1439.04 L 3308.21 1439.04 L 3312.86 1613.38 C 3316.76 1613.27 3316.92 1619.27 3313.02 1619.38 L 3313.02 1619.38 L 3319.73 1871 Q 3320 1881 3329.56 1883.94 L 3353.91 1891.43" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3358.93 1892.98 L 3351.21 1894.27 L 3353.91 1891.43 L 3353.27 1887.58 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2360 721 L 2360 954.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2360 959.88 L 2356.5 952.88 L 2360 954.63 L 2363.5 952.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 841px; margin-left: 2360px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2360" y="844" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 2480 721 L 2480 1154.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2480 1159.88 L 2476.5 1152.88 L 2480 1154.63 L 2483.5 1152.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 941px; margin-left: 2480px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2480" y="944" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <rect x="920" y="41" width="200" height="20" fill="none" stroke="none" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 51px; margin-left: 921px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                https://github.com/ysono/pancake/
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1020" y="55" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    https://github.com/ysono/pancake/
                </text>
            </switch>
        </g>
        <path d="M 2200 3724.64 L 2560 3822.82" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1120" cy="3881" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="none" pointer-events="all"/>
        <rect x="1110" y="3871" width="20" height="20" fill="none" stroke="none" pointer-events="all"/>
        <rect x="80" y="4081" width="280" height="80" fill="#e6e6e6" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 4088px; margin-left: 82px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    TODO
                                </b>
                                <br/>
                                <ul style="">
                                    <li style="">
                                        <span style="background-color: initial;">
                                            Early detection of conflicts.
                                        </span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="82" y="4100" fill="#000000" font-family="Helvetica" font-size="12px">
                    TODO...
                </text>
            </switch>
        </g>
        <path d="M 233.85 4001 L 224.62 4081" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="3000" y="2161" width="760" height="160" fill="#e6e6e6" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 758px; height: 1px; padding-top: 2168px; margin-left: 3002px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    TODO on Units
                                    <br/>
                                </b>
                                <ul>
                                    <li>
                                        <span style="background-color: initial;">
                                            StagingUnit should hold both in-memory and on-disk components, to support txns that write a lot of data, eg a bulk upload.
                                        </span>
                                    </li>
                                    <ul>
                                        <li>
                                            <span style="background-color: initial;">
                                                In-memory component can be WritableMemLog.
                                            </span>
                                        </li>
                                        <li>
                                            <span style="background-color: initial;">
                                                On-disk component could be SSTable, or could be a {heap file (the "commit log" file) + intra-file pointers} combo.
                                            </span>
                                        </li>
                                    </ul>
                                    <li>
                                        Each *Unit type should do levelled compaction within.
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3002" y="2180" fill="#000000" font-family="Helvetica" font-size="12px">
                    TODO on Units...
                </text>
            </switch>
        </g>
        <path d="M 859.4 3241 L 858.8 3341" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5360 3623.36 L 4732.83 3264.16" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4728.27 3261.56 L 4736.08 3262 L 4732.83 3264.16 L 4732.6 3268.07 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="5360" y="3281" width="760" height="1120" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#cccc00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 758px; height: 1px; padding-top: 3288px; margin-left: 5362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                SICrJob::
                                <u>
                                    do_create
                                </u>
                                ( &amp;Arc&lt; SVSpec &gt; )
                                <br/>
                                <ol>
                                    <li>
                                        <span style="background-color: initial;">
                                            With
                                        </span>
                                        <font color="#00cccc" style="background-color: initial;">
                                            db_state
                                        </font>
                                        <span style="background-color: initial;">
                                            .
                                        </span>
                                        <span style="background-color: rgb(255, 204, 153);">
                                            lock_shared
                                        </span>
                                        <span style="background-color: initial;">
                                            () :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#00cccc">
                                                is_terminating
                                            </font>
                                            == true :
                                        </li>
                                        <ol>
                                            <li>
                                                Return error.
                                            </li>
                                        </ol>
                                        <li>
                                            <span style="background-color: initial;">
                                                If
                                            </span>
                                            <font color="#00cccc" style="background-color: initial;">
                                                scnd_idxs
                                            </font>
                                            <span style="background-color: initial;">
                                                .has_key( sv_spec ) :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span style="background-color: initial;">
                                                    Return error.
                                                </span>
                                                <br/>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        With
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        .
                                        <span style="background-color: rgb(255, 204, 153);">
                                            lock_exclusive
                                        </span>
                                        () :
                                        <br/>
                                    </li>
                                    <ol>
                                        <li style="border-color: var(--border-color);">
                                            If
                                            <font color="#00cccc" style="border-color: var(--border-color);">
                                                is_terminating
                                            </font>
                                            == true :
                                        </li>
                                        <ol style="border-color: var(--border-color);">
                                            <li style="border-color: var(--border-color);">
                                                Return error.
                                            </li>
                                        </ol>
                                        <li>
                                            <span style="background-color: initial;">
                                                If
                                            </span>
                                            <font color="#00cccc" style="background-color: initial;">
                                                scnd_idxs
                                            </font>
                                            <span style="background-color: initial;">
                                                .has_key( sv_spec ) :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span style="background-color: initial;">
                                                    Return error.
                                                </span>
                                                <br/>
                                            </li>
                                        </ol>
                                        <li>
                                            <u style="background-color: initial;">
                                                si_num
                                            </u>
                                            <span style="background-color: initial;">
                                                :=
                                            </span>
                                            <font color="#00cccc" style="background-color: initial;">
                                                next_scnd_idx_num
                                            </font>
                                            <span style="background-color: initial;">
                                                .fetch_inc();
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <font color="#00cccc" style="background-color: initial;">
                                                scnd_idxs
                                            </font>
                                            <span style="background-color: initial;">
                                                .insert( sv_spec, ( si_num,
                                            </span>
                                            <font color="#00cccc" style="background-color: initial;">
                                                is_readable
                                            </font>
                                            <span style="background-color: initial;">
                                                =false ) );
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <span style="background-color: initial;">
                                                Serialize ScndIdxsState to disk.
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <span style="background-color: initial;">
                                                With
                                            </span>
                                            <font color="#00994d" style="background-color: initial; border-color: var(--border-color);">
                                                lsm_state
                                            </font>
                                            <span style="background-color: initial; border-color: var(--border-color);">
                                                .
                                            </span>
                                            <span style="border-color: var(--border-color); background-color: rgb(255, 204, 153);">
                                                lock_exclusive
                                            </span>
                                            <span style="background-color: initial; border-color: var(--border-color);">
                                                () :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span style="background-color: initial; border-color: var(--border-color);">
                                                    <u style="border-color: var(--border-color);">
                                                        snap_head
                                                    </u>
                                                    := {
                                                    <font color="#990099">
                                                        hold_count
                                                    </font>
                                                    =0,
                                                    <font color="#cccc00">
                                                        is_fence
                                                    </font>
                                                    =true };
                                                    <br/>
                                                </span>
                                                <font color="#00994d">
                                                    list.push_head
                                                </font>
                                                (
                                                <u style="background-color: initial; border-color: var(--border-color);">
                                                    snap_head
                                                </u>
                                                <span style="background-color: initial;">
                                                    );
                                                    <br/>
                                                    /* Push. Never update. */
                                                </span>
                                            </li>
                                            <li>
                                                <span style="background-color: initial;">
                                                    <font color="#00994d" style="border-color: var(--border-color); background-color: initial;">
                                                        curr_commit_ver
                                                    </font>
                                                    <span style="border-color: var(--border-color); background-color: initial;">
                                                    </span>
                                                    <span style="border-color: var(--border-color); background-color: initial;">
                                                        += 1;
                                                    </span>
                                                    <br/>
                                                    <u>
                                                        output_commit_ver
                                                    </u>
                                                </span>
                                                <span style="background-color: initial;">
                                                    :=
                                                </span>
                                                <span style="background-color: initial;">
                                                </span>
                                                <font color="#00994d" style="background-color: initial; border-color: var(--border-color);">
                                                    curr_commit_ver
                                                </font>
                                                <span style="background-color: initial;">
                                                    ;
                                                </span>
                                                <br/>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        /* Comment */
                                    </li>
                                    <ul>
                                        <li>
                                            <span style="background-color: initial;">
                                                While
                                            </span>
                                            <font color="#00cccc" style="background-color: initial;">
                                                db_state
                                            </font>
                                            <span style="background-color: initial;">
                                                was exclusively locked, ...
                                            </span>
                                        </li>
                                        <ul>
                                            <li>
                                                No txn was in progress, and no new txns could start.
                                            </li>
                                            <li>
                                                F+C was not traversing the LL.
                                            </li>
                                        </ul>
                                        <li>
                                            <span style="background-color: initial;">
                                                After the lock on
                                            </span>
                                            <span style="background-color: initial; color: rgb(0, 204, 204);">
                                                db_state
                                            </span>
                                            <span style="background-color: initial;">
                                                is released, ...
                                            </span>
                                        </li>
                                        <ul>
                                            <li>
                                                <span style="background-color: initial;">
                                                    New txns can start again. New commitments will write deltas to the new (not yet readable) SI.
                                                </span>
                                            </li>
                                            <li>
                                                <span style="background-color: initial;">
                                                    F+C can traverse the LL again. The traversal is guaranteed to stop at or above
                                                </span>
                                                <u style="background-color: initial; border-color: var(--border-color);">
                                                    snap_head
                                                </u>
                                                <span style="background-color: initial; border-color: var(--border-color);">
                                                    .
                                                </span>
                                            </li>
                                        </ul>
                                    </ul>
                                    <li>
                                        (tx, rx) := oneshot::channel();
                                        <br/>
                                        req := FlushAndCompactRequest{
                                        <u>
                                            snap_head
                                        </u>
                                        , tx };
                                        <br/>
                                        <font color="#990000">
                                            fc_request
                                        </font>
                                        .send( req );
                                        <br/>
                                        rx.receive();
                                    </li>
                                    <li>
                                        <span style="border-color: var(--border-color);">
                                            committed_unit := create_unit( ... );
                                        </span>
                                    </li>
                                    <li style="border-color: var(--border-color);">
                                        If committed_unit is Some :
                                    </li>
                                    <ol>
                                        <li style="border-color: var(--border-color);">
                                            node := Box( ListNode( ... committed_unit ... ) );
                                        </li>
                                        <li style="border-color: var(--border-color);">
                                            node.next =
                                            <span style="background-color: initial; border-color: var(--border-color);">
                                                <span style="border-color: var(--border-color);">
                                                    <u>
                                                        snap_front_excl
                                                    </u>
                                                </span>
                                                .next.load();
                                                <br/>
                                            </span>
                                            <span style="background-color: initial; border-color: var(--border-color);">
                                                <u>
                                                    snap_front_excl
                                                </u>
                                            </span>
                                            <span style="background-color: initial;">
                                                .next.store( node );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <u style="background-color: initial; border-color: var(--border-color);">
                                            snap_front_excl
                                        </u>
                                        <span style="background-color: initial; border-color: var(--border-color);">
                                            .
                                        </span>
                                        <font color="#cccc00" style="background-color: initial; border-color: var(--border-color);">
                                            is_fence
                                        </font>
                                        <span style="background-color: initial; border-color: var(--border-color);">
                                            .store( false );
                                        </span>
                                        <br/>
                                    </li>
                                    <li style="border-color: var(--border-color);">
                                        With
                                        <font color="#00cccc" style="border-color: var(--border-color);">
                                            db_state
                                        </font>
                                        .
                                        <span style="background-color: rgb(255, 204, 153);">
                                            lock_exclusive
                                        </span>
                                        () :
                                    </li>
                                    <ol style="border-color: var(--border-color);">
                                        <li>
                                            <font color="#00cccc" style="background-color: initial; border-color: var(--border-color);">
                                                scnd_idxs
                                            </font>
                                            <span style="background-color: initial;">
                                                [ sv_spec ].
                                            </span>
                                            <font color="#00cccc" style="background-color: initial; border-color: var(--border-color);">
                                                is_readable
                                            </font>
                                            <span style="background-color: initial;">
                                                = true ;
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <span style="background-color: initial;">
                                                Serialize ScndIdxsState to disk.
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            /* B/c we need to write to disk, we need an exclusive guard.
                                            <br/>
                                            Hence it's not useful to make is_readable be typed AtomicBool. */
                                        </li>
                                    </ol>
                                    <li style="border-color: var(--border-color);">
                                        <font color="#990000" style="border-color: var(--border-color);">
                                            fc_avail
                                        </font>
                                        <span style="border-color: var(--border-color);">
                                            .send( () );
                                        </span>
                                    </li>
                                    <ul>
                                        <li>
                                            <span style="background-color: initial;">
                                                /*
                                            </span>
                                            When F+C is notified, it acquires a shared lock on
                                            <span style="background-color: initial; color: rgb(0, 204, 204);">
                                                db_state
                                            </span>
                                            <span style="background-color: initial;">
                                                . Hence, we should notify after having locked (and released)
                                            </span>
                                            <span style="background-color: initial; color: rgb(0, 204, 204);">
                                                db_state
                                            </span>
                                            <span style="background-color: initial;">
                                                for our needs, in the previous step.
                                            </span>
                                            */
                                        </li>
                                    </ul>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5362" y="3300" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICrJob::do_create( &amp;Arc&lt; SVSpec &gt; )...
                </text>
            </switch>
        </g>
        <path d="M 4632.7 3261 L 4405.46 3397.72" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4400.96 3400.42 L 4405.15 3393.82 L 4405.46 3397.72 L 4408.76 3399.81 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4638 3271 C 4634.65 3268.78 4632.63 3265.02 4632.63 3261 C 4632.63 3256.98 4634.65 3253.22 4638 3251 L 4722 3251 C 4725.35 3253.22 4727.37 3256.98 4727.37 3261 C 4727.37 3265.02 4725.35 3268.78 4722 3271 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4722 3251 C 4725.35 3253.22 4727.37 3256.98 4727.37 3261 C 4727.37 3265.02 4725.35 3268.78 4722 3271 C 4718.65 3268.78 4716.63 3265.02 4716.63 3261 C 4716.63 3256.98 4718.65 3253.22 4722 3251" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3278px; margin-left: 4680px;">
                        <div data-drawio-colors="color: #990000; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                fc_request
                                <br/>
                                &lt; FlushAndCompactRequest &gt;
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4680" y="3291" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    fc_request...
                </text>
            </switch>
        </g>
        <path d="M 4727.3 3341 L 5354.29 3650.56" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5359 3652.89 L 5351.17 3652.93 L 5354.29 3650.56 L 5354.27 3646.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4638 3351 C 4634.65 3348.78 4632.63 3345.02 4632.63 3341 C 4632.63 3336.98 4634.65 3333.22 4638 3331 L 4722 3331 C 4725.35 3333.22 4727.37 3336.98 4727.37 3341 C 4727.37 3345.02 4725.35 3348.78 4722 3351 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4722 3331 C 4725.35 3333.22 4727.37 3336.98 4727.37 3341 C 4727.37 3345.02 4725.35 3348.78 4722 3351 C 4718.65 3348.78 4716.63 3345.02 4716.63 3341 C 4716.63 3336.98 4718.65 3333.22 4722 3331" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3358px; margin-left: 4680px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                (oneshot channel)
                                <br/>
                                &lt; Res&lt; () &gt; &gt;
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4680" y="3371" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    (oneshot channe...
                </text>
            </switch>
        </g>
        <path d="M 4680 3201 L 4680 3251" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="4520" y="3081" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 3081px; margin-left: 4520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        FlushAndCompactRequest
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span style="background-color: initial;">
                                        + snap_head: NonNullSendPtr&lt; LsmNode&lt;_&gt; &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span style="background-color: initial;">
                                        +
                                    </span>
                                    <span style="background-color: initial;">
                                        resp_tx
                                    </span>
                                    <span style="background-color: initial;">
                                        : oneshot::Sender&lt; Res&lt; () &gt; &gt;
                                    </span>
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4520" y="3093" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    FlushAndCompactRequest...
                </text>
            </switch>
        </g>
        <rect x="6200" y="3881" width="600" height="480" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#cccc00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3888px; margin-left: 6202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                SICrJob::
                                <u>
                                    create_unit
                                </u>
                                ()
                                <br/>
                                /* Args are the underlined variables. */
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            snap := ListSnapshot{
                                        </span>
                                        <u>
                                            snap_head
                                        </u>
                                        <span>
                                            , tail_excl=None };
                                            <br/>
                                        </span>
                                        snap_pkpv
                                        <span>
                                            :=
                                        </span>
                                        <span>
                                            snap.iter().filter_map( (unit) -&gt; unit.prim ).k_merge().filter( keep non-Tombstone );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each (pk, pv) in snap_pkpv :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If let Some(sv) =
                                            <u>
                                                sv_spec
                                            </u>
                                            .extract(pv) :
                                        </li>
                                        <ol>
                                            <li>
                                                Write to a Memtable (without log).
                                            </li>
                                            <li>
                                                Periodically flush Memtable to a new file (without SSTable's in-memory sparse index).
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            If there were no data :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            /* There is no file to delete. */
                                        </li>
                                        <li>
                                            return None;
                                        </li>
                                    </ol>
                                    <li>
                                        Else :
                                    </li>
                                    <ol>
                                        <li>
                                            K-merge all temporary sorted files, into one final SSTable.
                                        </li>
                                        <li>
                                            Remove all temporary sorted files.
                                        </li>
                                        <li>
                                            <span style="background-color: initial;">
                                                compacted_unit := CompactedUnit::new( ... );
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <span style="background-color: initial;">
                                                compacted_unit.scnds.insert(
                                                <u>
                                                    si_num
                                                </u>
                                                , the one final SSTable );
                                            </span>
                                        </li>
                                        <li>
                                            commit_info := CommitInfo{ ... }
                                        </li>
                                        <ol>
                                            <li>
                                                commit_ver_lo_incl = commit_ver_hi_incl =
                                                <u>
                                                    output_commit_ver
                                                </u>
                                            </li>
                                            <li>
                                                replacement_num = zero
                                            </li>
                                            <li>
                                                data_type = "SSTable"
                                            </li>
                                        </ol>
                                        <li>
                                            committed_unit := CommittedUnit::from_compacted( compacted_unit, commit_info );
                                        </li>
                                        <li>
                                            Return Some( committed_unit );
                                        </li>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6202" y="3900" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICrJob::create_unit()...
                </text>
            </switch>
        </g>
        <path d="M 6120 3981 L 6194.02 4008.27" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6198.95 4010.09 L 6191.17 4010.95 L 6194.02 4008.27 L 6193.59 4004.38 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="5440" y="2921" width="400" height="280" rx="16" ry="16" fill="rgb(255, 255, 255)" stroke="#cccc00" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 398px; height: 1px; padding-top: 2928px; margin-left: 5442px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                SICrJob::
                                <u>
                                    create_scnd_idx
                                </u>
                                ( &amp;Arc&lt; SVSpec &gt; )
                                <br/>
                                <br/>
                                Steps:
                                <br/>
                                <ol>
                                    <li>
                                        With
                                        <font color="#cccc00">
                                            si_cr_mutex
                                        </font>
                                        .
                                        <span style="background-color: rgb(255, 204, 153);">
                                            lock_exclusive
                                        </span>
                                        () :
                                        <br/>
                                        /* This guard is held for the duration of this secondary index creation job instance. */
                                    </li>
                                    <ol>
                                        <li>
                                            do_create();
                                        </li>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5442" y="2940" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICrJob::create_scnd_idx( &amp;Arc&lt; SVSpec &gt; )...
                </text>
            </switch>
        </g>
        <path d="M 5657.95 3201 L 5667.4 3274.68" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5668.06 3279.89 L 5663.7 3273.39 L 5667.4 3274.68 L 5670.64 3272.5 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1910 441 L 1970 441 L 1970 691 L 1960 691 L 1940 721 L 1940 691 L 1910 691 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="translate(0,581)scale(1,-1)translate(0,-581)rotate(-270,1940,581)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 245px; height: 1px; padding-top: 558px; margin-left: 1835px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                If a thread is to lock both
                                <font color="#00cccc">
                                    db_state
                                </font>
                                and
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                , it must lock
                                <font color="#00cccc">
                                    db_state
                                </font>
                                first, then
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                .
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1835" y="570" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    If a thread is to lock bothdb_stateand...
                </text>
            </switch>
        </g>
        <path d="M 4400 3401 L 4477.04 3555.94" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4479.38 3560.64 L 4473.13 3555.93 L 4477.04 3555.94 L 4479.4 3552.81 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4400 3401 L 4626.53 3342.59" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4631.62 3341.28 L 4625.71 3346.42 L 4626.53 3342.59 L 4623.97 3339.64 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="4400" cy="3401" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="none" pointer-events="all"/>
        <rect x="4390" y="3391" width="20" height="20" fill="none" stroke="none" pointer-events="all"/>
        <path d="M 3930 3401 L 3898.41 3553.8" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3897.35 3558.95 L 3895.34 3551.38 L 3898.41 3553.8 L 3902.19 3552.8 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3930" cy="3401" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="none" pointer-events="all"/>
        <rect x="3920" y="3391" width="20" height="20" fill="none" stroke="none" pointer-events="all"/>
        <path d="M 4680 2761 L 4680 2785.5" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="4680" cy="2789" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 4684 2801 L 4680 2793 L 4676 2801 M 4680 2793 L 4680 2801" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="4480" y="2481" width="400" height="280" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 280px; padding-top: 2481px; margin-left: 4480px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 280px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        DanglingNodeSetsDeque
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - deque
                                    <span style="border-color: var(--border-color); background-color: initial;">
                                        : VecDeque&lt; DanglingNodeSet &gt;
                                    </span>
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + push_back( DanglingNodeSet )
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + gc_old_nodes( min_held_list_ver: ListVer )
                                </p>
                                <p style="margin: 0px ; margin-left: 4px"></p>
                                <ol>
                                    <li>
                                        pop_front() while
                                        <br/>
                                        node_set.max_incl_traversable_list_ver &lt; arg min_held_list_ver :
                                    </li>
                                    <li>
                                        <span style="background-color: initial;">
                                            For each popped node_set :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span style="background-color: initial;">
                                                For each node :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span style="background-color: initial;">
                                                    Remove files. Drop memory.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <p></p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + gc_all_nodes()
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4480" y="2493" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DanglingNodeSetsDeque...
                </text>
            </switch>
        </g>
        <path d="M 5080 3361 L 5240 3361 L 5240 3451 L 5180 3451 L 5160 3481 L 5160 3451 L 5080 3451 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 3404px; margin-left: 5081px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Flushing is desirable. Compaction is optional. In impl, we reuse code, hence both flush and compact.
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5160" y="3408" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Flushing is desirable. Com...
                </text>
            </switch>
        </g>
        <path d="M 1139.6 841 L 1063.71 916.51" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1059.99 920.21 L 1062.49 912.79 L 1063.71 916.51 L 1067.42 917.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 883px; margin-left: 1097px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                creates new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1097" y="887" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    creates new
                </text>
            </switch>
        </g>
        <rect x="1040" y="681" width="360" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 160px; padding-top: 681px; margin-left: 1040px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationsDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - AntiCollisionParentDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + create_new_job_dir() -&gt; Res&lt; ScndIdxCreationJobDir &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1040" y="693" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationsDir...
                </text>
            </switch>
        </g>
        <rect x="1000" y="1121" width="360" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 160px; padding-top: 1121px; margin-left: 1000px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AntiCollisionParentDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + parent_dir_path: PathBuf
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - child_name_pattern: NamePattern
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - next_child_num: AtomicU64
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf, NamePattern, cb ) -&gt; Res&lt; Self&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_new_child_path() -&gt; PathBuf
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1000" y="1133" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AntiCollisionParentDir...
                </text>
            </switch>
        </g>
        <rect x="798.8" y="921" width="360" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 160px; padding-top: 921px; margin-left: 799px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationJobDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - AntiCollisionParentDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + create_new_kv_file_path() -&gt; PathBuf
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="799" y="933" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationJobDir...
                </text>
            </switch>
        </g>
        <path d="M 1059.28 1081 L 1099.52 1121" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1093.86 1121.02 L 1099.5 1115.34" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1560 773.14 L 1400 767.43" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1404.14 763.57 L 1403.85 771.57" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2600" y="1081" width="160" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1101px; margin-left: 2601px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    AntiCollisionParentDir
                                </b>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2680" y="1105" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    AntiCollisionParentDir
                </text>
            </switch>
        </g>
        <path d="M 2520 1072.76 L 2600 1086.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2595.37 1090.13 L 2596.76 1082.25" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1240 841 L 1297.57 1071.3 Q 1300 1081 1292.93 1088.07 L 1260 1121" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1260 1115.34 L 1265.66 1121" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="5440" y="2641" width="400" height="200" fill="rgb(255, 255, 255)" stroke="#cccc00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 200px; padding-top: 2641px; margin-left: 5440px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SICrJob
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: &amp;DB
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - job_dir: Option&lt; ScndIdxCreationJobDir &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    (... methods ...)
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5440" y="2653" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SICrJob...
                </text>
            </switch>
        </g>
        <path d="M 5640 2921 L 5640 2841" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 860 3041 L 860 2961" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="3890" cy="3051" rx="3" ry="3" fill="rgb(0, 0, 0)" stroke="none" pointer-events="all"/>
        <rect x="3880" y="3041" width="20" height="20" fill="none" stroke="none" pointer-events="all"/>
        <path d="M 3890 3051 L 3685.21 2907.21" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3680.91 2904.2 L 3688.66 2905.35 L 3685.21 2907.21 L 3684.63 2911.08 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1120" y="2601" width="240" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 120px; padding-top: 2601px; margin-left: 1120px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Snap
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#0066cc">
                                        snap
                                    </font>
                                    : ListSnapshot&lt; LsmElem &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#0066cc">
                                        snap_cache
                                    </font>
                                    : Opt&lt; Vec&lt;&amp;CommittedUnit&gt; &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1120" y="2613" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Snap...
                </text>
            </switch>
        </g>
        <path d="M 1040 2713.63 L 1120 2692.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1117.15 2697.47 L 1115.11 2689.73" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Text is not SVG - cannot display
            </text>
        </a>
    </switch>
</svg>