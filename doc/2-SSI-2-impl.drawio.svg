<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="7801px" height="3761px" viewBox="-0.5 -0.5 7801 3761" content="&lt;mxfile&gt;&lt;diagram id=&quot;RcHnaSoGghIKxj3INRLX&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs>
        <linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-e6e6e6-1-808080-1-s-0">
            <stop offset="0%" style="stop-color: rgb(230, 230, 230); stop-opacity: 1;"/>
            <stop offset="100%" style="stop-color: rgb(128, 128, 128); stop-opacity: 1;"/>
        </linearGradient>
    </defs>
    <g>
        <path d="M 2204 960 L 2154.04 1584.55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2153.76" cy="1588.04" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2149.13 1595.69 L 2157.11 1596.33 M 2153.48 1591.53 L 2152.8 1600" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2040 715 L 1960 695" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1968.73 693.06 L 1966.79 700.82 M 1959.03 698.88 L 1967.76 696.94 L 1960.97 691.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4557.06 1632.94 L 4976.82 1807.55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4981.67 1809.57 L 4973.86 1810.11 L 4976.82 1807.55 L 4976.55 1803.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5240 1990 L 5046.24 2029.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5041.1 2030.69 L 5047.25 2025.85 L 5046.24 2029.63 L 5048.65 2032.71 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5760 1990 L 6233.85 2117.58" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6238.92 2118.94 L 6231.25 2120.5 L 6233.85 2117.58 L 6233.07 2113.74 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5240 2120 L 5275.4 2155.12" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5279.13 2158.81 L 5271.69 2156.37 L 5275.4 2155.12 L 5276.62 2151.4 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5500 1600 L 5500 1560" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="5240" y="1600" width="520" height="520" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 518px; height: 1px; padding-top: 1607px; margin-left: 5242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Actor
                                <u>
                                    flush_and_compact_job
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            While true:
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            `Select` all channels.
                                        </li>
                                        <ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    is_terminating
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    gc_avail
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    gc_dangling_nodes( itv );
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <span>
                                                    <font color="#990000">
                                                        replace_avail
                                                    </font>
                                                    :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    flush_and_compact();
                                                </li>
                                            </ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    scnd_idx_creation_request
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    prep_for_si_creation( req );
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <font color="#990000" style="color: rgb(153 , 0 , 0)">
                                            gc_avail
                                        </font>
                                        <span>
                                            .close();
                                            <br/>
                                        </span>
                                        <font color="#990000">
                                            scnd_idx_creation_request
                                        </font>
                                        <span>
                                            .close();
                                        </span>
                                    </li>
                                    <li>
                                        poll_held_list_vers_then_gc();
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5242" y="1619" fill="#000000" font-family="Helvetica" font-size="12px">
                    Actor flush_and_compact_job()...
                </text>
            </switch>
        </g>
        <rect x="4560" y="1960" width="480" height="240" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 1967px; margin-left: 4562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    gc_dangling_nodes
                                </u>
                                ( GcAbleInterval )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            Pop these entries ...
                                            <br/>
                                        </span>
                                        <u>
                                            dangling_nodes
                                        </u>
                                        <br/>
                                        .filter( gc.lo &lt;= dang.lo &amp;&amp; dang.hi &lt;= gc.hi )
                                    </li>
                                    <li>
                                        For each popped entry :
                                    </li>
                                    <ol>
                                        <li>
                                            For each node :
                                        </li>
                                        <ol>
                                            <li>
                                                Pop from queue.
                                            </li>
                                            <li>
                                                Remove files. Drop memory.
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4562" y="1979" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::gc_dangling_nodes( GcAbleInterval )...
                </text>
            </switch>
        </g>
        <path d="M 5952.7 1770 L 5786.73 1952.6 Q 5780 1960 5789.54 1963.01 L 6233.93 2103.35" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6238.93 2104.93 L 6231.2 2106.16 L 6233.93 2103.35 L 6233.31 2099.48 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5958 1780 C 5954.65 1777.78 5952.63 1774.02 5952.63 1770 C 5952.63 1765.98 5954.65 1762.22 5958 1760 L 6042 1760 C 6045.35 1762.22 6047.37 1765.98 6047.37 1770 C 6047.37 1774.02 6045.35 1777.78 6042 1780 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6042 1760 C 6045.35 1762.22 6047.37 1765.98 6047.37 1770 C 6047.37 1774.02 6045.35 1777.78 6042 1780 C 6038.65 1777.78 6036.63 1774.02 6036.63 1770 C 6036.63 1765.98 6038.65 1762.22 6042 1760" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1787px; margin-left: 6000px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                scnd_idx_creation_request
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6000" y="1800" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    scnd_idx_creati...
                </text>
            </switch>
        </g>
        <rect x="6240" y="1920" width="600" height="560" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1927px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    prep_for_si_creation
                                </u>
                                ( ScndIdxCreationRequest )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            // F+C does a sweep of the LL once, before delivering SICr new work.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                            // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            snap_head_excl :=
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            () ...
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy w/
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false : dummy.
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                = true;
                                            </li>
                                            <li>
                                                Else : push new dummy w/
                                                <br/>
                                                { traversable_list_ver_lo_incl=
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                , hold_count=0,
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =true }
                                            </li>
                                        </ol>
                                        <li>
                                            output_commit_ver :=
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                            <br/>
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            += 1;
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            merge_segments( snap_head_excl );
                                            <br/>
                                        </span>
                                        // Here, compaction is optional. But we reuse code, and compact anyway.
                                    </li>
                                    <li>
                                        work := ScndIdxCreationWork( snap_head_excl, output_commit_ver, req );
                                        <br/>
                                        <font color="#990000">
                                            scnd_idx_creation_work
                                        </font>
                                        <span>
                                            .send( work );
                                        </span>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="1939" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::prep_for_si_creation( ScndIdxCreationRequest )...
                </text>
            </switch>
        </g>
        <path d="M 620 2240 L 620 2280" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 616 2276 L 624 2276" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 840 2121.94 L 960 2199.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 954.47 2200.55 L 958.81 2193.83" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1216 2680 L 1209.6 2760" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1205.93 2755.69 L 1213.91 2756.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1520 2286.67 L 1585.3 2264.9" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1588.62" cy="2263.79" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1598.74 2256.21 L 1592.41 2262.53 L 1601.26 2263.79 M 1592.41 2262.53 L 1600 2260" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6000 1760 L 6000 1720" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1000 1555 L 1113.65 1564.47" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1118.89 1564.91 L 1111.62 1567.81 L 1113.65 1564.47 L 1112.2 1560.84 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1560px; margin-left: 1060px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                formats new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1060" y="1563" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    formats new
                </text>
            </switch>
        </g>
        <path d="M 1840 2328.57 L 1905.75 2300.39" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1908.97" cy="2299.01" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1917.9 2299.54 L 1914.75 2292.18 M 1912.19 2297.63 L 1920 2294.29" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 530 3080 L 509.3 3107.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="507.2" cy="3110.4" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 503.2 3122.4 L 504.8 3113.6 L 496.8 3117.6 M 504.8 3113.6 L 500 3120" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="400" y="2840" width="440" height="240" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 2840px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxsState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + scnd_idxs: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) Arc&lt; SVSpec &gt;
                                    </li>
                                    <li>
                                        (value) ScndIdxState
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - next_scnd_idx_num: ScndIdxNum
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="2852" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxsState...
                </text>
            </switch>
        </g>
        <path d="M 1920 2126.67 L 1849.49 2103.16 Q 1840 2100 1830.74 2096.23 L 1440 1937.04" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1445.21 1934.84 L 1442.2 1942.25" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2360 2242.31 L 2440 2257.69" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2431.39 2260.11 L 2432.9 2252.25 M 2440.76 2253.76 L 2432.14 2256.18 L 2439.24 2261.62" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1866.88 L 1520 1859.38" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1516.39 1863.73 L 1515.64 1855.77" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1810 L 1520 1770" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1518.21 1766.42 L 1512.84 1773.58 L 1521.79 1773.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1920 L 1850.38 2037.25 Q 1860 2040 1868.68 2044.96 L 1914.47 2071.13" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1919.03 2073.73 L 1911.22 2073.3 L 1914.47 2071.13 L 1914.69 2067.22 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1990px; margin-left: 1683px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                load into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1683" y="1993" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    load into
                </text>
            </switch>
        </g>
        <path d="M 2710 2200 L 2723.07 2173.86" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2724.63" cy="2170.73" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2731.79 2165.37 L 2724.63 2161.79 M 2726.2 2167.6 L 2730 2160" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2706.15 2400 L 2718.12 2425.93" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2719.59" cy="2429.1" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2719.31 2438.04 L 2726.57 2434.69 M 2721.05 2432.28 L 2724.62 2440" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2880 2251.88 L 3153.78 2191.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3158.91 2190.86 L 3152.82 2195.78 L 3153.78 2191.99 L 3151.32 2188.94 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2221px; margin-left: 3020px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="2225" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <rect x="2440" y="2200" width="440" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 2207px; margin-left: 2442px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    CommittedEntrySet&lt;K, V&gt;
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li>
                                        RMemLog( ReadOnlyMemlog&lt;K, V&gt; )
                                    </li>
                                    <li>
                                        SSTable( SSTable&lt;K, V&gt; )
                                    </li>
                                </ul>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Entry&lt;K, ()&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2442" y="2219" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum CommittedEntrySet&lt;K, V&gt;:...
                </text>
            </switch>
        </g>
        <path d="M 1400 2900 L 1464.58 2906.46" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1468.06" cy="2906.81" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1480.4 2904.02 L 1472.04 2907.2 L 1479.6 2911.98 M 1472.04 2907.2 L 1480 2908" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1200 3000 L 1200 3073.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="stroke"/>
        <path d="M 1200 3078.88 L 1196.5 3071.88 L 1200 3073.63 L 1203.5 3071.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3040px; margin-left: 1200px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is implicitly related to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1200" y="3043" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is implicitly related to
                </text>
            </switch>
        </g>
        <rect x="1000" y="2760" width="400" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 240px; padding-top: 2760px; margin-left: 1000px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AtomicLinkedList&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_ptr: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + from_elems( Iter&lt;T&gt; ) -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head() -&gt; &amp;ListNode&lt;T&gt;
                                </p>
                                <p></p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#990099">
                                        push_elem
                                    </font>
                                    <span>
                                        ( T ) -&gt; &amp;ListNode&lt;T&gt;
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#990099">
                                        push_node
                                    </font>
                                    ( Box&lt; ListNode&lt;T&gt; &gt; ) -&gt; &amp;ListNode&lt;T&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + iter() -&gt; Iter&lt; &amp;T &gt;
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1000" y="2772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AtomicLinkedList&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1480" y="2880" width="240" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 80px; padding-top: 2880px; margin-left: 1480px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ListNode&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + elem: T
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + next: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1480" y="2892" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ListNode&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1520" y="1800" width="200" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 100px; padding-top: 1800px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 100px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        TimestampNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + inc_from(Iter&lt;Self&gt;) -&gt; Self
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="1812" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    TimestampNum...
                </text>
            </switch>
        </g>
        <rect x="1520" y="1720" width="80" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 82px; height: 60px; padding-top: 1720px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 80px; height: 60px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitVer
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="1732" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitVer...
                </text>
            </switch>
        </g>
        <path d="M 1300 1680 L 1300 1753.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1300 1758.88 L 1296.5 1751.88 L 1300 1753.63 L 1303.5 1751.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1720px; margin-left: 1300px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1300" y="1723" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 1480 1618.57 L 1913.77 1711.52" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1918.91 1712.62 L 1911.33 1714.58 L 1913.77 1711.52 L 1912.8 1707.73 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1666px; margin-left: 1700px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1700" y="1669" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into new
                </text>
            </switch>
        </g>
        <rect x="640" y="3120" width="200" height="160" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 160px; padding-top: 3120px; margin-left: 640px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + inc_from(Iter&lt;Self&gt;) -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + get_and_inc() -&gt; Self
                                    </span>
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="640" y="3132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxNum...
                </text>
            </switch>
        </g>
        <rect x="2560" y="1960" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 1960px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ReadonlyMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + memtable: BTreeMap&lt; K, OptDatum&lt;V&gt; &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - log_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; ( &amp;K, &amp;OptDat&lt;V&gt; ) &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; ( &amp;K, &amp;OptDat&lt;V&gt; ) &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="1972" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ReadonlyMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <rect x="2560" y="2440" width="440" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 2440px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SSTable&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - sparse_file_offsets: Vec&lt; (K, u64) &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - kv_file_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + new( Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                    </span>
                                    <span>
                                        ) -&gt; Res&lt; Self &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Res&lt;( K, OptDat&lt;V&gt; )&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Res&lt;( K, OptDat&lt;V&gt; )&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Res&lt;K&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_file() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="2452" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SSTable&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 2817.5 1840 L 2836.49 1890.64 Q 2840 1900 2836.49 1909.36 L 2819.74 1954.04" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2817.89 1958.95 L 2817.07 1951.17 L 2819.74 1954.04 L 2823.63 1953.63 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1900px; margin-left: 2840px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2840" y="1903" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 2903.81 1840 L 3155.05 2042.92" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3159.13 2046.22 L 3151.49 2044.55 L 3155.05 2042.92 L 3155.88 2039.1 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1944px; margin-left: 3032px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3032" y="1947" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <path d="M 2742.5 1840 L 2723.51 1890.64 Q 2720 1900 2723.51 1909.36 L 2742.5 1960" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2737.35 1957.66 L 2744.84 1954.85" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2560" y="1640" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 1640px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        WritableMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + r_memlog: ReadonlyMemLog&lt;K, V&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + log_writer: DatumWriter
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + put( K, OptDatum&lt;V&gt; ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + into() -&gt; ReadonlyMemLog&lt;K,V&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="1652" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    WritableMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 3160 2482.59 L 3006.24 2513.91" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3001.1 2514.96 L 3007.26 2510.14 L 3006.24 2513.91 L 3008.65 2516.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2499px; margin-left: 3080px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                constructs
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3080" y="2502" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    constructs
                </text>
            </switch>
        </g>
        <rect x="3160" y="2360" width="320" height="180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2367px; margin-left: 3162px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                enum
                                <b>
                                    Entry
                                </b>
                                &lt;'a, K, V&gt; {
                                <br/>
                                Ref(( &amp;'a K, &amp;'a V )),
                                <br/>
                                Own(Res&lt;( K, V )&gt;),
                                <br/>
                                }
                                <br/>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + try_borrow() -&gt; Res&lt;( &amp;'a K, &amp;'a V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + take_kv() -&gt; Res&lt;( K, V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    etc
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3162" y="2379" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    enum Entry&lt;'a, K, V&gt; {...
                </text>
            </switch>
        </g>
        <path d="M 3308.28 2280 L 3313.35 2353.65" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3313.72 2358.88 L 3309.74 2352.14 L 3313.35 2353.65 L 3316.73 2351.66 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2320px; margin-left: 3311px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                produces
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3311" y="2323" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    produces
                </text>
            </switch>
        </g>
        <rect x="3160" y="2040" width="280" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 2047px; margin-left: 3162px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                fn
                                <b>
                                    merge_committed_entrysets
                                </b>
                                (
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                <br/>
                                <br/>
                                fn
                                <b>
                                    merge_txnlocal_and_committed_entrysets
                                </b>
                                (
                                <br/>
                                Opt&lt; &amp;WritableMemLog&lt;K, V&gt; &gt;,
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3162" y="2059" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    fn merge_committed_entrysets(...
                </text>
            </switch>
        </g>
        <path d="M 2360 1753.13 L 2560 1746.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2556.13 1751 L 2555.88 1743" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2140 1920 L 2140 2033.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2140 2038.88 L 2136.5 2031.88 L 2140 2033.63 L 2143.5 2031.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1980px; margin-left: 2140px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2140" y="1983" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 5280 1358 L 5215.42 1351.54" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="5211.94" cy="1351.19" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 5199.6 1353.98 L 5207.96 1350.8 L 5200.4 1346.02 M 5207.96 1350.8 L 5200 1350" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="5280" y="1200" width="440" height="360" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 360px; padding-top: 1200px; margin-left: 5280px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 360px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        FCJob
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: Arc&lt; DB &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dangling_nodes: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) NodeListVerInterval
                                    </li>
                                    <li>
                                        (value) Vec&lt; SendPtr&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    // rx
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        gc_avail
                                    </font>
                                    : mpsc::Receiver&lt; GcAbleInterval &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <span style="color: rgb(153 , 0 , 0)">
                                        replace_avail
                                    </span>
                                    : watch::Receiver&lt; () &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        scnd_idx_creation_request
                                    </font>
                                    : mpsc::Receiver&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Receiver&lt; () &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        // tx
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        sicr_work
                                    </font>
                                    : mpsc::Sender&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5280" y="1212" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    FCJob...
                </text>
            </switch>
        </g>
        <path d="M 6240 1711.33 L 6053.39 1768.15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6048.37 1769.67 L 6054.05 1764.29 L 6053.39 1768.15 L 6056.09 1770.98 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 160 1680 L 280 1680 L 280 1930 L 240 1930 L 220 1960 L 220 1930 L 160 1930 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,220,1820)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 248px; height: 1px; padding-top: 1767px; margin-left: 82px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                If a thread is to lock both
                                <span style="color: rgb(51 , 153 , 255)">
                                    db_state
                                </span>
                                and
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                , it must lock
                                <span style="color: rgb(51 , 153 , 255)">
                                    db_state
                                </span>
                                first, then
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                .
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="82" y="1779" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    If a thread is to lock both db_state and...
                </text>
            </switch>
        </g>
        <rect x="1200" y="1000" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1007px; margin-left: 1202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    File paths
                                </u>
                                <br/>
                                <ul>
                                    <li>
                                        db_root/
                                    </li>
                                    <ul>
                                        <li>
                                            scnd_idxs_state.txt
                                            <br/>
                                            (Contains a) definitions of all secondary indexes, b) next_scnd_idx_num.)
                                        </li>
                                        <li>
                                            lsm/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt;anti_collision_num&gt;/
                                                <br/>
                                                (Either StagingUnit or CommittedUnit.)
                                            </li>
                                            <ul>
                                                <li>
                                                    pi.kv
                                                </li>
                                                <li>
                                                    si-&lt;scnd_idx_num&gt;.kv
                                                </li>
                                                <li>
                                                    (... other SIs)
                                                </li>
                                                <li>
                                                    (All entrysets (PI or SI) are optional.)
                                                </li>
                                                <li>
                                                    commit_info.txt
                                                    <br/>
                                                    (This file is present iff this unit was attempted commitment.
                                                    <br/>
                                                    There is currently no way to distinguish a failed and a finalized commit.)
                                                </li>
                                            </ul>
                                            <li>
                                                (... other unit dirs)
                                            </li>
                                        </ul>
                                        <li>
                                            si_cr_job/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt; temporary SSTables &gt;
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1202" y="1019" fill="#000000" font-family="Helvetica" font-size="12px">
                    File paths...
                </text>
            </switch>
        </g>
        <rect x="1800" y="760" width="120" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 122px; height: 80px; padding-top: 760px; margin-left: 1800px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 120px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Interval&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + lo_incl: Opt&lt;T&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + hi_incl: Opt&lt;T&gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1800" y="772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Interval&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1600" y="2320" width="240" height="120" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 238px; height: 1px; padding-top: 2327px; margin-left: 1602px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    LsmElemContent
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li>
                                        Unit( CommittedUnit )
                                    </li>
                                    <li>
                                        Dummy{ ... }
                                    </li>
                                    <ul>
                                        <li>
                                            hold_count: AtomicUsize
                                            <br/>
                                        </li>
                                        <li>
                                            <font color="#cccc00">
                                                is_fence
                                            </font>
                                            : AtomicBool
                                        </li>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1602" y="2339" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum LsmElemContent:...
                </text>
            </switch>
        </g>
        <path d="M 560 3200 L 640 3200" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 636 3204 L 636 3196" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="320" y="3120" width="240" height="160" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 160px; padding-top: 3120px; margin-left: 320px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnd_idx_num: ScndIdxNum
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#3399ff">
                                        is_readable
                                    </font>
                                    : bool
                                </p>
                                <div>
                                    <hr size="1"/>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + ser( ... ) -&gt; Res&lt; () &gt;
                                    </p>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + deser( ... ) -&gt; Res&lt; Self &gt;
                                    </p>
                                </div>
                                <div>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="320" y="3132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxState...
                </text>
            </switch>
        </g>
        <rect x="5320" y="200" width="800" height="600" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 798px; height: 1px; padding-top: 207px; margin-left: 5322px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    TODO
                                </b>
                                <br/>
                                <ul>
                                    <li>
                                        <span>
                                            Txn
                                        </span>
                                        <br/>
                                    </li>
                                    <ul>
                                        <li>
                                            Handle crash. Do not trust `run_txn`, which is client-provided.
                                        </li>
                                        <ul>
                                            <li>
                                                <span>
                                                    Unhold commit_ver(s) and list_ver. Delete staging unit dir.
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    Handle this anomaly:
                                                </span>
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        1) commit_info.txt is written
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        2) crash
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        Problem: Actually committed CommittedUnit vs never pushed CommittedUnit are indistinguishable.
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        Possible solution:
                                                    </span>
                                                </li>
                                                <ul>
                                                    <li>
                                                        <span>
                                                            1) run_txn writes commit_info.txt with timestamp_num=None
                                                        </span>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            2) run_txn pushes to LL
                                                        </span>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            3) run_txn always notifies F+C
                                                        </span>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            4) F+C goes through recent commits, and sets timestamp_num=Some(zero)
                                                        </span>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            5) F+C messages back
                                                        </span>
                                                        run_txn
                                                    </li>
                                                    <li>
                                                        6) run_txn returns
                                                    </li>
                                                </ul>
                                            </ul>
                                        </ul>
                                    </ul>
                                    <li>
                                        <span>
                                            F+C
                                        </span>
                                        <br/>
                                    </li>
                                    <ul>
                                        <li>
                                            <span>
                                                Levelled compaction.
                                            </span>
                                        </li>
                                        <ul>
                                            <li>
                                                <span>
                                                    Each CommittedUnit, can have levelled compaction within.
                                                </span>
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div style="text-align: right">
                                    <span style="text-align: center">
                                        https://github.com/ysono/pancake/
                                    </span>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5322" y="219" fill="#000000" font-family="Helvetica" font-size="12px">
                    TODO...
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1650 L 5234.3 1728" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5239 1730.33 L 5231.17 1730.35 L 5234.3 1728 L 5234.29 1724.08 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4988 1660 C 4984.65 1657.78 4982.63 1654.02 4982.63 1650 C 4982.63 1645.98 4984.65 1642.22 4988 1640 L 5072 1640 C 5075.35 1642.22 5077.37 1645.98 5077.37 1650 C 5077.37 1654.02 5075.35 1657.78 5072 1660 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1640 C 5075.35 1642.22 5077.37 1645.98 5077.37 1650 C 5077.37 1654.02 5075.35 1657.78 5072 1660 C 5068.65 1657.78 5066.63 1654.02 5066.63 1650 C 5066.63 1645.98 5068.65 1642.22 5072 1640" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1667px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is_terminating
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1680" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    is_terminating
                </text>
            </switch>
        </g>
        <path d="M 6920 3027.14 L 6738.51 3195.67" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6734.67 3199.24 L 6737.41 3191.91 L 6738.51 3195.67 L 6742.18 3197.04 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6840 3316.12 L 6956.47 3291.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6961.61 3290.23 L 6955.49 3295.11 L 6956.47 3291.33 L 6954.03 3288.27 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7280 2860 L 7360 2860" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="6920" y="2680" width="360" height="360" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 358px; height: 1px; padding-top: 2687px; margin-left: 6922px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Actor
                                <u>
                                    scnd_idx_creation_job
                                </u>
                                ()
                                <br/>
                                <ul>
                                    <li>
                                        While true:
                                    </li>
                                    <ul>
                                        <li>
                                            `Select` all channels.
                                        </li>
                                        <ul>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    is_terminating
                                                </font>
                                                :
                                            </li>
                                            <ul>
                                                <li>
                                                    break;
                                                </li>
                                            </ul>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    scnd_idx_creation_work
                                                </font>
                                                :
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        do_create();
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        notify_termination();
                                                    </span>
                                                </li>
                                            </ul>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6922" y="2699" fill="#000000" font-family="Helvetica" font-size="12px">
                    Actor scnd_idx_creation_job()...
                </text>
            </switch>
        </g>
        <path d="M 7017.3 2610 L 7038.46 2673.95" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 7040.1 2678.94 L 7034.58 2673.39 L 7038.46 2673.95 L 7041.23 2671.19 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6977.33 2600 L 7036 2520" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6928 2620 C 6924.65 2617.78 6922.63 2614.02 6922.63 2610 C 6922.63 2605.98 6924.65 2602.22 6928 2600 L 7012 2600 C 7015.35 2602.22 7017.37 2605.98 7017.37 2610 C 7017.37 2614.02 7015.35 2617.78 7012 2620 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7012 2600 C 7015.35 2602.22 7017.37 2605.98 7017.37 2610 C 7017.37 2614.02 7015.35 2617.78 7012 2620 C 7008.65 2617.78 7006.63 2614.02 7006.63 2610 C 7006.63 2605.98 7008.65 2602.22 7012 2600" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2627px; margin-left: 6970px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                scnd_idx_creation_work
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6970" y="2640" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    scnd_idx_creati...
                </text>
            </switch>
        </g>
        <path d="M 7257.3 2610 L 7216.65 2674.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 7213.85 2679.05 L 7214.62 2671.27 L 7216.65 2674.61 L 7220.54 2674.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7168 2620 C 7164.65 2617.78 7162.63 2614.02 7162.63 2610 C 7162.63 2605.98 7164.65 2602.22 7168 2600 L 7252 2600 C 7255.35 2602.22 7257.37 2605.98 7257.37 2610 C 7257.37 2614.02 7255.35 2617.78 7252 2620 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7252 2600 C 7255.35 2602.22 7257.37 2605.98 7257.37 2610 C 7257.37 2614.02 7255.35 2617.78 7252 2620 C 7248.65 2617.78 7246.63 2614.02 7246.63 2610 C 7246.63 2605.98 7248.65 2602.22 7252 2600" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2627px; margin-left: 7210px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is_terminating
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7210" y="2640" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    is_terminating
                </text>
            </switch>
        </g>
        <rect x="6240" y="2560" width="600" height="600" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 2567px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                SICr
                                <u>
                                    do_create
                                </u>
                                ( ScndIdxWork )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            snap := AtomicLinkedListSnapshot{
                                        </span>
                                        <u>
                                            snap_head_excl
                                        </u>
                                        <span>
                                            , tail_excl=None };
                                            <br/>
                                        </span>
                                        snap_pi
                                        <span>
                                            :=
                                        </span>
                                        <span>
                                            snap.iter().filter_map( (unit) -&gt; unit.pi ).k_merge().filter( keep non-Tombstone );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each (PK,PV) in snap_pi :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            Write to a Memtable (without log).
                                        </li>
                                        <li>
                                            Periodically flush to a new SSTable.
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            If there were no data :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            // There should be no file to delete.
                                        </li>
                                        <li>
                                            return;
                                        </li>
                                    </ol>
                                    <li>
                                        K-merge all SSTables.
                                    </li>
                                    <li>
                                        <span>
                                            Remove non-final SSTables.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            cu := CommittedUnit w/ ...
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            commit_ver_lo_incl == commit_ver_hi_incl :=
                                            <u>
                                                output_commit_ver
                                            </u>
                                        </li>
                                        <li>
                                            <span>
                                                timestamp_num := 0
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            node := Box( ListNode( ... cu ... ) );
                                        </span>
                                    </li>
                                    <li>
                                        With
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        .lock_exclusive() :
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                node.
                                            </span>
                                            traversable_list_ver_lo_incl =
                                            <font color="#00994d">
                                                curr_list_ver
                                            </font>
                                            ;
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            node.next =
                                        </span>
                                        <span>
                                            <u>
                                                snap_head_excl
                                            </u>
                                            .next.load();
                                            <br/>
                                            <u>
                                                snap_head_excl
                                            </u>
                                            .next.store( node );
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        With
                                        <span style="color: rgb(51 , 153 , 255)">
                                            db_state
                                        </span>
                                        .lock_exclusive() :
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#3399ff">
                                                set_scnd_idx_as_readable
                                            </font>
                                            ( sv_spec ), which does ...
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <font color="#3399ff">
                                                    scnd_idxs
                                                </font>
                                                [ sv_spec ].
                                                <font color="#3399ff">
                                                    is_readable
                                                </font>
                                                = true ;
                                            </li>
                                            <li>
                                                Write to disk.
                                            </li>
                                        </ol>
                                        <li>
                                            /*
                                            <br/>
                                            <font color="#3399ff">
                                                is_readable
                                            </font>
                                            could be an AtomicBool or a regular bool.
                                            <br/>
                                            If AtomicBool, SICr creation completion would not need to lock
                                            <font color="#3399ff">
                                                db_state
                                            </font>
                                            ; but every Txn would have to load() the AtomicBool.
                                            <br/>
                                            Since SICr is rare, it should be better to use a regular bool.
                                            <br/>
                                            */
                                        </li>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="2579" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICr do_create( ScndIdxWork )...
                </text>
            </switch>
        </g>
        <path d="M 6968 3300 C 6964.65 3297.78 6962.63 3294.02 6962.63 3290 C 6962.63 3285.98 6964.65 3282.22 6968 3280 L 7052 3280 C 7055.35 3282.22 7057.37 3285.98 7057.37 3290 C 7057.37 3294.02 7055.35 3297.78 7052 3300 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7052 3280 C 7055.35 3282.22 7057.37 3285.98 7057.37 3290 C 7057.37 3294.02 7055.35 3297.78 7052 3300 C 7048.65 3297.78 7046.63 3294.02 7046.63 3290 C 7046.63 3285.98 7048.65 3282.22 7052 3280" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3307px; margin-left: 7010px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    replace_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7010" y="3320" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    replace_avail
                </text>
            </switch>
        </g>
        <rect x="5200" y="2160" width="720" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 2167px; margin-left: 5202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    flush_and_compact
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            snap_head_excl :=
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            () ...
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : nothing to update.
                                            </li>
                                            <li>
                                                Else : push new dummy w/
                                                <br/>
                                                { traversable_list_ver_lo_incl=
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                , hold_count=0,
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false }
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            merge_segments( snap_head_excl );
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5202" y="2179" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::flush_and_compact()...
                </text>
            </switch>
        </g>
        <path d="M 4897.78 3120 L 4910.41 3233.67" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4910.99 3238.89 L 4906.74 3232.32 L 4910.41 3233.67 L 4913.69 3231.55 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="4640" y="2800" width="480" height="320" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 2807px; margin-left: 4642px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    cut_non_boundary_dummies
                                </u>
                                ( segm_head_excl, &amp;mut curr )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            slice := [ ];
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            match *curr :
                                        </li>
                                        <ol>
                                            <li>
                                                case nullptr :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                            <li>
                                                case dummy with { hold_count=0 and
                                                <span style="color: rgb(204 , 204 , 0)">
                                                    is_fence
                                                </span>
                                                =false } :
                                            </li>
                                            <ol>
                                                <li>
                                                    slice.push( *curr );
                                                </li>
                                                <li>
                                                    *curr = (*curr).next.load();
                                                </li>
                                            </ol>
                                            <li>
                                                otherwise :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            If slice is not empty :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                replace( segm_head_excl, curr, None, slice );
                                            </span>
                                        </li>
                                    </ol>
                                </ol>
                                <ul></ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4642" y="2819" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::cut_non_boundary_dummies( segm_head_excl, &amp;mut curr )...
                </text>
            </switch>
        </g>
        <rect x="6240" y="3200" width="600" height="360" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3207px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <div>
                                    SICr
                                    <u>
                                        notify_termination
                                    </u>
                                    ( ScndIdxWork )
                                </div>
                                <ol>
                                    <li>
                                        <u>
                                            snap_head_excl
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <font color="#cccc00">
                                            is_fence
                                        </font>
                                        <span>
                                            .store( false );
                                        </span>
                                    </li>
                                    <li>
                                        <font color="#990000">
                                            replace_avail
                                        </font>
                                        <span>
                                            .send( () );
                                            <br/>
                                        </span>
                                        /* Even if snap_head_excl's hold_count is not zero, notify F+C anyway, because some dummies in SICr's snapshot might have become non-held. For such dummies, notification would have been sent to F+C but F+C would not have worked across those dummies. */
                                    </li>
                                    <li>
                                        <span>
                                            response_to_client.send( "succes" );
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="3219" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICr notify_termination( ScndIdxWork )...
                </text>
            </switch>
        </g>
        <path d="M 6920 2860 L 6846.37 2860" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6841.12 2860 L 6848.12 2856.5 L 6846.37 2860 L 6848.12 2863.5 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6240" y="1400" width="600" height="440" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1407px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                DB::
                                <u>
                                    create_scnd_idx
                                </u>
                                ()
                                <br/>
                                <br/>
                                Args:
                                <br/>
                                <ul>
                                    <li>
                                        SVSpec
                                    </li>
                                </ul>
                                Steps:
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#3399ff">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_shared() :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            .has_key( sv_spec ) :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "Already exists and &lt;is | isn't&gt; being created".
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#3399ff">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                            // It's preferrable to wait for the exclusive lock outside the job thread.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            .has_key( sv_spec ) :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "Already exists and &lt;is | isn't&gt; being created".
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#3399ff">
                                                define_new_scnd_idx
                                            </font>
                                            ( sv_spec ), which does ...
                                        </li>
                                        <ol>
                                            <li>
                                                si_num :=
                                                <span style="color: rgb(51 , 153 , 255)">
                                                    next_scnd_idx_num
                                                </span>
                                                .get_and_inc();
                                            </li>
                                            <li>
                                                <font color="#3399ff">
                                                    scnd_idxs
                                                </font>
                                                .insert( sv_spec, ( si_num,
                                                <font color="#3399ff">
                                                    is_readable
                                                </font>
                                                =false ) );
                                            </li>
                                            <li>
                                                Write to disk.
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            (tx, rx) := oneshot::channel();
                                            <br/>
                                            req := ScndIdxCreationRequest( sv_spec, si_num, tx );
                                            <br/>
                                        </span>
                                        <font color="#990000">
                                            scnd_idx_creation_request
                                        </font>
                                        <span>
                                            .send( req );
                                            <br/>
                                            resp := rx.receive();
                                            <br/>
                                            return resp;
                                        </span>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="1419" fill="#000000" font-family="Helvetica" font-size="12px">
                    DB::create_scnd_idx()...
                </text>
            </switch>
        </g>
        <rect x="4640" y="3240" width="600" height="520" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3247px; margin-left: 4642px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    replace
                                </u>
                                ( K, G, R, slice )
                                <br/>
                                // K is slice_head_excl
                                <br/>
                                // G is slice_tail_excl
                                <br/>
                                // R: Opt&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                <br/>
                                // slice: Vec&lt; &amp;ListNode&lt; LsmElem &gt; &gt;
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#00994d">
                                                curr_list_ver
                                            </font>
                                            += 1;
                                        </li>
                                        <li>
                                            <span>
                                                If R is Some :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                R.traversable_list_ver_lo_incl =
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                ;
                                            </li>
                                            <li>
                                                <span>
                                                    R.next = G;
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    K.next.store(R);
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    K.next.store(G);
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            For each node in slice :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                // The list_ver interval for which this node is traversable is ...
                                            </span>
                                            <br/>
                                            <span>
                                                node_itv := [ node.traversable_list_ver_lo_incl ~
                                            </span>
                                            <font color="#00994d">
                                                curr_list_ver
                                            </font>
                                            <span>
                                                );
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                // Search in
                                            </span>
                                            <font color="#00994d">
                                                held_list_vers
                                            </font>
                                            <span>
                                                to see if node_itv is deletable now.
                                                <br/>
                                            </span>
                                            // Searching would hold the lock for longer. So let's skip it.
                                        </li>
                                        <li>
                                            <span>
                                                If node_itv is deletable :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Delete node's dir and memory.
                                                </span>
                                                <br/>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <u>
                                                    dangling_nodes
                                                </u>
                                                <span>
                                                    [ node_itv ].push( node );
                                                </span>
                                                <br/>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <ul>
                                    <ul></ul>
                                </ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4642" y="3259" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::replace( K, G, R, slice )...
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1810 L 5216.03 2130.82 Q 5220 2140 5228.99 2144.39 L 5254.04 2156.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5258.76 2158.91 L 5250.93 2158.99 L 5254.04 2156.61 L 5254 2152.69 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5019.12 1720 L 4888.53 1600" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4988 1820 C 4984.65 1817.78 4982.63 1814.02 4982.63 1810 C 4982.63 1805.98 4984.65 1802.22 4988 1800 L 5072 1800 C 5075.35 1802.22 5077.37 1805.98 5077.37 1810 C 5077.37 1814.02 5075.35 1817.78 5072 1820 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1800 C 5075.35 1802.22 5077.37 1805.98 5077.37 1810 C 5077.37 1814.02 5075.35 1817.78 5072 1820 C 5068.65 1817.78 5066.63 1814.02 5066.63 1810 C 5066.63 1805.98 5068.65 1802.22 5072 1800" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1827px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    replace_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1840" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    replace_avail
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1730 L 5214.73 1951.5 Q 5220 1960 5210.38 1962.75 L 5046.12 2009.68" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5041.07 2011.12 L 5046.84 2005.83 L 5046.12 2009.68 L 5048.77 2012.56 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4988 1740 C 4984.65 1737.78 4982.63 1734.02 4982.63 1730 C 4982.63 1725.98 4984.65 1722.22 4988 1720 L 5072 1720 C 5075.35 1722.22 5077.37 1725.98 5077.37 1730 C 5077.37 1734.02 5075.35 1737.78 5072 1740 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1720 C 5075.35 1722.22 5077.37 1725.98 5077.37 1730 C 5077.37 1734.02 5075.35 1737.78 5072 1740 C 5068.65 1737.78 5066.63 1734.02 5066.63 1730 C 5066.63 1725.98 5068.65 1722.22 5072 1720" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1747px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    gc_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1760" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    gc_avail
                </text>
            </switch>
        </g>
        <path d="M 4558.12 1631.88 L 4976.5 1728.57" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4981.61 1729.75 L 4974 1731.58 L 4976.5 1728.57 L 4975.58 1724.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6801.36 2480 L 6918.35 2605.34" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6921.94 2609.18 L 6914.6 2606.45 L 6918.35 2605.34 L 6919.72 2601.68 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1800 720 L 1820.7 747.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1822.8" cy="750.4" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 1833.2 757.6 L 1825.2 753.6 L 1826.8 762.4 M 1825.2 753.6 L 1830 760" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1520" y="560" width="440" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 160px; padding-top: 560px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        IntervalSet&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - itvs: Vec&lt; Interval&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + add( Interval&lt;T&gt; )
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + clear()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + merge()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + overlaps_with(points: Iter&lt;U: TryPartialOrd&lt;T&gt;&gt;) -&gt; Res&lt;bool&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="572" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    IntervalSet&lt;T&gt;...
                </text>
            </switch>
        </g>
        <path d="M 5267.22 3120 L 5168.04 3235.17" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5164.62 3239.15 L 5166.53 3231.56 L 5168.04 3235.17 L 5171.84 3236.13 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5200 2875.29 L 5126.16 2894.84" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5121.08 2896.18 L 5126.95 2891.01 L 5126.16 2894.84 L 5128.74 2897.78 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6920" y="2400" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 2400px; margin-left: 6920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationWork
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span>
                                        snap_head_excl: SendPtr&lt; ListNode&lt; LsmElem &gt; &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + scnd_idx_num: ScndIdxNum
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + output_commit_ver: CommitVer
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + req: ScndIdxCreationRequest
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6920" y="2412" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationWork...
                </text>
            </switch>
        </g>
        <rect x="5320" y="3240" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3247px; margin-left: 5322px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    do_flush_and_compact
                                </u>
                                ( slice, skip_tombstones, db_state_guard )
                                <br/>
                                -&gt; Option&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                <br/>
                                <ol>
                                    <li>
                                        With db_state guard :=
                                        <span style="color: rgb(51 , 153 , 255)">
                                            db_state
                                        </span>
                                        .lock_shared() :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                Create a new empty SSTable-based CompactedUnit.
                                            </span>
                                        </li>
                                        <li>
                                            For each of {PI; and SIs in db_state_guard.
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            .keys() regardless of `
                                            <font color="#3399ff">
                                                is_readable
                                            </font>
                                            `} :
                                        </li>
                                        <ol>
                                            <li>
                                                K-merge across the slice --&gt; produce one SSTable.
                                                <br/>
                                                If skipping tombstones, do so.
                                            </li>
                                            <li>
                                                If the newly produced SSTable is non-empty :
                                            </li>
                                            <ol>
                                                <li>
                                                    Assign the new SSTable into the new CommittedUnit.
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                If the newly produced CommittedUnit is non-empty :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    On disk, serialize CommitInfo with ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        commit_ver_hi_incl = max in slice
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        commit_ver_lo_incl = min in slcie
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        timestamp_num = (max in slice) + 1
                                                    </span>
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    Move the new CommittedUnit into a Box&lt; ListNode&lt; LsmElem &gt; &gt;. Return this.
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    committed_unit.remove_dir();
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Return None.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5322" y="3259" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::do_flush_and_compact( slice, skip_tombstones, db_state_guard )...
                </text>
            </switch>
        </g>
        <path d="M 5590.91 3120 L 5601.24 3233.66" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5601.72 3238.89 L 5597.6 3232.23 L 5601.24 3233.66 L 5604.57 3231.6 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="5200" y="2440" width="720" height="680" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 2447px; margin-left: 5202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    merge_segments
                                </u>
                                ( snap_head_excl )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            segm_head_excl := snap_head_excl;
                                        </span>
                                        <br/>
                                        <span>
                                            curr := segm_head_excl.next.load();
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                // In this while-block, work on one segment, i.e. until the next closest boundary dummy.
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <span>
                                                slice := [ ];
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <span>
                                                While true :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    cut_non_boundary_dummies( segm_head_excl, &amp;mut curr );
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    match curr :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        case nullptr :
                                                    </span>
                                                    <br/>
                                                </li>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            break;
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                                <li>
                                                    <span>
                                                        case a dummy :
                                                    </span>
                                                    <br/>
                                                </li>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            // The curr dummy could not be cut. Therefore it must be a boundary.
                                                        </span>
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            break;
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                                <li>
                                                    <span>
                                                        case CommittedUnit :
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                        </ol>
                                        <ul>
                                            <ul>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            slice.push( curr );
                                                        </span>
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            curr = curr.next.load();
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                            </ul>
                                        </ul>
                                        <li>
                                            <span>
                                                If {slice.len() &gt; 1} or {slice contains at least one MemLog-based CommittedUnit} :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    skip_tombstones := { curr == nullptr };
                                                </span>
                                                <br/>
                                                <span>
                                                    compacted_node := do_flush_and_compact( slice, skip_tombstones, db_state_guard );
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    replace( snap_head_excl, curr, compacted_node, slice );
                                                </span>
                                                <br/>
                                            </li>
                                        </ol>
                                        <li>
                                            If curr == nullptr :
                                        </li>
                                        <ol>
                                            <li>
                                                break;
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    segm_head_excl = curr;
                                                    <br/>
                                                </span>
                                                curr = curr.next.load();
                                            </li>
                                        </ol>
                                        <ol></ol>
                                    </ol>
                                </ol>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5202" y="2459" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::merge_segments( snap_head_excl )...
                </text>
            </switch>
        </g>
        <path d="M 5560 2360 L 5560 2433.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5560 2438.88 L 5556.5 2431.88 L 5560 2433.63 L 5563.5 2431.88 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6240 2377.55 L 5925.48 2563.7" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5920.96 2566.37 L 5925.2 2559.79 L 5925.48 2563.7 L 5928.77 2565.82 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6960" y="1400" width="600" height="440" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1407px; margin-left: 6962px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                DB::delete_scnd_idx()
                                <br/>
                                <br/>
                                Args:
                                <br/>
                                <ul>
                                    <li>
                                        SVSpec
                                    </li>
                                </ul>
                                Steps:
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#3399ff">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_shared() :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            [ sv_spec ].
                                            <span style="color: rgb(51 , 153 , 255)">
                                                is_readable
                                            </span>
                                            != true :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "&lt;Doesn't exist | It's being built&gt;".
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#3399ff">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                If
                                            </span>
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            <span>
                                                [ sv_spec ].
                                            </span>
                                            <span style="color: rgb(51 , 153 , 255)">
                                                is_readable
                                            </span>
                                            <span>
                                                != true :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                Return "&lt;Doesn't exist | It's being built&gt;".
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#3399ff">
                                                remove_scnd_idx
                                            </font>
                                            <span>
                                                ( sv_spec );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            /*
                                            <br/>
                                        </span>
                                        That's it!
                                        <br/>
                                        Leave all data (in memory and on disk) in place. Let compaction eventually implicitly erase them.
                                        <br/>
                                        The use of ScndIdxNum ensures that, if a SI is later re-created for the just-deleted SVSpec, any lingering existing data would remain unused.
                                        <br/>
                                        */
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6962" y="1419" fill="#000000" font-family="Helvetica" font-size="12px">
                    DB::delete_scnd_idx()...
                </text>
            </switch>
        </g>
        <path d="M 1720 2280 L 1720 2320" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1716 2316 L 1724 2316" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1600" y="2160" width="240" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 120px; padding-top: 2160px; margin-left: 1600px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        LsmElem
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + content: LsmElemContent
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + traversable_list_ver_lo_incl: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1600" y="2172" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmElem...
                </text>
            </switch>
        </g>
        <rect x="5840" y="1600" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 1600px; margin-left: 5840px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationRequest
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span>
                                        sv_spec: SVSpec
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + scnd_idx_num: ScndIdxNum
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <span>
                                        response_to_client
                                    </span>
                                    <span>
                                        : oneshot::Sender&lt; Res&lt; () &gt; &gt;
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5840" y="1612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationRequest...
                </text>
            </switch>
        </g>
        <path d="M 4450 2455.78 L 4553.71 2439.69" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4558.9 2438.88 L 4552.51 2443.41 L 4553.71 2439.69 L 4551.44 2436.5 Z" fill="#adadad" stroke="#adadad" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3920 2200 L 4440 2200 L 4440 2770 L 4200 2770 L 4180 2800 L 4180 2770 L 3920 2770 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,4180,2500)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 568px; height: 1px; padding-top: 2247px; margin-left: 3882px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Termination sequence
                                <br/>
                                <br/>
                                This sequence works in cooperation with
                                <br/>
                                <ul>
                                    <li>
                                        DB::terminate()
                                    </li>
                                    <li>
                                        Txn::run()
                                    </li>
                                </ul>
                                <div>
                                    Steps:
                                </div>
                                <ol>
                                    <li>
                                        <font color="#3399ff">
                                            is_terminating
                                        </font>
                                        bool is set to true.
                                        <br/>
                                        From now on, no new txn can start.
                                        <br/>
                                        Note, already-running txns can still hold
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        <font color="#990000">
                                            is_terminating
                                        </font>
                                        Conditional Variable is set.
                                        <br/>
                                        F+C is notified.
                                        <br/>
                                    </li>
                                    <li>
                                        While F+C's local
                                        <u>
                                            dangling_nodes
                                        </u>
                                        is not empty :
                                    </li>
                                    <ol>
                                        <li>
                                            F+C waits on
                                            <font color="#990000">
                                                gc_avail
                                            </font>
                                            .
                                        </li>
                                        <li>
                                            F+C removes from
                                            <u>
                                                dangling_nodes
                                            </u>
                                            .
                                        </li>
                                    </ol>
                                    <li>
                                        /*
                                        <br/>
                                        Note,
                                        <span style="color: rgb(153 , 0 , 0)">
                                            gc_avail
                                        </span>
                                        does not inform whether
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        is held or not. But this is irrelevant for the purpose of GC.
                                        <br/>
                                        If
                                        <font color="#990000">
                                            gc_avail
                                        </font>
                                        has a capacity set, messages can be dropped. And if messages are dropped, the above while-loop could be stuck forever. Therefore, the above while-loop should be omitted.
                                        <br/>
                                        */
                                    </li>
                                    <li>
                                        <span>
                                            While
                                        </span>
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        <span>
                                            is not empty :
                                        </span>
                                        <br/>
                                        // It would suffice to check whether
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        is empty except for potentially
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        .
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            Sleep a bit.
                                        </li>
                                    </ol>
                                    <li>
                                        GC all nodes in
                                        <u>
                                            dangling_nodes
                                        </u>
                                        .
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3882" y="2259" fill="#000000" font-family="Helvetica" font-size="12px">
                    Termination sequence...
                </text>
            </switch>
        </g>
        <rect x="400" y="2280" width="440" height="480" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 480px; padding-top: 2280px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 480px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#3399ff">
                                            DbState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state: ScndIdxsState
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state_file_path: PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_terminating: bool
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + can_new_scnd_idx_be_defined( &amp;SVSpec ) -&gt; ...
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + define_new_scnd_idx( &amp;SVSpec ) -&gt; ...
                                </p>
                                <ol>
                                    <li>
                                        si_num :=
                                        <font color="#3399ff">
                                            next_scnd_idx_num
                                        </font>
                                        .get_and_inc();
                                    </li>
                                    <li>
                                        <font color="#3399ff">
                                            scnd_idxs
                                        </font>
                                        .insert( sv_spec, ( si_num,
                                        <font color="#3399ff">
                                            is_readable
                                        </font>
                                        =false) );
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + set_scnd_idx_as_readable( &amp;SVSpec ) -&gt; Res&lt; () &gt;
                                </p>
                                <ol>
                                    <li>
                                        <font color="#3399ff">
                                            scnd_idxs
                                        </font>
                                        [ sv_spec ].is_readable = true;
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + can_scnd_idx_be_removed( &amp;SVSpec ) -&gt; ...
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_scnd_idx( &amp;SVSpec ) =&gt; ...
                                </p>
                                <ol>
                                    <li>
                                        scnd_idxs.remove( sv_spec );
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="2292" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DbState...
                </text>
            </switch>
        </g>
        <path d="M 620 2760 L 620 2840" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 616 2836 L 624 2836" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 780 800 L 780 880" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="480" y="400" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 407px; margin-left: 482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    At bootup
                                </u>
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#3399ff">
                                            scnd_idxs_state := ScndIdxsState.deser( scnd_idxs_state.txt );
                                        </font>
                                    </li>
                                    <li>
                                        <font color="#3399ff">
                                            db_state := DbState( ... );
                                        </font>
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        (
                                        <font color="#00994d">
                                            list, next_commit_ver, next_unit_dir_num
                                        </font>
                                        ) := Load committed units;
                                    </li>
                                    <li>
                                        <font color="#00994d">
                                            lsm_state := LsmState( list, ... );
                                        </font>
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        Create all
                                        <font color="#990000">
                                            channels
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        db := Db( ... );
                                    </li>
                                    <li>
                                        Launch actors
                                        <font color="#cc6600">
                                            flush_and_compact_job
                                        </font>
                                        () and
                                        <font color="#cccc00">
                                            scnd_idx_creation_job
                                        </font>
                                        ().
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        return db;
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="482" y="419" fill="#000000" font-family="Helvetica" font-size="12px">
                    At bootup...
                </text>
            </switch>
        </g>
        <rect x="480" y="880" width="600" height="480" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 887px; margin-left: 482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                LsmDirManager:
                                <u>
                                    load_or_new
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        pq := new BinaryHeap&lt; CommitInfo &gt;;
                                        <br/>
                                    </li>
                                    <li>
                                        For uni_dir in `ls lsm/` :
                                    </li>
                                    <ol>
                                        <li>
                                            If commit_info.txt doesn't exist :
                                        </li>
                                        <ol>
                                            <li>
                                                Ignore this unit. Print warning.
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Load CommitInfo.
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Push CommitInfo into pq.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            nodes: = empty Vec;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            // pq prioritizes CommitInfo by { highest commit_ver_hi_incl; tie-breaker by highest timestamp_num }.
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        next_commit_ver := pq.peek().commit_ver_hi_incl + 1;    If empty, zero.
                                    </li>
                                    <li>
                                        <span>
                                            While pq is not empty :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                cu_info := pq.pop();
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                If curr commit_ver range overlaps with previous commit_ver range :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Ignore this unit. Print warning.
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Load CommitInfo into CommittedUnit.
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Push CommittedUnit into nodes.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        list := AtomicLinkedList::from_elems( nodes );
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="482" y="899" fill="#000000" font-family="Helvetica" font-size="12px">
                    LsmDirManager:load_or_new()...
                </text>
            </switch>
        </g>
        <rect x="1920" y="2040" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 2040px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommittedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; CommittedEntrySet&lt;PK,PV&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) CommittedEntrySet&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + commit_info: CommitInfo
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_staging( StagingUnit, CommitVer ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_compacted( CompactedUnit, CommitInfo ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( UnitDir ) -&gt; Res&lt; Self, UnitDir &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="2052" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommittedUnit...
                </text>
            </switch>
        </g>
        <rect x="1920" y="1600" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 1600px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        StagingUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: WritableMemLog&lt;PK,PV&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                        <br/>
                                    </li>
                                    <li>
                                        (value) WritableMemLog&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new( UnitDir ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="1612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    StagingUnit...
                </text>
            </switch>
        </g>
        <rect x="1120" y="1480" width="360" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 200px; padding-top: 1480px; margin-left: 1120px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        UnitDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_prim_path() -&gt; PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_scnd_path( ScndIdxNum ) -&gt; PathBuf
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_commit_info_path() -&gt; PathBuf
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_commit_info() -&gt; Res&lt; CommitInfo &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + list_scnd_paths() -&gt; Iter&lt; (PathBuf, ScndIdxNum) &gt;
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1120" y="1492" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    UnitDir...
                </text>
            </switch>
        </g>
        <rect x="1160" y="1760" width="280" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 282px; height: 240px; padding-top: 1760px; margin-left: 1160px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 280px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitInfo
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_hi_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_lo_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + timestamp_num: TimestampNum
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + data_type: either "memlog" or "sstable"
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + cmp()
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1160" y="1772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitInfo...
                </text>
            </switch>
        </g>
        <rect x="960" y="2080" width="560" height="600" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 562px; height: 600px; padding-top: 2080px; margin-left: 960px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 560px; height: 600px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#00994d">
                                            LsmState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + list: AtomicLinkedList&lt; LsmElem &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + next_commit_ver: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + curr_list_ver: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + held_list_vers: BTreeMap&lt; ListVer, usize &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + hold_curr_list_ver() -&gt; ListVer
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + unhold_list_ver( ListVer ) -&gt; Option&lt; GcAbleInterval &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ol>
                                    <li>
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        [ arg_ver ] -= 1; and if zero, remove the entry.
                                    </li>
                                    <li>
                                        If {arg_ver !=
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        } &amp;&amp; {the entry was removed} :
                                    </li>
                                    <ol>
                                        <li>
                                            Search in
                                            <font color="#00994d">
                                                held_list_vers
                                            </font>
                                            , and get arg_ver's directly lower and higher still-held vers.
                                        </li>
                                        <li>
                                            If the found high-bound is unbounded :
                                        </li>
                                        <ol>
                                            <li>
                                                Set the high-excl-bound to be
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                .
                                            </li>
                                        </ol>
                                        <li>
                                            The newly opened up GC'able ListVer itv := ( lo ... hi ). Return this itv.
                                        </li>
                                    </ol>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + hold_and_unhold_list_ver( ListVer ) -&gt; ( ListVer, Opt&lt; GcAbleInterval &gt; )
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990099">
                                        update_or_push
                                    </font>
                                    ( update_or_specify_head ) -&gt; *const ListNode&lt; LsmElem &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Args:
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        FnOnce( Opt&lt; &amp;LsmElemContent &gt; ) -&gt; Opt&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                        <br/>
                                        // Read the existing head node, and return whether to push a node.
                                    </li>
                                </ul>
                                <p style="margin: 0px 0px 0px 4px">
                                    Returns the resulting head.
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="960" y="2092" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmState...
                </text>
            </switch>
        </g>
        <path d="M 738.18 1720 L 774.55 1640" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 776.53 1645.3 L 769.25 1641.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="400" y="1720" width="440" height="520" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 520px; padding-top: 1720px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 520px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        DB
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#3399ff">
                                        db_state
                                    </font>
                                    <span>
                                        :
                                    </span>
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        RwLock
                                    </span>
                                    <span>
                                        &lt; DbState &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + lsm_dir_mgr: LsmDirManager
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#00994d">
                                        lsm_state
                                    </font>
                                    :
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        Mutex
                                    </span>
                                    &lt; LsmState &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // Tokio's `watch` channel is like a Condition Variable.
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span style="color: rgb(153 , 0 , 0)">
                                        replace_avail
                                    </span>
                                    : watch::Sender&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        gc_avail
                                    </font>
                                    : mpsc::Sender&lt; GcAbleInterval &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        scnd_idx_request
                                    </font>
                                    : mpsc::Sender&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Sender&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + load_or_new( PathBuf ) -&gt; Res&lt;( ... )&gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Returns:
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        Arc&lt;Self&gt;
                                    </li>
                                    <li>
                                        fc_job_task: Future&lt;Res&lt;()&gt;&gt;
                                        <br/>
                                    </li>
                                    <li>
                                        scnd_idx_creation_job_task: Future&lt;Res&lt;()&gt;&gt;
                                    </li>
                                </ul>
                                <div>
                                    <div>
                                        + terminate()
                                    </div>
                                </div>
                                <div>
                                    <ol>
                                        <li>
                                            With
                                            <font color="#3399ff">
                                                db_state
                                            </font>
                                            .lock_exclusive() :
                                        </li>
                                        <ol>
                                            <li>
                                                set
                                                <font color="#3399ff">
                                                    is_terminating
                                                </font>
                                                to true;
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#990000">
                                                is_terminating
                                            </font>
                                            .send( () );
                                        </li>
                                        <li>
                                            // Do it in this order.
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="1732" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DB...
                </text>
            </switch>
        </g>
        <rect x="4760" y="1520" width="170" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 172px; height: 80px; padding-top: 1520px; margin-left: 4760px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 170px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        GcAbleInterval
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + lo_excl: Opt&lt; ListVer &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + hi_excl: ListVer
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4760" y="1532" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    GcAbleInterval...
                </text>
            </switch>
        </g>
        <path d="M 870 1640 L 1087.15 2074.3" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1089.5 2079 L 1083.24 2074.3 L 1087.15 2074.3 L 1089.5 2071.17 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1860px; margin-left: 980px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="980" y="1863" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 810.48 1440 L 802.86 1360" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="640" y="1440" width="360" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 200px; padding-top: 1440px; margin-left: 640px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        LsmDirManager
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - lsm_dir_path: PathBuf
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - next_unit_dir_num: AtomicU64
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt;( Self,
                                    <font color="#00994d">
                                        LsmState
                                    </font>
                                    )&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_new_unit_dir_path() -&gt; UnitDir
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="640" y="1452" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmDirManager...
                </text>
            </switch>
        </g>
        <rect x="5000" y="1280" width="200" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 120px; padding-top: 1280px; margin-left: 5000px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        NodeListVerInterval
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + lo_incl: ListVer
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + hi_incll: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - log_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + cmp()
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5000" y="1292" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    NodeListVerInterval...
                </text>
            </switch>
        </g>
        <rect x="1000" y="3080" width="400" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 160px; padding-top: 3080px; margin-left: 1000px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AtomicLinkedListSnapshot&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_excl_ptr: NonNull&lt; ListNode&lt; T &gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + tail_excl_ptr: Opt&lt; NonNull&lt; ListNode&lt; T &gt; &gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + iter() -&gt; Iter&lt; &amp;T &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1000" y="3092" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AtomicLinkedListSnapshot&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="4560" y="2280" width="480" height="240" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 2287px; margin-left: 4562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    poll_held_list_vers_then_gc
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        While true :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                With
                                            </span>
                                            <font color="#00994d">
                                                lsm_state
                                            </font>
                                            <span>
                                                .lock_exclusive() :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If
                                                </span>
                                                <font color="#00994d">
                                                    held_list_vers
                                                </font>
                                                <span>
                                                    is empty :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                Sleep a bit;
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        For each (_itv, nodes) in
                                        <u>
                                            dangling_nodes
                                        </u>
                                        :
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            For each node :
                                        </li>
                                        <ol>
                                            <li>
                                                Remove files. Drop memory.
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4562" y="2299" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::poll_held_list_vers_then_gc()...
                </text>
            </switch>
        </g>
        <rect x="7360" y="2680" width="440" height="360" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 360px; padding-top: 2680px; margin-left: 7360px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 360px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SICrJob
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: Arc&lt; DB &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - working_dir: PathBuf
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        // rx
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        scnd_idx_creation_work
                                    </font>
                                    : mpsc::Receiver&lt; ScndIdxCreationWork &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Receiver&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7360" y="2692" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SICrJob...
                </text>
            </switch>
        </g>
        <path d="M 5240 2060.57 L 4960.6 2276.11" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4956.44 2279.32 L 4959.85 2272.27 L 4960.6 2276.11 L 4964.12 2277.81 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2780 440 L 2780 473.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 478.88 L 2776.5 471.88 L 2780 473.63 L 2783.5 471.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2780" cy="420" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 420px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Client calls get_*() and put()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="424" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Client calls get_*()...
                </text>
            </switch>
        </g>
        <ellipse cx="2778.8" cy="190" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2778.8 200 L 2779.57 233.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2779.69 238.88 L 2776.03 231.96 L 2779.57 233.63 L 2783.03 231.8 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2780 360 L 2780 393.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 398.88 L 2776.5 391.88 L 2780 393.63 L 2783.5 391.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2720" y="320" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 340px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="344" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    new
                </text>
            </switch>
        </g>
        <path d="M 2780 280 L 2780 313.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 318.88 L 2776.5 311.88 L 2780 313.63 L 2783.5 311.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2780" cy="260" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 260px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::new()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="264" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::new()
                </text>
            </switch>
        </g>
        <path d="M 2779.7 520 L 2779.19 553.73" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2779.12 558.98 L 2775.72 551.93 L 2779.19 553.73 L 2782.72 552.03 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2720" y="480" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 500px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                pre-commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="504" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    pre-commit
                </text>
            </switch>
        </g>
        <path d="M 2793.97 594.94 L 2840.3 640.59" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2844.04 644.27 L 2836.59 641.85 L 2840.3 640.59 L 2841.51 636.87 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 620px; margin-left: 2820px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2820" y="624" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to commit
                </text>
            </switch>
        </g>
        <path d="M 2770.26 597.15 L 2552.62 1034.57" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2550.28 1039.27 L 2550.27 1031.44 L 2552.62 1034.57 L 2556.53 1034.56 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 818px; margin-left: 2660px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to abort
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2660" y="822" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to abort
                </text>
            </switch>
        </g>
        <path d="M 3035 915 L 3080.5 960.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3084.21 964.21 L 3076.78 961.73 L 3080.5 960.5 L 3081.73 956.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 940px; margin-left: 3060px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                yes conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3060" y="943" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    yes conflict
                </text>
            </switch>
        </g>
        <path d="M 3191.77 1040.39 L 3234.86 968.57 Q 3240 960 3235.46 951.09 L 2964.54 418.91 Q 2960 410 2950.68 406.38 L 2837.36 362.31" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2832.47 360.41 L 2840.26 359.68 L 2837.36 362.31 L 2837.73 366.2 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3180" cy="1060" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1060px; margin-left: 3121px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::reset()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3180" y="1064" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::reset()
                </text>
            </switch>
        </g>
        <path d="M 3115 995 L 3156.52 1036.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3160.24 1040.24 L 3152.81 1037.76 L 3156.52 1036.52 L 3157.76 1032.81 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1018px; margin-left: 3138px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                not exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3138" y="1022" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    not exceeded
                </text>
            </switch>
        </g>
        <path d="M 3100 960 L 3160 980 L 3100 1000 L 3040 980 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 980px; margin-left: 3041px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Retry limit exceeded?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3100" y="984" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Retry limit exceeded?
                </text>
            </switch>
        </g>
        <path d="M 3058 986 L 2601.45 1051.22" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2596.26 1051.96 L 2602.69 1047.51 L 2601.45 1051.22 L 2603.68 1054.44 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1019px; margin-left: 2826px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2826" y="1022" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    exceeded
                </text>
            </switch>
        </g>
        <path d="M 2540 1080 L 2540 1113.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2540 1118.88 L 2536.5 1111.88 L 2540 1113.63 L 2543.5 1111.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2540" cy="1060" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1060px; margin-left: 2481px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::close()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2540" y="1064" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::close()
                </text>
            </switch>
        </g>
        <path d="M 2925 755 L 2883.48 796.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2879.76 800.24 L 2882.24 792.81 L 2883.48 796.52 L 2887.19 797.76 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 778px; margin-left: 2902px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                up-to-date
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2902" y="782" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    up-to-date
                </text>
            </switch>
        </g>
        <path d="M 2955 755 L 2996.52 796.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3000.24 800.24 L 2992.81 797.76 L 2996.52 796.52 L 2997.76 792.81 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 778px; margin-left: 2978px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                there is gap
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2978" y="782" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    there is gap
                </text>
            </switch>
        </g>
        <path d="M 2940 720 L 3000 740 L 2940 760 L 2880 740 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 740px; margin-left: 2881px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is snapshot up-to-date?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2940" y="744" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is snapshot up-to-da...
                </text>
            </switch>
        </g>
        <ellipse cx="2860" cy="820" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 820px; margin-left: 2801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::commit()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2860" y="824" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::commit()
                </text>
            </switch>
        </g>
        <path d="M 3020 840 L 3020 873.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3020 878.88 L 3016.5 871.88 L 3020 873.63 L 3023.5 871.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3020" cy="820" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 820px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::has_conflict()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="824" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::has_conflict()
                </text>
            </switch>
        </g>
        <path d="M 2996 888 L 2948.94 864.47 Q 2940 860 2940 850 L 2940 766.37" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2940 761.12 L 2943.5 768.12 L 2940 766.37 L 2936.5 768.12 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 842px; margin-left: 2940px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                no conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2940" y="845" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    no conflict
                </text>
            </switch>
        </g>
        <path d="M 3020 880 L 3080 900 L 3020 920 L 2960 900 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 900px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is there any conflict?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="904" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is there any conflic...
                </text>
            </switch>
        </g>
        <ellipse cx="2540" cy="1130" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2778.8 560 L 2838.8 580 L 2778.8 600 L 2718.8 580 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 580px; margin-left: 2720px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Client decision?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2779" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Client decision?
                </text>
            </switch>
        </g>
        <path d="M 2875 675 L 2920.5 720.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2924.21 724.21 L 2916.78 721.73 L 2920.5 720.5 L 2921.73 716.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 700px; margin-left: 2900px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                try to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2900" y="703" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    try to commit
                </text>
            </switch>
        </g>
        <path d="M 2847.37 675.79 L 2559.44 1035.7" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2556.16 1039.8 L 2557.8 1032.15 L 2559.44 1035.7 L 2563.26 1036.52 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 859px; margin-left: 2701px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                nothing to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2701" y="862" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    nothing to commit
                </text>
            </switch>
        </g>
        <path d="M 2860 640 L 2920 660 L 2860 680 L 2800 660 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 660px; margin-left: 2801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Are there any data to commit?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2860" y="664" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Are there any data t...
                </text>
            </switch>
        </g>
        <path d="M 2560 288.48 L 2723.95 267.13" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="1920" y="160" width="640" height="320" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 638px; height: 1px; padding-top: 167px; margin-left: 1922px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    new
                                </u>
                                ( db, db_state_guard )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <u>
                                            db
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl := None;
                                            <br/>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .head_excl :=
                                            </span>
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            <span>
                                                () ...
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : dummy.hold_count += 1;
                                            </li>
                                            <li>
                                                Else : push new dummy w/
                                                <br/>
                                                { traversable_list_ver_lo_incl=
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                <span>
                                                    , hold_count=1,
                                                </span>
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                <span>
                                                    =false }
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <u>
                                                snap_next_commit_ver
                                            </u>
                                            :=
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                            <br/>
                                        </li>
                                        <li>
                                            <u>
                                                snap_list_ver
                                            </u>
                                            :=
                                            <font color="#00994d">
                                                hold_curr_list_ver
                                            </font>
                                            ();
                                        </li>
                                    </ol>
                                    <li>
                                        <u>
                                            snap_vec
                                        </u>
                                        := None;
                                    </li>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        <span>
                                            := new empty;
                                            <br/>
                                        </span>
                                        <u>
                                            dependent_itvs_scnds
                                        </u>
                                        <span>
                                            := new empty;
                                        </span>
                                    </li>
                                    <li>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            := None;
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1922" y="179" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::new( db, db_state_guard )...
                </text>
            </switch>
        </g>
        <path d="M 3280 622.39 L 2990 700" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3985.84 880 L 4541.88 1619.2" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4545.04 1623.4 L 4538.03 1619.91 L 4541.88 1619.2 L 4543.62 1615.7 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="3280" y="120" width="840" height="760" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 838px; height: 1px; padding-top: 127px; margin-left: 3282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    try_commit_once
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <u>
                                            db
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                If
                                            </span>
                                            <u>
                                                snap_next_commit_ver
                                            </u>
                                            <span>
                                                !=
                                            </span>
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            <span>
                                                :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <u>
                                                    snap
                                                </u>
                                                .tail_excl.hold_count -= 1;    if
                                                <u>
                                                    snap
                                                </u>
                                                .tail_excl is Some
                                                <br/>
                                                <u>
                                                    snap
                                                </u>
                                                .tail_excl = Some(
                                                <u>
                                                    snap
                                                </u>
                                                .head_excl );
                                                <br/>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .head_excl :=
                                                </span>
                                                <font color="#990099">
                                                    update_or_push
                                                </font>
                                                <span>
                                                    () ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    If the existing head is a dummy : dummy.hold_count += 1;
                                                </li>
                                                <li>
                                                    Else : push new dummy w/
                                                    <br/>
                                                    { traversable_list_ver_lo_incl=
                                                    <font color="#00994d">
                                                        curr_list_ver
                                                    </font>
                                                    , hold_count=1,
                                                    <font color="#cccc00">
                                                        is_fence
                                                    </font>
                                                    =false }
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    If {prior
                                                </span>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .tail_excl became non-held} :
                                                </span>
                                                <u>
                                                    db
                                                </u>
                                                <span>
                                                    .
                                                </span>
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    replace_avail
                                                </span>
                                                <span>
                                                    .send( () );
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <u>
                                                    snap_next_commit_ver
                                                </u>
                                                =
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                ;
                                            </li>
                                            <li>
                                                gc_able_itv :=
                                                <font color="#00994d">
                                                    unhold_list_ver
                                                </font>
                                                (
                                                <u>
                                                    snap_list_ver
                                                </u>
                                                );
                                                <br/>
                                                <u>
                                                    snap_list_ver
                                                </u>
                                                =
                                                <font color="#00994d">
                                                    hold_curr_list_ver
                                                </font>
                                                ();
                                            </li>
                                            <li>
                                                if gc_able_itv is Some :
                                                <u>
                                                    db
                                                </u>
                                                .
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    gc_avail
                                                </span>
                                                .send( gc_able_itv );
                                                <br/>
                                            </li>
                                            <li>
                                                return "need to check for conflict";
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    committed_unit := CommittedUnit::from(
                                                </span>
                                                <u>
                                                    staging
                                                </u>
                                                <span>
                                                    .take(),
                                                </span>
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                <span>
                                                    );
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        // Serializing is expensive, and we're doing it under mutex guard!
                                                    </span>
                                                    <br/>
                                                    <span>
                                                        On disk, serialize CommitInfo with ...
                                                    </span>
                                                    <br/>
                                                </li>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            commit_ver_lo_incl == commit_ver_hi_incl :=
                                                        </span>
                                                        <font color="#00994d">
                                                            next_commit_ver
                                                        </font>
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            timestamp_num := 0
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                                <li>
                                                    <span>
                                                        In memory, move each WritableMemLog into ReadonlyMemLog.
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    node := Box( ListNode( ... committed_unit ... ) ) with ...
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        traversable_list_ver_lo_incl =
                                                    </span>
                                                    <font color="#00994d">
                                                        curr_list_ver
                                                    </font>
                                                    <br/>
                                                </li>
                                            </ol>
                                            <li>
                                                <font>
                                                    list.
                                                </font>
                                                <font color="#990099">
                                                    push
                                                </font>
                                                <span>
                                                    ( node );
                                                </span>
                                            </li>
                                            <li>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .tail_excl
                                                </span>
                                                <span>
                                                    .hold_count -= 1;    if
                                                </span>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .tail_excl
                                                </span>
                                                <span>
                                                    is Some
                                                    <br/>
                                                </span>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .head_excl
                                                </span>
                                                <span>
                                                    .hold_count -= 1;
                                                </span>
                                            </li>
                                            <li>
                                                <u>
                                                    db
                                                </u>
                                                .
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    replace_avail
                                                </span>
                                                .send( () );
                                                <br/>
                                                // The list is definitely replaceable, due to the presence of a new MemLog.
                                            </li>
                                            <li>
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                += 1;
                                            </li>
                                            <li>
                                                <span>
                                                    gc_able_itv :=
                                                    <font color="#00994d">
                                                        unhold_list_ver
                                                    </font>
                                                    (
                                                    <u>
                                                        snap_list_ver
                                                    </u>
                                                    );
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    if gc_able_itv is Some :
                                                </span>
                                                <u>
                                                    db
                                                </u>
                                                <span>
                                                    .
                                                </span>
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    gc_avail
                                                </span>
                                                <span>
                                                    .send( gc_able_itv );
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    return "just committed";
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3282" y="139" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::try_commit_once()...
                </text>
            </switch>
        </g>
        <path d="M 3360 929.68 L 3063.12 833.91" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="3360" y="920" width="560" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 927px; margin-left: 3362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    has_conflict()
                                </u>
                                <br/>
                                <ol>
                                    <li>
                                        committed_units :=
                                        <u>
                                            snap
                                        </u>
                                        .filter( keep CommittedUnit and ignore Dummy );
                                    </li>
                                    <li>
                                        <span>
                                            For each CommittedUnit :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            For each of {PI and SIs} that was written-to in
                                            <u>
                                                staging
                                            </u>
                                            :
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If {
                                                </span>
                                                <u>
                                                    dependent_itvs_*
                                                </u>
                                                <span>
                                                    &lt;--&gt; CommittedEntrySet } overlap :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        Return "yes conflict".
                                                    </span>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            Return "no conflict".
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3362" y="939" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::has_conflict()...
                </text>
            </switch>
        </g>
        <path d="M 3000 710 L 3021.68 724.45 Q 3030 730 3022.47 736.59 L 2877.53 863.41 Q 2870 870 2861.06 865.53 L 2778.94 824.47 Q 2770 820 2777.68 813.6 L 2942.32 676.4 Q 2950 670 2957.81 676.25 L 3000 710" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/>
        <path d="M 2860 840 L 2860 873.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2860 878.88 L 2856.5 871.88 L 2860 873.63 L 2863.5 871.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2860" cy="890" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 3360 1168 L 3209.14 1077.48" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4000 1459.31 L 4536.29 1625.74" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4541.3 1627.3 L 4533.58 1628.57 L 4536.29 1625.74 L 4535.65 1621.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="3360" y="1160" width="640" height="400" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 638px; height: 1px; padding-top: 1167px; margin-left: 3362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    reset
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <u>
                                            db
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl.hold_count -= 1;    if
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl is Some
                                            <br/>
                                            <u>
                                                snap
                                            </u>
                                            .head_excl.hold_count -= 1;
                                            <br/>
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl = None;
                                            <br/>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .head_excl :=
                                            </span>
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            <span>
                                                () ...
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : dummy.hold_count += 1;
                                            </li>
                                            <li>
                                                Else : push new dummy w/
                                                <br/>
                                                { traversable_list_ver_lo_incl=
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                <span>
                                                    , hold_count=1,
                                                </span>
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                <span>
                                                    =false }
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            If {prior
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl and/or
                                            <u>
                                                snap
                                            </u>
                                            .head_excl became non-held} :
                                            <u>
                                                db
                                            </u>
                                            .
                                            <span style="color: rgb(153 , 0 , 0)">
                                                replace_avail
                                            </span>
                                            .send( () );
                                        </li>
                                        <li>
                                            <u>
                                                snap_next_commit_ver
                                            </u>
                                            =
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                        </li>
                                        <li>
                                            gc_able_itv :=
                                            <font color="#00994d">
                                                unhold_list_ver
                                            </font>
                                            (
                                            <u>
                                                snap_list_ver
                                            </u>
                                            );
                                            <br/>
                                            <u>
                                                snap_list_ver
                                            </u>
                                            =
                                            <font color="#00994d">
                                                hold_curr_list_ver
                                            </font>
                                            ();
                                            <br/>
                                        </li>
                                        <li>
                                            if gc_able_itv is Some :
                                            <u>
                                                db
                                            </u>
                                            .
                                            <span style="color: rgb(153 , 0 , 0)">
                                                gc_avail
                                            </span>
                                            .send( gc_able_itv );
                                        </li>
                                    </ol>
                                    <li>
                                        if
                                        <u>
                                            snap_vec
                                        </u>
                                        is Some :
                                        <u>
                                            snap_vec
                                        </u>
                                        .clear();
                                    </li>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        .clear();
                                        <br/>
                                        <u>
                                            dependent_itvs_scnds
                                        </u>
                                        .clear();
                                    </li>
                                    <li>
                                        if
                                        <u>
                                            staging
                                        </u>
                                        is Some :
                                        <u>
                                            staging
                                        </u>
                                        .clear();
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3362" y="1179" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::reset()...
                </text>
            </switch>
        </g>
        <path d="M 2723.08 1200 L 2563.98 1078.33" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3045 1440 L 3311.91 1634.12 Q 3320 1640 3330 1639.92 L 4533.71 1630.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4538.96 1630.09 L 4531.99 1633.65 L 4533.71 1630.13 L 4531.93 1626.65 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2560" y="1200" width="640" height="240" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 638px; height: 1px; padding-top: 1207px; margin-left: 2562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    close
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <u>
                                            db
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .tail_excl.hold_count -= 1;    if
                                            </span>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .tail_excl is Some
                                                <br/>
                                            </span>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .head_excl.hold_count -= 1;
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                If {prior
                                            </span>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .tail_excl and/or
                                            </span>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .head_excl became non-held} :
                                            </span>
                                            <u>
                                                db
                                            </u>
                                            <span>
                                                .
                                            </span>
                                            <span style="color: rgb(153 , 0 , 0)">
                                                replace_avail
                                            </span>
                                            <span>
                                                .send( () );
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            gc_able_itv :=
                                            <font color="#00994d">
                                                unhold_list_ver
                                            </font>
                                            (
                                            <u>
                                                snap_list_ver
                                            </u>
                                            );
                                            <br/>
                                        </li>
                                        <li>
                                            if gc_able_itv is Some :
                                            <u>
                                                db
                                            </u>
                                            .
                                            <span style="color: rgb(153 , 0 , 0)">
                                                gc_avail
                                            </span>
                                            .send( gc_able_itv );
                                        </li>
                                    </ol>
                                    <li>
                                        if
                                        <u>
                                            staging
                                        </u>
                                        is Some :
                                        <u>
                                            staging
                                        </u>
                                        .remove_dir();
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2562" y="1219" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::close()...
                </text>
            </switch>
        </g>
        <rect x="2040" y="560" width="360" height="400" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 400px; padding-top: 560px; margin-left: 2040px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 400px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Txn&lt;'txn&gt;
                                    </b>
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - db: &amp;'txn Db
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#3399ff">
                                        db_state_guard
                                    </font>
                                    : RwLockReadGuard&lt; 'txn, DbState &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap: AtomicLinkedListSnapshot&lt; LsmElem &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_next_commit_ver: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_list_ver: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_vec: Opt&lt; Vec&lt; &amp;LsmElem &gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // A lazily-initialized Vec collection of
                                    <u>
                                        snap
                                    </u>
                                    .
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dependent_itvs_prim: IntervalSet&lt; &amp;'txn PK &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dependent_itvs_scnds: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) IntervalSet&lt; &amp;'txn SV &gt;
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - staging: Opt&lt; StagingUnit &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2040" y="572" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Txn&lt;'txn&gt;...
                </text>
            </switch>
        </g>
        <path d="M 4550 1620 L 4560 1630 L 4550 1640 L 4540 1630 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4240 128.89 L 4166.69 47.43 Q 4160 40 4150.01 40.36 L 3049.99 79.64 Q 3040 80 3033.93 87.94 L 2794.82 400.62" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="4240" y="80" width="560" height="720" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 87px; margin-left: 4242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                /* All these methdos are public to the client callback. */
                                <br/>
                                <br/>
                                Txn::
                                <u>
                                    get_pk_one
                                </u>
                                ( pk )
                                <br/>
                                <ol>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        <span>
                                            .add( (pk,pk) );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <u>
                                            snap_vec
                                        </u>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        Get one from [stg, snap]. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    get_pk_range
                                </u>
                                ( pk_lo, pk_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        <span>
                                            .add( (pk_lo,pk_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <u>
                                            snap_vec
                                        </u>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        K-merge {stg + snap}. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    get_sv_range
                                </u>
                                ( sv_spec, sv_lo, sv_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            // This is a simplistic query engine, which depends on exactly one index.
                                            <br/>
                                        </span>
                                        If
                                        <font color="#3399ff">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec] doesn't exist or
                                        </span>
                                        <font color="#3399ff">
                                            is_readable
                                        </font>
                                        <span>
                                            ==false: return failure.
                                            <br/>
                                        </span>
                                        si_num :=
                                        <font color="#3399ff">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec].si_num;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <u>
                                            dependent_itvs_scnds
                                        </u>
                                        <span>
                                            [si_num] doesn't exist: create new empty.
                                            <br/>
                                        </span>
                                        <u>
                                            dependent_itvs_scnds
                                        </u>
                                        <span>
                                            [si_num].add( (sv_lo,sv_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        stg :=
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .map( (stg) -&gt; stg.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        snap :=
                                        <u>
                                            snap_vec
                                        </u>
                                        <span>
                                            .map( (unit) -&gt; unit.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        K-merge {stg + snap}. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    put
                                </u>
                                ( pk, new_pv )
                                <br/>
                                <ol>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        .add( (pk,pk) );
                                        <br/>
                                        // We must treat concurrent writes on the same PK as a conflict, because they generally invalidate deltas on SIs in staging.
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <u>
                                            snap_vec
                                        </u>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        old_pv := Get one from [stg, snap];
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            is None: create new empty.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each si_num in
                                        </span>
                                        <u>
                                            db_state_guard
                                        </u>
                                        <span>
                                            .scnd_idxs :
                                            <br/>
                                        </span>
                                        // Assess all SIs, regardless of `
                                        <font color="#3399ff">
                                            is_readable
                                        </font>
                                        <span>
                                            `.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If there is a delta for this SI:
                                        </li>
                                        <ol>
                                            <li>
                                                If
                                                <u>
                                                    staging
                                                </u>
                                                .scnds[si_num] doesn't exist: create new empty.
                                                <br/>
                                                <u>
                                                    staging
                                                </u>
                                                .scnds[si_num].put( the_delta );
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .prim
                                        </span>
                                        <span>
                                            .put( (PK,PV) );
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4242" y="99" fill="#000000" font-family="Helvetica" font-size="12px">
                    /* All these methdos are public to the client callback. */...
                </text>
            </switch>
        </g>
        <path d="M 2140 2480 L 2140 2366.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2140 2361.12 L 2143.5 2368.12 L 2140 2366.37 L 2136.5 2368.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2420px; margin-left: 2140px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2140" y="2423" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <rect x="1920" y="2480" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 2480px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CompactedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; CommittedEntrySet&lt;PK,PV&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) CommittedEntrySet&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new_empty( StagingUnit, CommitVer ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_empty() -&gt; bool
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="2492" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CompactedUnit...
                </text>
            </switch>
        </g>
        <path d="M 2360 2496.15 L 2507.06 2400" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2502.55 2407.73 L 2498.17 2401.03 M 2504.87 2396.65 L 2500.36 2404.38 L 2509.25 2403.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2729.53 430.82 L 2649.78 447.9 Q 2640 450 2638.38 459.87 L 2544.3 1033.75" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2543.45 1038.93 L 2541.13 1031.45 L 2544.3 1033.75 L 2548.04 1032.58 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 700px; margin-left: 2599px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                error
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2599" y="703" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    error
                </text>
            </switch>
        </g>
        <rect x="0" y="0" width="10" height="10" fill="rgb(255, 255, 255)" stroke="#e6e6e6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 8px; height: 1px; padding-top: 7px; margin-left: 2px;">
                        <div data-drawio-colors="color: #E6E6E6; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(230, 230, 230); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                (An anchor at the origin. This might help reduce svn line changes.)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2" y="19" fill="#E6E6E6" font-family="Helvetica" font-size="12px">
                    (...
                </text>
            </switch>
        </g>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Viewer does not support full SVG 1.1
            </text>
        </a>
    </switch>
</svg>