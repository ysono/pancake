<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="7802px" height="3761px" viewBox="-0.5 -0.5 7802 3761" content="&lt;mxfile&gt;&lt;diagram id=&quot;RcHnaSoGghIKxj3INRLX&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs>
        <linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-e6e6e6-1-808080-1-s-0">
            <stop offset="0%" style="stop-color: rgb(230, 230, 230); stop-opacity: 1;"/>
            <stop offset="100%" style="stop-color: rgb(128, 128, 128); stop-opacity: 1;"/>
        </linearGradient>
    </defs>
    <g>
        <path d="M 2204 960 L 2154.04 1584.55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2153.76" cy="1588.04" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2149.13 1595.69 L 2157.11 1596.33 M 2153.48 1591.53 L 2152.8 1600" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2040 715 L 1960 695" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1968.73 693.06 L 1966.79 700.82 M 1959.03 698.88 L 1967.76 696.94 L 1960.97 691.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4557.06 1632.94 L 4976.82 1807.55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4981.67 1809.57 L 4973.86 1810.11 L 4976.82 1807.55 L 4976.55 1803.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5240 1990 L 5046.24 2029.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5041.1 2030.69 L 5047.25 2025.85 L 5046.24 2029.63 L 5048.65 2032.71 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5760 1990 L 6233.85 2117.58" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6238.92 2118.94 L 6231.25 2120.5 L 6233.85 2117.58 L 6233.07 2113.74 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5240 2120 L 5275.4 2155.12" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5279.13 2158.81 L 5271.69 2156.37 L 5275.4 2155.12 L 5276.62 2151.4 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5500 1600 L 5500 1560" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="5240" y="1600" width="520" height="520" fill="rgb(255, 255, 255)" stroke="#cc6600" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 518px; height: 1px; padding-top: 1607px; margin-left: 5242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Actor
                                <u>
                                    flush_and_compact_job
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            While true:
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            `Select` all channels.
                                        </li>
                                        <ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    min_held_list_ver
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    gc_dangling_nodes( mhlv );
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <span>
                                                    <font color="#990000">
                                                        replace_avail
                                                    </font>
                                                    :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    flush_and_compact();
                                                </li>
                                            </ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    scnd_idx_creation_request
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    prep_for_si_creation( req );
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <font color="#990000">
                                                    is_terminating
                                                </font>
                                                <span>
                                                    :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <font color="#990000">
                                            scnd_idx_creation_request
                                        </font>
                                        <span>
                                            .close();
                                        </span>
                                    </li>
                                    <li>
                                        poll_held_list_vers_then_gc();
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5242" y="1619" fill="#000000" font-family="Helvetica" font-size="12px">
                    Actor flush_and_compact_job()...
                </text>
            </switch>
        </g>
        <rect x="4560" y="1960" width="480" height="240" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 1967px; margin-left: 4562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    gc_dangling_nodes
                                </u>
                                ( min_held_list_ver )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            Pop
                                        </span>
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        while max_incl_traversable_list_ver &lt; min_held_list_ver;
                                    </li>
                                    <li>
                                        For each popped node :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                Remove files. Drop memory.
                                            </span>
                                            <br/>
                                        </li>
                                    </ol>
                                </ol>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4562" y="1979" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::gc_dangling_nodes( min_held_list_ver )...
                </text>
            </switch>
        </g>
        <path d="M 5952.7 1770 L 5786.73 1952.6 Q 5780 1960 5789.54 1963.01 L 6233.93 2103.35" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6238.93 2104.93 L 6231.2 2106.16 L 6233.93 2103.35 L 6233.31 2099.48 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5958 1780 C 5954.65 1777.78 5952.63 1774.02 5952.63 1770 C 5952.63 1765.98 5954.65 1762.22 5958 1760 L 6042 1760 C 6045.35 1762.22 6047.37 1765.98 6047.37 1770 C 6047.37 1774.02 6045.35 1777.78 6042 1780 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6042 1760 C 6045.35 1762.22 6047.37 1765.98 6047.37 1770 C 6047.37 1774.02 6045.35 1777.78 6042 1780 C 6038.65 1777.78 6036.63 1774.02 6036.63 1770 C 6036.63 1765.98 6038.65 1762.22 6042 1760" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1787px; margin-left: 6000px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                scnd_idx_creation_request
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6000" y="1800" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    scnd_idx_creati...
                </text>
            </switch>
        </g>
        <rect x="6240" y="1920" width="600" height="560" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1927px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    prep_for_si_creation
                                </u>
                                ( ScndIdxCreationRequest )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            // F+C does a sweep of the LL once, before delivering SICr new work.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                            // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            snap_head_excl :=
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            () ...
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy w/
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false : dummy.
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                .store( true );
                                                <br/>
                                            </li>
                                            <li>
                                                Else : push new dummy w/ { hold_count=0,
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =true }
                                            </li>
                                        </ol>
                                        <li>
                                            output_commit_ver :=
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                            <br/>
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            += 1;
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            traverse_and_compact( snap_head_excl );
                                            <br/>
                                        </span>
                                        // Here, compaction is optional. But we reuse code, and compact anyway.
                                    </li>
                                    <li>
                                        work := ScndIdxCreationWork( snap_head_excl, output_commit_ver, req );
                                        <br/>
                                        <font color="#990000">
                                            scnd_idx_creation_work
                                        </font>
                                        <span>
                                            .send( work );
                                        </span>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="1939" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::prep_for_si_creation( ScndIdxCreationRequest )...
                </text>
            </switch>
        </g>
        <path d="M 620 2240 L 620 2280" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 616 2276 L 624 2276" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 840 2121.94 L 960 2199.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 954.47 2200.55 L 958.81 2193.83" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1216 2680 L 1209.6 2760" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1205.93 2755.69 L 1213.91 2756.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1520 2321.67 L 1584.83 2308.16" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1588.25" cy="2307.45" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1599.18 2301.08 L 1592.17 2306.63 L 1600.82 2308.92 M 1592.17 2306.63 L 1600 2305" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6000 1760 L 6000 1720" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1000 1555 L 1113.65 1564.47" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1118.89 1564.91 L 1111.62 1567.81 L 1113.65 1564.47 L 1112.2 1560.84 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1560px; margin-left: 1060px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                formats new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1060" y="1563" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    formats new
                </text>
            </switch>
        </g>
        <path d="M 1840 2257.14 L 1904.77 2244.8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1908.21" cy="2244.15" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1916.82 2246.58 L 1915.32 2238.72 M 1911.65 2243.5 L 1920 2241.9" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 530 3080 L 509.3 3107.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="507.2" cy="3110.4" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 503.2 3122.4 L 504.8 3113.6 L 496.8 3117.6 M 504.8 3113.6 L 500 3120" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="400" y="2840" width="440" height="240" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 2840px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxsState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + scnd_idxs: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) Arc&lt; SVSpec &gt;
                                    </li>
                                    <li>
                                        (value) ScndIdxState
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - next_scnd_idx_num: ScndIdxNum
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="2852" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxsState...
                </text>
            </switch>
        </g>
        <path d="M 1920 2126.67 L 1849.49 2103.16 Q 1840 2100 1830.74 2096.23 L 1440 1937.04" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1445.21 1934.84 L 1442.2 1942.25" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2360 2242.31 L 2440 2257.69" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2431.39 2260.11 L 2432.9 2252.25 M 2440.76 2253.76 L 2432.14 2256.18 L 2439.24 2261.62" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1866.88 L 1520 1859.38" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1516.39 1863.73 L 1515.64 1855.77" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1810 L 1520 1770" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1518.21 1766.42 L 1512.84 1773.58 L 1521.79 1773.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1920 L 1850.38 2037.25 Q 1860 2040 1868.68 2044.96 L 1914.47 2071.13" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1919.03 2073.73 L 1911.22 2073.3 L 1914.47 2071.13 L 1914.69 2067.22 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1989px; margin-left: 1683px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                load into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1683" y="1993" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    load into
                </text>
            </switch>
        </g>
        <path d="M 2710 2200 L 2723.07 2173.86" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2724.63" cy="2170.73" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2731.79 2165.37 L 2724.63 2161.79 M 2726.2 2167.6 L 2730 2160" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2706.15 2400 L 2718.12 2425.93" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2719.59" cy="2429.1" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2719.31 2438.04 L 2726.57 2434.69 M 2721.05 2432.28 L 2724.62 2440" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2880 2251.88 L 3153.78 2191.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3158.91 2190.86 L 3152.82 2195.78 L 3153.78 2191.99 L 3151.32 2188.94 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2221px; margin-left: 3020px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="2224" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <rect x="2440" y="2200" width="440" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 2207px; margin-left: 2442px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    CommittedEntrySet&lt;K, V&gt;
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li>
                                        RMemLog( ReadOnlyMemlog&lt;K, V&gt; )
                                    </li>
                                    <li>
                                        SSTable( SSTable&lt;K, V&gt; )
                                    </li>
                                </ul>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Entry&lt;K, ()&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2442" y="2219" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum CommittedEntrySet&lt;K, V&gt;:...
                </text>
            </switch>
        </g>
        <path d="M 1400 2900 L 1464.58 2906.46" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1468.06" cy="2906.81" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1480.4 2904.02 L 1472.04 2907.2 L 1479.6 2911.98 M 1472.04 2907.2 L 1480 2908" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1200 3000 L 1200 3073.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="stroke"/>
        <path d="M 1200 3078.88 L 1196.5 3071.88 L 1200 3073.63 L 1203.5 3071.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3040px; margin-left: 1200px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is implicitly related to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1200" y="3043" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is implicitly related to
                </text>
            </switch>
        </g>
        <rect x="1000" y="2760" width="400" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 240px; padding-top: 2760px; margin-left: 1000px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AtomicLinkedList&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_ptr: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + from_elems( Iter&lt;T&gt; ) -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head() -&gt; &amp;ListNode&lt;T&gt;
                                </p>
                                <p></p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#990099">
                                        push_elem
                                    </font>
                                    <span>
                                        ( T ) -&gt; &amp;ListNode&lt;T&gt;
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#990099">
                                        push_node
                                    </font>
                                    ( Box&lt; ListNode&lt;T&gt; &gt; ) -&gt; &amp;ListNode&lt;T&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + iter() -&gt; Iter&lt; &amp;T &gt;
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1000" y="2772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AtomicLinkedList&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1480" y="2880" width="240" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 80px; padding-top: 2880px; margin-left: 1480px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ListNode&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + elem: T
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + next: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1480" y="2892" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ListNode&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1520" y="1800" width="200" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 100px; padding-top: 1800px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 100px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        TimestampNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + inc_from(Iter&lt;Self&gt;) -&gt; Self
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="1812" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    TimestampNum...
                </text>
            </switch>
        </g>
        <rect x="1520" y="1720" width="80" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 82px; height: 60px; padding-top: 1720px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 80px; height: 60px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitVer
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="1732" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitVer...
                </text>
            </switch>
        </g>
        <path d="M 1300 1680 L 1300 1753.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1300 1758.88 L 1296.5 1751.88 L 1300 1753.63 L 1303.5 1751.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1720px; margin-left: 1300px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1300" y="1723" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 1480 1618.57 L 1913.77 1711.52" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1918.91 1712.62 L 1911.33 1714.58 L 1913.77 1711.52 L 1912.8 1707.73 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1666px; margin-left: 1700px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1700" y="1669" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into new
                </text>
            </switch>
        </g>
        <rect x="640" y="3120" width="200" height="160" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 160px; padding-top: 3120px; margin-left: 640px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + inc_from(Iter&lt;Self&gt;) -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + get_and_inc() -&gt; Self
                                    </span>
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="640" y="3132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxNum...
                </text>
            </switch>
        </g>
        <rect x="2560" y="1960" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 1960px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ReadonlyMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + memtable: BTreeMap&lt; K, OptDatum&lt;V&gt; &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - log_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; ( &amp;K, &amp;OptDat&lt;V&gt; ) &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; ( &amp;K, &amp;OptDat&lt;V&gt; ) &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="1972" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ReadonlyMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <rect x="2560" y="2440" width="440" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 2440px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SSTable&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - sparse_file_offsets: Vec&lt; (K, u64) &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - kv_file_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + new( Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                    </span>
                                    <span>
                                        ) -&gt; Res&lt; Self &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Res&lt;( K, OptDat&lt;V&gt; )&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Res&lt;( K, OptDat&lt;V&gt; )&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Res&lt;K&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_file() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="2452" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SSTable&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 2817.5 1840 L 2836.49 1890.64 Q 2840 1900 2836.49 1909.36 L 2819.74 1954.04" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2817.89 1958.95 L 2817.07 1951.17 L 2819.74 1954.04 L 2823.63 1953.63 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1900px; margin-left: 2840px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2840" y="1903" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 2903.81 1840 L 3155.05 2042.92" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3159.13 2046.22 L 3151.49 2044.55 L 3155.05 2042.92 L 3155.88 2039.1 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1944px; margin-left: 3032px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3032" y="1947" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <path d="M 2742.5 1840 L 2723.51 1890.64 Q 2720 1900 2723.51 1909.36 L 2742.5 1960" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2737.35 1957.66 L 2744.84 1954.85" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2560" y="1640" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 1640px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        WritableMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + r_memlog: ReadonlyMemLog&lt;K, V&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + log_writer: DatumWriter
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + put( K, OptDatum&lt;V&gt; ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + flush() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + into() -&gt; ReadonlyMemLog&lt;K,V&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="1652" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    WritableMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 3160 2482.59 L 3006.24 2513.91" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3001.1 2514.96 L 3007.26 2510.14 L 3006.24 2513.91 L 3008.65 2516.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2499px; margin-left: 3080px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                constructs
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3080" y="2502" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    constructs
                </text>
            </switch>
        </g>
        <rect x="3160" y="2360" width="320" height="180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2367px; margin-left: 3162px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                enum
                                <b>
                                    Entry
                                </b>
                                &lt;'a, K, V&gt; {
                                <br/>
                                Ref(( &amp;'a K, &amp;'a V )),
                                <br/>
                                Own(Res&lt;( K, V )&gt;),
                                <br/>
                                }
                                <br/>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + try_borrow() -&gt; Res&lt;( &amp;'a K, &amp;'a V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + take_kv() -&gt; Res&lt;( K, V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    etc
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3162" y="2379" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    enum Entry&lt;'a, K, V&gt; {...
                </text>
            </switch>
        </g>
        <path d="M 3308.28 2280 L 3313.35 2353.65" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3313.72 2358.88 L 3309.74 2352.14 L 3313.35 2353.65 L 3316.73 2351.66 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2320px; margin-left: 3311px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                produces
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3311" y="2323" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    produces
                </text>
            </switch>
        </g>
        <rect x="3160" y="2040" width="280" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 2047px; margin-left: 3162px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                fn
                                <b>
                                    merge_committed_entrysets
                                </b>
                                (
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                <br/>
                                <br/>
                                fn
                                <b>
                                    merge_txnlocal_and_committed_entrysets
                                </b>
                                (
                                <br/>
                                Opt&lt; &amp;WritableMemLog&lt;K, V&gt; &gt;,
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3162" y="2059" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    fn merge_committed_entrysets(...
                </text>
            </switch>
        </g>
        <path d="M 2360 1753.13 L 2560 1746.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2556.13 1751 L 2555.88 1743" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2140 1920 L 2140 2033.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2140 2038.88 L 2136.5 2031.88 L 2140 2033.63 L 2143.5 2031.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1980px; margin-left: 2140px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2140" y="1983" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 5280 1360.87 L 5215.44 1355.26" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="5211.95" cy="1354.95" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 5199.65 1357.9 L 5207.97 1354.61 L 5200.35 1349.93 M 5207.97 1354.61 L 5200 1353.91" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="5280" y="1200" width="440" height="360" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 360px; padding-top: 1200px; margin-left: 5280px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 360px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        FCJob
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: Arc&lt; DB &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dangling_nodes: VecDeque&lt; DanglingNodeSet &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    // rx
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        min_held_list_ver
                                    </font>
                                    : watch::Receiver&lt; ListVer &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <span style="color: rgb(153 , 0 , 0)">
                                        replace_avail
                                    </span>
                                    : watch::Receiver&lt; () &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        scnd_idx_creation_request
                                    </font>
                                    : mpsc::Receiver&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Receiver&lt; () &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        // tx
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        sicr_work
                                    </font>
                                    : mpsc::Sender&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5280" y="1212" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    FCJob...
                </text>
            </switch>
        </g>
        <path d="M 6240 1711.33 L 6053.39 1768.15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6048.37 1769.67 L 6054.05 1764.29 L 6053.39 1768.15 L 6056.09 1770.98 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 160 1680 L 280 1680 L 280 1930 L 240 1930 L 220 1960 L 220 1930 L 160 1930 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,220,1820)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 248px; height: 1px; padding-top: 1767px; margin-left: 82px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                If a thread is to lock both
                                <font color="#00cccc">
                                    db_state
                                </font>
                                and
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                , it must lock
                                <font color="#00cccc">
                                    db_state
                                </font>
                                first, then
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                .
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="82" y="1779" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    If a thread is to lock both db_state and...
                </text>
            </switch>
        </g>
        <rect x="1200" y="1000" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1007px; margin-left: 1202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    File paths
                                </u>
                                <br/>
                                <ul>
                                    <li>
                                        db_root/
                                    </li>
                                    <ul>
                                        <li>
                                            scnd_idxs_state.txt
                                            <br/>
                                            (Contains a) definitions of all secondary indexes, b) next_scnd_idx_num.)
                                        </li>
                                        <li>
                                            lsm/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt;anti_collision_num&gt;/
                                                <br/>
                                                (Either StagingUnit or CommittedUnit.)
                                            </li>
                                            <ul>
                                                <li>
                                                    pi.kv
                                                </li>
                                                <li>
                                                    si-&lt;scnd_idx_num&gt;.kv
                                                </li>
                                                <li>
                                                    (... other SIs)
                                                </li>
                                                <li>
                                                    (All entrysets (PI or SI) are optional.)
                                                </li>
                                                <li>
                                                    commit_info.txt
                                                    <br/>
                                                    (This file is present iff this unit was attempted commitment.
                                                    <br/>
                                                    There is currently no way to distinguish a failed and a finalized commit.)
                                                </li>
                                            </ul>
                                            <li>
                                                (... other unit dirs)
                                            </li>
                                        </ul>
                                        <li>
                                            si_cr_job/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt; temporary SSTables &gt;
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1202" y="1019" fill="#000000" font-family="Helvetica" font-size="12px">
                    File paths...
                </text>
            </switch>
        </g>
        <rect x="1800" y="760" width="120" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 122px; height: 80px; padding-top: 760px; margin-left: 1800px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 120px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Interval&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + lo_incl: Opt&lt;T&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + hi_incl: Opt&lt;T&gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1800" y="772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Interval&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1600" y="2200" width="240" height="160" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 238px; height: 1px; padding-top: 2207px; margin-left: 1602px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    LsmElem
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li>
                                        Unit( CommittedUnit )
                                    </li>
                                    <li>
                                        Dummy{ ... }
                                    </li>
                                    <ul>
                                        <li>
                                            hold_count: AtomicUsize
                                            <br/>
                                        </li>
                                        <li>
                                            <font color="#cccc00">
                                                is_fence
                                            </font>
                                            : AtomicBool
                                        </li>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1602" y="2219" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum LsmElem:...
                </text>
            </switch>
        </g>
        <path d="M 560 3200 L 640 3200" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 636 3204 L 636 3196" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="320" y="3120" width="240" height="160" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 160px; padding-top: 3120px; margin-left: 320px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnd_idx_num: ScndIdxNum
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#00cccc">
                                        is_readable
                                    </font>
                                    : bool
                                </p>
                                <div>
                                    <hr size="1"/>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + ser( ... ) -&gt; Res&lt; () &gt;
                                    </p>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + deser( ... ) -&gt; Res&lt; Self &gt;
                                    </p>
                                </div>
                                <div>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="320" y="3132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxState...
                </text>
            </switch>
        </g>
        <rect x="5320" y="200" width="800" height="600" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 798px; height: 1px; padding-top: 207px; margin-left: 5322px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    TODO
                                </b>
                                <br/>
                                <ul>
                                    <li>
                                        <span>
                                            Txn
                                        </span>
                                    </li>
                                    <ul>
                                        <li>
                                            <span>
                                                Handle this anomaly:
                                            </span>
                                            <br/>
                                        </li>
                                        <ul>
                                            <li>
                                                <span>
                                                    1) commit_info.txt is written
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    2) crash
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    Problem: Actually committed CommittedUnit vs never pushed CommittedUnit are indistinguishable.
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    Possible solution:
                                                </span>
                                                <br/>
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        1) Txn::commit() writes commit_info.txt with timestamp_num=None
                                                    </span>
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        2) Txn::commit() pushes to LL
                                                    </span>
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        3) Txn::commit() notifies F+C
                                                    </span>
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        4) F+C goes through recent commits, and sets timestamp_num=Some(zero)
                                                    </span>
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        5) F+C messages back
                                                    </span>
                                                    Txn::commit()
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        6) Txn::commit() returns
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ul>
                                        </ul>
                                    </ul>
                                    <li>
                                        <span>
                                            F+C
                                        </span>
                                        <br/>
                                    </li>
                                    <ul>
                                        <li>
                                            <span>
                                                Levelled compaction.
                                            </span>
                                        </li>
                                        <ul>
                                            <li>
                                                <span>
                                                    Each CommittedUnit can have levelled compaction within.
                                                </span>
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div style="text-align: right">
                                    <span style="text-align: center">
                                        https://github.com/ysono/pancake/
                                    </span>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5322" y="219" fill="#000000" font-family="Helvetica" font-size="12px">
                    TODO...
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1650 L 5234.3 1728" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5239 1730.33 L 5231.17 1730.35 L 5234.3 1728 L 5234.29 1724.08 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4988 1660 C 4984.65 1657.78 4982.63 1654.02 4982.63 1650 C 4982.63 1645.98 4984.65 1642.22 4988 1640 L 5072 1640 C 5075.35 1642.22 5077.37 1645.98 5077.37 1650 C 5077.37 1654.02 5075.35 1657.78 5072 1660 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1640 C 5075.35 1642.22 5077.37 1645.98 5077.37 1650 C 5077.37 1654.02 5075.35 1657.78 5072 1660 C 5068.65 1657.78 5066.63 1654.02 5066.63 1650 C 5066.63 1645.98 5068.65 1642.22 5072 1640" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1667px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is_terminating
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1680" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    is_terminating
                </text>
            </switch>
        </g>
        <path d="M 6920 3027.14 L 6738.51 3195.67" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6734.67 3199.24 L 6737.41 3191.91 L 6738.51 3195.67 L 6742.18 3197.04 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6840 3316.12 L 6956.47 3291.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6961.61 3290.23 L 6955.49 3295.11 L 6956.47 3291.33 L 6954.03 3288.27 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7280 2860 L 7360 2860" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="6920" y="2680" width="360" height="360" fill="rgb(255, 255, 255)" stroke="#cccc00" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 358px; height: 1px; padding-top: 2687px; margin-left: 6922px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Actor
                                <u>
                                    scnd_idx_creation_job
                                </u>
                                ()
                                <br/>
                                <ul>
                                    <li>
                                        While true:
                                    </li>
                                    <ul>
                                        <li>
                                            `Select` all channels.
                                        </li>
                                        <ul>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    scnd_idx_creation_work
                                                </font>
                                                :
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        do_create();
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        notify_end_of_work();
                                                    </span>
                                                </li>
                                            </ul>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <font color="#990000">
                                                    is_terminating
                                                </font>
                                                <span>
                                                    :
                                                </span>
                                                <br/>
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ul>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6922" y="2699" fill="#000000" font-family="Helvetica" font-size="12px">
                    Actor scnd_idx_creation_job()...
                </text>
            </switch>
        </g>
        <path d="M 7017.3 2610 L 7038.46 2673.95" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 7040.1 2678.94 L 7034.58 2673.39 L 7038.46 2673.95 L 7041.23 2671.19 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6977.33 2600 L 7036 2520" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6928 2620 C 6924.65 2617.78 6922.63 2614.02 6922.63 2610 C 6922.63 2605.98 6924.65 2602.22 6928 2600 L 7012 2600 C 7015.35 2602.22 7017.37 2605.98 7017.37 2610 C 7017.37 2614.02 7015.35 2617.78 7012 2620 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7012 2600 C 7015.35 2602.22 7017.37 2605.98 7017.37 2610 C 7017.37 2614.02 7015.35 2617.78 7012 2620 C 7008.65 2617.78 7006.63 2614.02 7006.63 2610 C 7006.63 2605.98 7008.65 2602.22 7012 2600" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2627px; margin-left: 6970px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                scnd_idx_creation_work
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6970" y="2640" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    scnd_idx_creati...
                </text>
            </switch>
        </g>
        <path d="M 7257.3 2610 L 7216.65 2674.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 7213.85 2679.05 L 7214.62 2671.27 L 7216.65 2674.61 L 7220.54 2674.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7168 2620 C 7164.65 2617.78 7162.63 2614.02 7162.63 2610 C 7162.63 2605.98 7164.65 2602.22 7168 2600 L 7252 2600 C 7255.35 2602.22 7257.37 2605.98 7257.37 2610 C 7257.37 2614.02 7255.35 2617.78 7252 2620 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7252 2600 C 7255.35 2602.22 7257.37 2605.98 7257.37 2610 C 7257.37 2614.02 7255.35 2617.78 7252 2620 C 7248.65 2617.78 7246.63 2614.02 7246.63 2610 C 7246.63 2605.98 7248.65 2602.22 7252 2600" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2627px; margin-left: 7210px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is_terminating
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7210" y="2640" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    is_terminating
                </text>
            </switch>
        </g>
        <rect x="6240" y="2560" width="600" height="600" fill="rgb(255, 255, 255)" stroke="#cccc00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 2567px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                SICr
                                <u>
                                    do_create
                                </u>
                                ( ScndIdxWork )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            snap := AtomicLinkedListSnapshot{
                                        </span>
                                        <u>
                                            snap_head_excl
                                        </u>
                                        <span>
                                            , tail_excl=None };
                                            <br/>
                                        </span>
                                        snap_pi
                                        <span>
                                            :=
                                        </span>
                                        <span>
                                            snap.iter().filter_map( (unit) -&gt; unit.pi ).k_merge().filter( keep non-Tombstone );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each (PK,PV) in snap_pi :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            Write to a Memtable (without log).
                                        </li>
                                        <li>
                                            Periodically flush to a new SSTable.
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            If there were no data :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            // There should be no file to delete.
                                        </li>
                                        <li>
                                            return;
                                        </li>
                                    </ol>
                                    <li>
                                        K-merge all SSTables.
                                    </li>
                                    <li>
                                        <span>
                                            Remove non-final SSTables.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            cu := CommittedUnit w/ ...
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            commit_ver_lo_incl == commit_ver_hi_incl :=
                                            <u>
                                                output_commit_ver
                                            </u>
                                        </li>
                                        <li>
                                            <span>
                                                timestamp_num := 0
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            node := Box( ListNode( ... cu ... ) );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            node.next =
                                        </span>
                                        <span>
                                            <u>
                                                snap_head_excl
                                            </u>
                                            .next.load();
                                            <br/>
                                            <u>
                                                snap_head_excl
                                            </u>
                                            .next.store( node );
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        With
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        .lock_exclusive() :
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#00cccc">
                                                set_scnd_idx_as_readable
                                            </font>
                                            ( sv_spec ), which does ...
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <font color="#00cccc">
                                                    scnd_idxs
                                                </font>
                                                [ sv_spec ].
                                                <font color="#00cccc">
                                                    is_readable
                                                </font>
                                                = true ;
                                            </li>
                                            <li>
                                                Write to disk.
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="2579" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICr do_create( ScndIdxWork )...
                </text>
            </switch>
        </g>
        <path d="M 6968 3300 C 6964.65 3297.78 6962.63 3294.02 6962.63 3290 C 6962.63 3285.98 6964.65 3282.22 6968 3280 L 7052 3280 C 7055.35 3282.22 7057.37 3285.98 7057.37 3290 C 7057.37 3294.02 7055.35 3297.78 7052 3300 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7052 3280 C 7055.35 3282.22 7057.37 3285.98 7057.37 3290 C 7057.37 3294.02 7055.35 3297.78 7052 3300 C 7048.65 3297.78 7046.63 3294.02 7046.63 3290 C 7046.63 3285.98 7048.65 3282.22 7052 3280" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3307px; margin-left: 7010px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    replace_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7010" y="3320" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    replace_avail
                </text>
            </switch>
        </g>
        <rect x="5200" y="2160" width="720" height="200" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 2167px; margin-left: 5202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    flush_and_compact
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            snap_head_excl :=
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            () ...
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : nothing to update.
                                            </li>
                                            <li>
                                                Else : push new dummy w/ { hold_count=0,
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false }
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            traverse_and_compact( snap_head_excl );
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5202" y="2179" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::flush_and_compact()...
                </text>
            </switch>
        </g>
        <path d="M 4925.6 3240 L 4916.51 3353.65" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4916.09 3358.89 L 4913.16 3351.63 L 4916.51 3353.65 L 4920.14 3352.19 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="4680" y="2880" width="520" height="360" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 518px; height: 1px; padding-top: 2887px; margin-left: 4682px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    cut_non_boundary_dummies
                                </u>
                                ( prior_excl )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            slice := [ ];
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            curr := prior_excl.next.load();
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            match curr :
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    case dummy with { hold_count=0 and
                                                </span>
                                                <span style="color: rgb(204 , 204 , 0)">
                                                    is_fence
                                                </span>
                                                <span>
                                                    =false } :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    slice.push( curr );
                                                </li>
                                                <li>
                                                    curr = curr.next.load();
                                                </li>
                                            </ol>
                                            <li>
                                                case nullptr or boundary dummy or fence dummy or CommittedUnit :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            If slice is not empty :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                replace( prior_excl, curr, None, slice );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            return curr;
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                                <ul></ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4682" y="2899" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::cut_non_boundary_dummies( prior_excl )...
                </text>
            </switch>
        </g>
        <rect x="6240" y="3200" width="600" height="360" fill="rgb(255, 255, 255)" stroke="#cccc00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3207px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <div>
                                    SICr
                                    <u>
                                        notify_end_of_work
                                    </u>
                                    ( ScndIdxWork )
                                </div>
                                <ol>
                                    <li>
                                        <u>
                                            snap_head_excl
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <font color="#cccc00">
                                            is_fence
                                        </font>
                                        <span>
                                            .store( false );
                                        </span>
                                    </li>
                                    <li>
                                        <font color="#990000">
                                            replace_avail
                                        </font>
                                        <span>
                                            .send( () );
                                            <br/>
                                        </span>
                                        /* Even if snap_head_excl's hold_count is not zero, notify F+C anyway, because some dummies in SICr's snapshot might have become non-held. For such dummies, notification would have been sent to F+C but F+C would not have worked across those dummies. */
                                    </li>
                                    <li>
                                        <span>
                                            response_to_client.send( "succes" );
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="3219" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICr notify_end_of_work( ScndIdxWork )...
                </text>
            </switch>
        </g>
        <path d="M 6920 2860 L 6846.37 2860" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6841.12 2860 L 6848.12 2856.5 L 6846.37 2860 L 6848.12 2863.5 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6240" y="1400" width="600" height="440" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1407px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                DB::
                                <u>
                                    create_scnd_idx
                                </u>
                                ()
                                <br/>
                                <br/>
                                Args:
                                <br/>
                                <ul>
                                    <li>
                                        SVSpec
                                    </li>
                                </ul>
                                Steps:
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_shared() :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            .has_key( sv_spec ) :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "Already exists and &lt;is | isn't&gt; being created".
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                            // It's preferrable to wait for the exclusive lock outside the job thread.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            .has_key( sv_spec ) :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "Already exists and &lt;is | isn't&gt; being created".
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#00cccc">
                                                define_new_scnd_idx
                                            </font>
                                            ( sv_spec ), which does ...
                                        </li>
                                        <ol>
                                            <li>
                                                si_num :=
                                                <font color="#00cccc">
                                                    next_scnd_idx_num
                                                </font>
                                                .get_and_inc();
                                            </li>
                                            <li>
                                                <font color="#00cccc">
                                                    scnd_idxs
                                                </font>
                                                .insert( sv_spec, ( si_num,
                                                <font color="#00cccc">
                                                    is_readable
                                                </font>
                                                =false ) );
                                            </li>
                                            <li>
                                                Write to disk.
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            (tx, rx) := oneshot::channel();
                                            <br/>
                                            req := ScndIdxCreationRequest( sv_spec, si_num, tx );
                                            <br/>
                                        </span>
                                        <font color="#990000">
                                            scnd_idx_creation_request
                                        </font>
                                        <span>
                                            .send( req );
                                            <br/>
                                            resp := rx.receive();
                                            <br/>
                                            return resp;
                                        </span>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="1419" fill="#000000" font-family="Helvetica" font-size="12px">
                    DB::create_scnd_idx()...
                </text>
            </switch>
        </g>
        <rect x="4600" y="3360" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3367px; margin-left: 4602px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    replace
                                </u>
                                ( K, G, R, slice )
                                <br/>
                                // K is slice_head_excl
                                <br/>
                                // G is slice_tail_excl
                                <br/>
                                // R: Opt&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                <br/>
                                // slice: Vec&lt; &amp;ListNode&lt; LsmElem &gt; &gt;
                                <br/>
                                <ol>
                                    <li>
                                        If R is Some :
                                    </li>
                                    <ol>
                                        <li>
                                            R.next.store(G);
                                        </li>
                                        <li>
                                            K.next.store(R);
                                        </li>
                                    </ol>
                                    <li>
                                        Else :
                                    </li>
                                    <ol>
                                        <li>
                                            K.next.store(G);
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#00994d">
                                                curr_list_ver
                                            </font>
                                            += 1;
                                        </li>
                                    </ol>
                                    <li>
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        .push( (prior curr_list_ver, vec of just-replaced nodes) );
                                    </li>
                                </ol>
                                <ul>
                                    <ul></ul>
                                </ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4602" y="3379" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::replace( K, G, R, slice )...
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1810 L 5216.03 2130.82 Q 5220 2140 5228.99 2144.39 L 5254.04 2156.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5258.76 2158.91 L 5250.93 2158.99 L 5254.04 2156.61 L 5254 2152.69 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4988 1820 C 4984.65 1817.78 4982.63 1814.02 4982.63 1810 C 4982.63 1805.98 4984.65 1802.22 4988 1800 L 5072 1800 C 5075.35 1802.22 5077.37 1805.98 5077.37 1810 C 5077.37 1814.02 5075.35 1817.78 5072 1820 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1800 C 5075.35 1802.22 5077.37 1805.98 5077.37 1810 C 5077.37 1814.02 5075.35 1817.78 5072 1820 C 5068.65 1817.78 5066.63 1814.02 5066.63 1810 C 5066.63 1805.98 5068.65 1802.22 5072 1800" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1827px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    replace_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1840" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    replace_avail
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1730 L 5214.73 1951.5 Q 5220 1960 5210.38 1962.75 L 5046.12 2009.68" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5041.07 2011.12 L 5046.84 2005.83 L 5046.12 2009.68 L 5048.77 2012.56 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4988 1740 C 4984.65 1737.78 4982.63 1734.02 4982.63 1730 C 4982.63 1725.98 4984.65 1722.22 4988 1720 L 5072 1720 C 5075.35 1722.22 5077.37 1725.98 5077.37 1730 C 5077.37 1734.02 5075.35 1737.78 5072 1740 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1720 C 5075.35 1722.22 5077.37 1725.98 5077.37 1730 C 5077.37 1734.02 5075.35 1737.78 5072 1740 C 5068.65 1737.78 5066.63 1734.02 5066.63 1730 C 5066.63 1725.98 5068.65 1722.22 5072 1720" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1747px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    min_held_list_ver
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1760" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    min_held_list_v...
                </text>
            </switch>
        </g>
        <path d="M 4558.12 1631.88 L 4976.5 1728.57" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4981.61 1729.75 L 4974 1731.58 L 4976.5 1728.57 L 4975.58 1724.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6801.36 2480 L 6918.35 2605.34" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6921.94 2609.18 L 6914.6 2606.45 L 6918.35 2605.34 L 6919.72 2601.68 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1800 720 L 1820.7 747.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1822.8" cy="750.4" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 1833.2 757.6 L 1825.2 753.6 L 1826.8 762.4 M 1825.2 753.6 L 1830 760" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1520" y="560" width="440" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 160px; padding-top: 560px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        IntervalSet&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - itvs: Vec&lt; Interval&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + add( Interval&lt;T&gt; )
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + clear()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + merge()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + overlaps_with(points: Iter&lt;U: TryPartialOrd&lt;T&gt;&gt;) -&gt; Res&lt;bool&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="572" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    IntervalSet&lt;T&gt;...
                </text>
            </switch>
        </g>
        <path d="M 5322.4 3240 L 5169.08 3356.15" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5164.89 3359.32 L 5168.36 3352.31 L 5169.08 3356.15 L 5172.58 3357.89 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5280 3060 L 5206.37 3060" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5201.12 3060 L 5208.12 3056.5 L 5206.37 3060 L 5208.12 3063.5 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6920" y="2400" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 2400px; margin-left: 6920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationWork
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span>
                                        snap_head_excl: SendPtr&lt; ListNode&lt; LsmElem &gt; &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + scnd_idx_num: ScndIdxNum
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + output_commit_ver: CommitVer
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + req: ScndIdxCreationRequest
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6920" y="2412" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationWork...
                </text>
            </switch>
        </g>
        <rect x="5280" y="3360" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3367px; margin-left: 5282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    do_flush_and_compact
                                </u>
                                ( slice, skip_tombstones, db_state_guard )
                                <br/>
                                -&gt; Option&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                <br/>
                                <ol>
                                    <li>
                                        With db_state guard :=
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        .lock_shared() :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                Create a new empty SSTable-based CompactedUnit.
                                            </span>
                                        </li>
                                        <li>
                                            For each of {PI; and SIs in db_state_guard.
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            .keys() regardless of `
                                            <font color="#00cccc">
                                                is_readable
                                            </font>
                                            `} :
                                        </li>
                                        <ol>
                                            <li>
                                                K-merge across the slice --&gt; produce one SSTable.
                                                <br/>
                                                If skipping tombstones, do so.
                                            </li>
                                            <li>
                                                If the newly produced SSTable is non-empty :
                                            </li>
                                            <ol>
                                                <li>
                                                    Assign the new SSTable into the new CommittedUnit.
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                If the newly produced CommittedUnit is non-empty :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    On disk, serialize CommitInfo with ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        commit_ver_hi_incl = max in slice
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        commit_ver_lo_incl = min in slcie
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        timestamp_num = (max in slice) + 1
                                                    </span>
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    Move the new CommittedUnit into a Box&lt; ListNode&lt; LsmElem &gt; &gt;. Return this.
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    committed_unit.remove_dir();
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Return None.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5282" y="3379" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::do_flush_and_compact( slice, skip_tombstones, db_state_guard )...
                </text>
            </switch>
        </g>
        <path d="M 5567.2 3240 L 5571.75 3353.64" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5571.96 3358.88 L 5568.18 3352.03 L 5571.75 3353.64 L 5575.17 3351.75 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5560 2360 L 5560 2433.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5560 2438.88 L 5556.5 2431.88 L 5560 2433.63 L 5563.5 2431.88 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6240 2328.57 L 5845.85 2497.49" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5841.03 2499.56 L 5846.08 2493.59 L 5845.85 2497.49 L 5848.84 2500.02 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6960" y="1400" width="600" height="440" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1407px; margin-left: 6962px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                DB::
                                <u>
                                    delete_scnd_idx
                                </u>
                                ()
                                <br/>
                                <br/>
                                Args:
                                <br/>
                                <ul>
                                    <li>
                                        SVSpec
                                    </li>
                                </ul>
                                Steps:
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_shared() :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            [ sv_spec ].
                                            <font color="#00cccc">
                                                is_readable
                                            </font>
                                            != true :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "&lt;Doesn't exist | It's being built&gt;".
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                If
                                            </span>
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            <span>
                                                [ sv_spec ].
                                            </span>
                                            <font color="#00cccc">
                                                is_readable
                                            </font>
                                            <span>
                                                != true :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                Return "&lt;Doesn't exist | It's being built&gt;".
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#00cccc">
                                                remove_scnd_idx
                                            </font>
                                            <span>
                                                ( sv_spec );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            /*
                                            <br/>
                                        </span>
                                        That's it!
                                        <br/>
                                        Leave all data (in memory and on disk) in place. Let compaction eventually implicitly erase them.
                                        <br/>
                                        The use of ScndIdxNum ensures that, if a SI is later re-created for the just-deleted SVSpec, any lingering existing data would remain unused.
                                        <br/>
                                        */
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6962" y="1419" fill="#000000" font-family="Helvetica" font-size="12px">
                    DB::delete_scnd_idx()...
                </text>
            </switch>
        </g>
        <rect x="5840" y="1600" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 1600px; margin-left: 5840px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationRequest
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span>
                                        sv_spec: SVSpec
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + scnd_idx_num: ScndIdxNum
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <span>
                                        response_to_client
                                    </span>
                                    <span>
                                        : oneshot::Sender&lt; Res&lt; () &gt; &gt;
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5840" y="1612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationRequest...
                </text>
            </switch>
        </g>
        <rect x="400" y="2280" width="440" height="480" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 480px; padding-top: 2280px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 480px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#00cccc">
                                            DbState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state: ScndIdxsState
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state_file_path: PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_terminating: bool
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + can_new_scnd_idx_be_defined( &amp;SVSpec ) -&gt; ...
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + define_new_scnd_idx( &amp;SVSpec ) -&gt; ...
                                </p>
                                <ol>
                                    <li>
                                        si_num :=
                                        <font color="#00cccc">
                                            next_scnd_idx_num
                                        </font>
                                        .get_and_inc();
                                    </li>
                                    <li>
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        .insert( sv_spec, ( si_num,
                                        <font color="#00cccc">
                                            is_readable
                                        </font>
                                        =false) );
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + set_scnd_idx_as_readable( &amp;SVSpec ) -&gt; Res&lt; () &gt;
                                </p>
                                <ol>
                                    <li>
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        [ sv_spec ].is_readable = true;
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + can_scnd_idx_be_removed( &amp;SVSpec ) -&gt; ...
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_scnd_idx( &amp;SVSpec ) =&gt; ...
                                </p>
                                <ol>
                                    <li>
                                        scnd_idxs.remove( sv_spec );
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="2292" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DbState...
                </text>
            </switch>
        </g>
        <path d="M 620 2760 L 620 2840" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 616 2836 L 624 2836" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 780 800 L 780 880" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="480" y="400" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 407px; margin-left: 482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    At bootup
                                </u>
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#00cccc">
                                            scnd_idxs_state := ScndIdxsState.deser( scnd_idxs_state.txt );
                                        </font>
                                        <br/>
                                        then ignore SIs that previously never finished creation.
                                        <br/>
                                    </li>
                                    <li>
                                        <font color="#00cccc">
                                            db_state := DbState( ... );
                                        </font>
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        <font color="#00994d">
                                            (lsm_dir, lsm_state) := LsmDir::load_or_new( lsm_dir_path );
                                            <br/>
                                        </font>
                                        Ignore CommitUnits that did not properly get GC'd previously.
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        Create all
                                        <font color="#990000">
                                            channels
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        db := DB( ... );
                                    </li>
                                    <li>
                                        Launch actors
                                        <font color="#cc6600">
                                            FCJob
                                        </font>
                                        and
                                        <font color="#cccc00">
                                            SICrJob
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        db.terminate();
                                    </li>
                                    <li>
                                        Join the actors.
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="482" y="419" fill="#000000" font-family="Helvetica" font-size="12px">
                    At bootup...
                </text>
            </switch>
        </g>
        <rect x="480" y="880" width="600" height="480" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 887px; margin-left: 482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                LsmDir::
                                <u>
                                    load_or_new
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        pq := new BinaryHeap&lt; CommitInfo &gt;;
                                        <br/>
                                    </li>
                                    <li>
                                        For unit_dir in `ls lsm/` :
                                    </li>
                                    <ol>
                                        <li>
                                            If commit_info.txt doesn't exist :
                                        </li>
                                        <ol>
                                            <li>
                                                Ignore this unit. Print warning.
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Load CommitInfo.
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Push CommitInfo into pq.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            nodes: = empty Vec;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            // pq prioritizes CommitInfo by { highest commit_ver_hi_incl; tie-breaker by highest timestamp_num }.
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        next_commit_ver := pq.peek().commit_ver_hi_incl + 1;    If empty, zero.
                                    </li>
                                    <li>
                                        <span>
                                            While pq is not empty :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                cu_info := pq.pop();
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                If curr commit_ver range overlaps with previous commit_ver range :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Ignore this unit. Print warning.
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Load CommitInfo into CommittedUnit.
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Push CommittedUnit into nodes.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        list := AtomicLinkedList::from_elems( nodes );
                                    </li>
                                    <li>
                                        return (LsmDir, LsmState);
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="482" y="899" fill="#000000" font-family="Helvetica" font-size="12px">
                    LsmDir::load_or_new()...
                </text>
            </switch>
        </g>
        <rect x="1920" y="2040" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 2040px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommittedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; CommittedEntrySet&lt;PK,PV&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) CommittedEntrySet&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + commit_info: CommitInfo
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_staging( StagingUnit, CommitVer ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_compacted( CompactedUnit, CommitInfo ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( UnitDir ) -&gt; Res&lt; Self, UnitDir &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="2052" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommittedUnit...
                </text>
            </switch>
        </g>
        <rect x="1920" y="1600" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 1600px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        StagingUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: WritableMemLog&lt;PK,PV&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                        <br/>
                                    </li>
                                    <li>
                                        (value) WritableMemLog&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new( UnitDir ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + flush() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="1612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    StagingUnit...
                </text>
            </switch>
        </g>
        <rect x="1120" y="1480" width="360" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 200px; padding-top: 1480px; margin-left: 1120px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        UnitDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_prim_path() -&gt; PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_scnd_path( ScndIdxNum ) -&gt; PathBuf
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_commit_info_path() -&gt; PathBuf
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_commit_info() -&gt; Res&lt; CommitInfo &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + list_scnd_paths() -&gt; Iter&lt; (PathBuf, ScndIdxNum) &gt;
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1120" y="1492" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    UnitDir...
                </text>
            </switch>
        </g>
        <rect x="1160" y="1760" width="280" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 282px; height: 240px; padding-top: 1760px; margin-left: 1160px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 280px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitInfo
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_hi_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_lo_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + timestamp_num: TimestampNum
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + data_type: either "memlog" or "sstable"
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + cmp()
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1160" y="1772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitInfo...
                </text>
            </switch>
        </g>
        <rect x="960" y="2080" width="560" height="600" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 562px; height: 600px; padding-top: 2080px; margin-left: 960px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 560px; height: 600px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#00994d">
                                            LsmState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + list: AtomicLinkedList&lt; LsmElem &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + next_commit_ver: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - curr_list_ver: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - held_list_vers: HashBag&lt; ListVer &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - min_held_list_ver: ListVer
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + get_and_bump_curr_list_ver() -&gt; ListVer
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        // Return the pre-bump curr_list_ver.
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + hold_curr_list_ver() -&gt; ListVer
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        // Return the unchanged curr_list_ver.
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + unhold_list_ver( ListVer ) -&gt; Opt&lt; ListVer &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // Return min_held_list_ver, if it changed.
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + hold_and_unhold_list_ver( ListVer ) -&gt; { curr: ListVer, min: Opt&lt; ListVer &gt; }
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // Return ( curr_list_ver; min_held_list_ver, if it changed ).
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_held_list_vers_empty() -&gt; bool
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990099">
                                        update_or_push
                                    </font>
                                    ( update_or_specify_head ) -&gt; *const ListNode&lt; LsmElem &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Args:
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        FnOnce( Opt&lt; &amp;LsmElem &gt; ) -&gt; Opt&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                        <br/>
                                        // Read the existing head node, and return whether to push a node.
                                    </li>
                                </ul>
                                <p style="margin: 0px 0px 0px 4px">
                                    Returns the resulting head.
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="960" y="2092" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmState...
                </text>
            </switch>
        </g>
        <path d="M 738.18 1720 L 774.55 1640" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 776.53 1645.3 L 769.25 1641.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="400" y="1720" width="440" height="520" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 520px; padding-top: 1720px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 520px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        DB
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#00cccc">
                                        db_state
                                    </font>
                                    <span>
                                        :
                                    </span>
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        RwLock
                                    </span>
                                    <span>
                                        &lt; DbState &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + lsm_dir: LsmDir
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#00994d">
                                        lsm_state
                                    </font>
                                    :
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        Mutex
                                    </span>
                                    &lt; LsmState &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // Tokio's `watch` channel is like a Condition Variable.
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#990000">
                                        min_held_list_ver
                                    </font>
                                    <span>
                                        : watch::Sender&lt; ListVer &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span style="color: rgb(153 , 0 , 0)">
                                        replace_avail
                                    </span>
                                    : watch::Sender&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        scnd_idx_request
                                    </font>
                                    : mpsc::Sender&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Sender&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + load_or_new( PathBuf ) -&gt; Res&lt;( ... )&gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Returns:
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        Arc&lt;Self&gt;
                                    </li>
                                    <li>
                                        fc_job_task: Future&lt;Res&lt;()&gt;&gt;
                                        <br/>
                                    </li>
                                    <li>
                                        scnd_idx_creation_job_task: Future&lt;Res&lt;()&gt;&gt;
                                    </li>
                                </ul>
                                <div>
                                    <div>
                                        + terminate()
                                    </div>
                                </div>
                                <div>
                                    <ol>
                                        <li>
                                            With
                                            <font color="#00cccc">
                                                db_state
                                            </font>
                                            .lock_exclusive() :
                                        </li>
                                        <ol>
                                            <li>
                                                set
                                                <font color="#00cccc">
                                                    is_terminating
                                                </font>
                                                to true;
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#990000">
                                                is_terminating
                                            </font>
                                            .send( () );
                                        </li>
                                        <li>
                                            // Do it in this order.
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="1732" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DB...
                </text>
            </switch>
        </g>
        <path d="M 870 1640 L 1087.15 2074.3" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1089.5 2079 L 1083.24 2074.3 L 1087.15 2074.3 L 1089.5 2071.17 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1860px; margin-left: 980px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="980" y="1864" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 810.48 1440 L 802.86 1360" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="640" y="1440" width="360" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 200px; padding-top: 1440px; margin-left: 640px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        LsmDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - lsm_dir_path: PathBuf
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - next_unit_dir_num: AtomicU64
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt;( Self,
                                    <font color="#00994d">
                                        LsmState
                                    </font>
                                    )&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_new_unit_dir_path() -&gt; UnitDir
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="640" y="1452" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmDir...
                </text>
            </switch>
        </g>
        <rect x="4880" y="1280" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 1280px; margin-left: 4880px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        DanglingNodeSet
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + max_incl_traversable_list_ver: ListVer
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + nodes: Vec&lt; SendPtr&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4880" y="1292" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DanglingNodeSet...
                </text>
            </switch>
        </g>
        <rect x="1000" y="3080" width="400" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 160px; padding-top: 3080px; margin-left: 1000px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AtomicLinkedListSnapshot&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_excl_ptr: NonNull&lt; ListNode&lt; T &gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + tail_excl_ptr: Opt&lt; NonNull&lt; ListNode&lt; T &gt; &gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + iter() -&gt; Iter&lt; &amp;T &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1000" y="3092" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AtomicLinkedListSnapshot&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="7360" y="2680" width="440" height="360" fill="rgb(255, 255, 255)" stroke="#cccc00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 360px; padding-top: 2680px; margin-left: 7360px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 360px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SICrJob
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: Arc&lt; DB &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - working_dir: PathBuf
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        // rx
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        scnd_idx_creation_work
                                    </font>
                                    : mpsc::Receiver&lt; ScndIdxCreationWork &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Receiver&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7360" y="2692" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SICrJob...
                </text>
            </switch>
        </g>
        <path d="M 2780 440 L 2780 473.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 478.88 L 2776.5 471.88 L 2780 473.63 L 2783.5 471.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2780" cy="420" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 420px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Client calls get_*() and put()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="424" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Client calls get_*()...
                </text>
            </switch>
        </g>
        <ellipse cx="2778.8" cy="190" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2778.8 200 L 2779.81 233.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2779.97 238.88 L 2776.26 231.99 L 2779.81 233.63 L 2783.25 231.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2780 360 L 2780 393.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 398.88 L 2776.5 391.88 L 2780 393.63 L 2783.5 391.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2720" y="320" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 340px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="344" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    new
                </text>
            </switch>
        </g>
        <path d="M 2780 280 L 2780 313.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 318.88 L 2776.5 311.88 L 2780 313.63 L 2783.5 311.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2780" cy="260" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 260px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::new()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="264" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::new()
                </text>
            </switch>
        </g>
        <path d="M 2779.7 520 L 2779.19 553.73" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2779.12 558.98 L 2775.72 551.93 L 2779.19 553.73 L 2782.72 552.03 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2720" y="480" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 500px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                pre-commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="504" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    pre-commit
                </text>
            </switch>
        </g>
        <path d="M 2793.97 594.94 L 2840.3 640.59" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2844.04 644.27 L 2836.59 641.85 L 2840.3 640.59 L 2841.51 636.87 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 620px; margin-left: 2820px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2820" y="624" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to commit
                </text>
            </switch>
        </g>
        <path d="M 2771.33 597.51 L 2550.94 1114.34" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2548.88 1119.17 L 2548.41 1111.36 L 2550.94 1114.34 L 2554.85 1114.1 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 859px; margin-left: 2660px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to abort
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2660" y="862" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to abort
                </text>
            </switch>
        </g>
        <path d="M 3035 995 L 3080.5 1040.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3084.21 1044.21 L 3076.78 1041.73 L 3080.5 1040.5 L 3081.73 1036.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1020px; margin-left: 3060px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                yes conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3060" y="1023" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    yes conflict
                </text>
            </switch>
        </g>
        <path d="M 3186.63 1120.12 L 3236.84 969.49 Q 3240 960 3235.46 951.09 L 2964.54 418.91 Q 2960 410 2950.68 406.38 L 2837.36 362.31" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2832.47 360.41 L 2840.26 359.68 L 2837.36 362.31 L 2837.73 366.2 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3180" cy="1140" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1140px; margin-left: 3121px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::reset()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3180" y="1144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::reset()
                </text>
            </switch>
        </g>
        <path d="M 3115 1075 L 3156.52 1116.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3160.24 1120.24 L 3152.81 1117.76 L 3156.52 1116.52 L 3157.76 1112.81 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1098px; margin-left: 3138px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                not exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3138" y="1101" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    not exceeded
                </text>
            </switch>
        </g>
        <path d="M 3100 1040 L 3160 1060 L 3100 1080 L 3040 1060 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1060px; margin-left: 3041px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Retry limit exceeded?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3100" y="1064" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Retry limit exceeded?
                </text>
            </switch>
        </g>
        <path d="M 3058 1066 L 2601.45 1131.22" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2596.26 1131.96 L 2602.69 1127.51 L 2601.45 1131.22 L 2603.68 1134.44 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1099px; margin-left: 2827px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2827" y="1102" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    exceeded
                </text>
            </switch>
        </g>
        <path d="M 2540 1160 L 2540 1193.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2540 1198.88 L 2536.5 1191.88 L 2540 1193.63 L 2543.5 1191.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2540" cy="1140" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1140px; margin-left: 2481px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::close()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2540" y="1144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::close()
                </text>
            </switch>
        </g>
        <path d="M 2925 755 L 2883.48 796.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2879.76 800.24 L 2882.24 792.81 L 2883.48 796.52 L 2887.19 797.76 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 778px; margin-left: 2902px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                up-to-date
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2902" y="781" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    up-to-date
                </text>
            </switch>
        </g>
        <path d="M 2955 755 L 2996.52 796.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3000.24 800.24 L 2992.81 797.76 L 2996.52 796.52 L 2997.76 792.81 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 778px; margin-left: 2978px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                there is gap
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2978" y="781" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    there is gap
                </text>
            </switch>
        </g>
        <path d="M 2940 720 L 3000 740 L 2940 760 L 2880 740 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 740px; margin-left: 2881px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is snapshot up-to-date?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2940" y="744" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is snapshot up-to-da...
                </text>
            </switch>
        </g>
        <ellipse cx="2860" cy="820" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 820px; margin-left: 2801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::commit()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2860" y="824" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::commit()
                </text>
            </switch>
        </g>
        <path d="M 3020 920 L 3020 953.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3020 958.88 L 3016.5 951.88 L 3020 953.63 L 3023.5 951.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3020" cy="900" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 900px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::has_conflict()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="904" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::has_conflict()
                </text>
            </switch>
        </g>
        <path d="M 2996 968 L 2948.94 944.47 Q 2940 940 2940 930 L 2940 766.37" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2940 761.12 L 2943.5 768.12 L 2940 766.37 L 2936.5 768.12 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 881px; margin-left: 2940px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                no conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2940" y="885" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    no conflict
                </text>
            </switch>
        </g>
        <path d="M 3020 960 L 3080 980 L 3020 1000 L 2960 980 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 980px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is there any conflict?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="984" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is there any conflic...
                </text>
            </switch>
        </g>
        <ellipse cx="2540" cy="1210" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2778.8 560 L 2838.8 580 L 2778.8 600 L 2718.8 580 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 580px; margin-left: 2720px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Client decision?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2779" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Client decision?
                </text>
            </switch>
        </g>
        <path d="M 2875 675 L 2920.5 720.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2924.21 724.21 L 2916.78 721.73 L 2920.5 720.5 L 2921.73 716.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 700px; margin-left: 2900px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                try to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2900" y="703" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    try to commit
                </text>
            </switch>
        </g>
        <path d="M 2849.09 676.36 L 2556.55 1115.18" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2553.64 1119.55 L 2554.61 1111.78 L 2556.55 1115.18 L 2560.43 1115.66 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 899px; margin-left: 2701px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                nothing to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2701" y="902" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    nothing to commit
                </text>
            </switch>
        </g>
        <path d="M 2860 640 L 2920 660 L 2860 680 L 2800 660 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 660px; margin-left: 2801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Are there any data to commit?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2860" y="664" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Are there any data t...
                </text>
            </switch>
        </g>
        <path d="M 2560 288.48 L 2723.82 267.02" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="1920" y="160" width="640" height="320" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 638px; height: 1px; padding-top: 167px; margin-left: 1922px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    new
                                </u>
                                ( db, db_state_guard )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl := None;
                                            <br/>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .head_excl :=
                                            </span>
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            <span>
                                                () ...
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : dummy.hold_count += 1;
                                            </li>
                                            <li>
                                                Else : push new dummy w/ {
                                                <span>
                                                    hold_count=1,
                                                </span>
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                <span>
                                                    =false }
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap_next_commit_ver
                                            </font>
                                            :=
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                            <br/>
                                        </li>
                                        <li>
                                            <font color="#0066cc">
                                                snap_list_ver
                                            </font>
                                            :=
                                            <font color="#00994d">
                                                hold_curr_list_ver
                                            </font>
                                            ();
                                        </li>
                                    </ol>
                                    <li>
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        := None;
                                    </li>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        <span>
                                            := new empty;
                                            <br/>
                                        </span>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        <span>
                                            := new empty;
                                        </span>
                                    </li>
                                    <li>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            := None;
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1922" y="179" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::new( db, db_state_guard )...
                </text>
            </switch>
        </g>
        <path d="M 3280 622.39 L 2990 700" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3985.84 880 L 4541.88 1619.2" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4545.04 1623.4 L 4538.03 1619.91 L 4541.88 1619.2 L 4543.62 1615.7 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="3280" y="120" width="840" height="760" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 838px; height: 1px; padding-top: 127px; margin-left: 3282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    try_commit
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                If
                                            </span>
                                            <font color="#0066cc">
                                                snap_next_commit_ver
                                            </font>
                                            <span>
                                                !=
                                            </span>
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            <span>
                                                :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .tail_excl.hold_count -= 1;    if
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .tail_excl is Some
                                                <br/>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .tail_excl = Some(
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .head_excl );
                                                <br/>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .head_excl :=
                                                </span>
                                                <font color="#990099">
                                                    update_or_push
                                                </font>
                                                <span>
                                                    () ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    If the existing head is a dummy : dummy.hold_count += 1;
                                                </li>
                                                <li>
                                                    Else : push new dummy w/ { hold_count=1,
                                                    <font color="#cccc00">
                                                        is_fence
                                                    </font>
                                                    =false }
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    If {prior
                                                </span>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .tail_excl became non-held} :
                                                </span>
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    replace_avail
                                                </span>
                                                <span>
                                                    .send( () );
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <font color="#0066cc">
                                                    snap_next_commit_ver
                                                </font>
                                                =
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                ;
                                            </li>
                                            <li>
                                                <font color="#0066cc">
                                                    snap_list_ver
                                                </font>
                                                , min_held_list_ver =
                                                <font color="#00994d">
                                                    hold_and_unhold_list_ver
                                                </font>
                                                (
                                                <font color="#0066cc">
                                                    snap_list_ver
                                                </font>
                                                );
                                            </li>
                                            <li>
                                                If min_held_list_ver changed :
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    min_held_list_ver
                                                </span>
                                                .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                                <br/>
                                            </li>
                                            <li>
                                                return "need to check for conflict";
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    committed_unit := CommittedUnit::from(
                                                </span>
                                                <font color="#0066cc">
                                                    staging
                                                </font>
                                                <span>
                                                    .take(),
                                                </span>
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                <span>
                                                    );
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        // Serializing is expensive, and we're doing it under mutex guard!
                                                    </span>
                                                    <br/>
                                                    <span>
                                                        On disk, serialize CommitInfo with ...
                                                    </span>
                                                    <br/>
                                                </li>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            commit_ver_lo_incl == commit_ver_hi_incl :=
                                                        </span>
                                                        <font color="#00994d">
                                                            next_commit_ver
                                                        </font>
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            timestamp_num := 0
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                                <li>
                                                    <span>
                                                        In memory, move each WritableMemLog into ReadonlyMemLog.
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    node := Box( ListNode( ... committed_unit ... ) )
                                                    <br/>
                                                </span>
                                                <font>
                                                    list.
                                                </font>
                                                <font color="#990099">
                                                    push
                                                </font>
                                                <span>
                                                    ( node );
                                                </span>
                                            </li>
                                            <li>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .tail_excl
                                                </span>
                                                <span>
                                                    .hold_count -= 1;    if
                                                </span>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .tail_excl
                                                </span>
                                                <span>
                                                    is Some
                                                    <br/>
                                                </span>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .head_excl
                                                </span>
                                                <span>
                                                    .hold_count -= 1;
                                                </span>
                                            </li>
                                            <li>
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    replace_avail
                                                </span>
                                                .send( () );
                                                <br/>
                                                // The list is definitely replaceable, due to the presence of a new MemLog.
                                            </li>
                                            <li>
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                += 1;
                                            </li>
                                            <li>
                                                <span>
                                                    min_held_list_ver :=
                                                    <font color="#00994d">
                                                        unhold_list_ver
                                                    </font>
                                                    (
                                                    <font color="#0066cc">
                                                        snap_list_ver
                                                    </font>
                                                    );
                                                </span>
                                            </li>
                                            <li>
                                                If min_held_list_ver changed :
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    min_held_list_ver
                                                </span>
                                                .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                            </li>
                                            <li>
                                                <span>
                                                    return "just committed";
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3282" y="139" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::try_commit()...
                </text>
            </switch>
        </g>
        <path d="M 3360 965.81 L 3071.89 910.04" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="3360" y="920" width="560" height="200" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 927px; margin-left: 3362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    has_conflict()
                                </u>
                                <br/>
                                <ol>
                                    <li>
                                        committed_units :=
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        .filter( keep CommittedUnit and ignore Dummy );
                                    </li>
                                    <li>
                                        <span>
                                            For each CommittedUnit :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            For each of {PI and SIs} that was written-to in
                                            <font color="#0066cc">
                                                staging
                                            </font>
                                            :
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If {
                                                </span>
                                                <font color="#0066cc">
                                                    dependent_itvs_*
                                                </font>
                                                <span>
                                                    &lt;--&gt; CommittedEntrySet } overlap :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        Return "yes conflict".
                                                    </span>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            Return "no conflict".
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3362" y="939" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::has_conflict()...
                </text>
            </switch>
        </g>
        <path d="M 3000 710 L 3113.49 842.41 Q 3120 850 3110.01 850.36 L 2849.99 859.64 Q 2840 860 2831.32 855.04 L 2778.68 824.96 Q 2770 820 2777.65 813.56 L 2952.35 666.44 Q 2960 660 2966.25 667.81 L 3000 710" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/>
        <path d="M 2860 840 L 2860 873.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2860 878.88 L 2856.5 871.88 L 2860 873.63 L 2863.5 871.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2860" cy="890" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 3360 1210.71 L 3218.82 1155.25" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4120 1486.67 L 4536.46 1625.49" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4541.44 1627.15 L 4533.69 1628.25 L 4536.46 1625.49 L 4535.91 1621.61 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="3360" y="1160" width="760" height="400" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 758px; height: 1px; padding-top: 1167px; margin-left: 3362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    reset
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl.hold_count -= 1;    if
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl is Some
                                            <br/>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .head_excl.hold_count -= 1;
                                            <br/>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl = None;
                                            <br/>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .head_excl :=
                                            </span>
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            <span>
                                                () ...
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : dummy.hold_count += 1;
                                            </li>
                                            <li>
                                                Else : push new dummy w/ {
                                                <span>
                                                    hold_count=1,
                                                </span>
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                <span>
                                                    =false }
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            If {prior
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl and/or
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .head_excl became non-held} :
                                            <span style="color: rgb(153 , 0 , 0)">
                                                replace_avail
                                            </span>
                                            .send( () );
                                        </li>
                                        <li>
                                            <font color="#0066cc">
                                                snap_next_commit_ver
                                            </font>
                                            =
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                        </li>
                                        <li>
                                            <font color="#0066cc">
                                                snap_list_ver
                                            </font>
                                            , min_held_list_ver =
                                            <font color="#00994d">
                                                hold_and_unhold_list_ver
                                            </font>
                                            (
                                            <font color="#0066cc">
                                                snap_list_ver
                                            </font>
                                            );
                                        </li>
                                        <li>
                                            If min_held_list_ver changed :
                                            <span style="color: rgb(153 , 0 , 0)">
                                                min_held_list_ver
                                            </span>
                                            .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                        </li>
                                    </ol>
                                    <li>
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        = None;
                                    </li>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        .clear();
                                        <br/>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        .clear();
                                    </li>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        is Some :
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        .clear();
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3362" y="1179" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::reset()...
                </text>
            </switch>
        </g>
        <path d="M 2701.54 1280 L 2561.54 1158.67" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3080 1520 L 3311.06 1635.53 Q 3320 1640 3330 1639.92 L 4533.71 1630.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4538.96 1630.09 L 4531.99 1633.65 L 4533.71 1630.13 L 4531.93 1626.65 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2480" y="1280" width="720" height="240" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 1287px; margin-left: 2482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    close
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .tail_excl.hold_count -= 1;    if
                                            </span>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .tail_excl is Some
                                                <br/>
                                            </span>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .head_excl.hold_count -= 1;
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                If {prior
                                            </span>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .tail_excl and/or
                                            </span>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .head_excl became non-held} :
                                            </span>
                                            <span style="color: rgb(153 , 0 , 0)">
                                                replace_avail
                                            </span>
                                            <span>
                                                .send( () );
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            min_held_list_ver :=
                                            <font color="#00994d">
                                                unhold_list_ver
                                            </font>
                                            (
                                            <font color="#0066cc">
                                                snap_list_ver
                                            </font>
                                            );
                                        </li>
                                        <li>
                                            If min_held_list_ver changed :
                                            <span style="color: rgb(153 , 0 , 0)">
                                                min_held_list_ver
                                            </span>
                                            .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                        </li>
                                    </ol>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        is Some :
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        .remove_dir();
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2482" y="1299" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::close()...
                </text>
            </switch>
        </g>
        <rect x="2040" y="560" width="360" height="400" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 400px; padding-top: 560px; margin-left: 2040px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 400px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Txn&lt;'txn&gt;
                                    </b>
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - db: &amp;'txn Db
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#00cccc">
                                        db_state_guard
                                    </font>
                                    : RwLockReadGuard&lt; 'txn, DbState &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap: AtomicLinkedListSnapshot&lt; LsmElem &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_next_commit_ver: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_list_ver: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_vec: Opt&lt; Vec&lt; &amp;LsmElem &gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // A lazily-initialized Vec collection of snap.
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dependent_itvs_prim: IntervalSet&lt; &amp;'txn PK &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dependent_itvs_scnds: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) IntervalSet&lt; &amp;'txn SV &gt;
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - staging: Opt&lt; StagingUnit &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2040" y="572" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Txn&lt;'txn&gt;...
                </text>
            </switch>
        </g>
        <path d="M 4550 1620 L 4560 1630 L 4550 1640 L 4540 1630 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4240 137.78 L 4166.33 47.74 Q 4160 40 4150.01 40.36 L 3049.99 79.64 Q 3040 80 3033.93 87.94 L 2794.87 400.62" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="4240" y="80" width="560" height="800" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 87px; margin-left: 4242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                /* All these methdos are public to the client callback. */
                                <br/>
                                <br/>
                                Txn::
                                <u>
                                    get_pk_one
                                </u>
                                ( pk )
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        <span>
                                            .add( (pk,pk) );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        Get one from [stg, snap]. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    get_pk_range
                                </u>
                                ( pk_lo, pk_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        <span>
                                            .add( (pk_lo,pk_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        is None: collect it from
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        K-merge {stg + snap}. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    get_sv_range
                                </u>
                                ( sv_spec, sv_lo, sv_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            // This is a simplistic query engine, which depends on exactly one index.
                                            <br/>
                                        </span>
                                        If
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec] doesn't exist or
                                        </span>
                                        <font color="#00cccc">
                                            is_readable
                                        </font>
                                        <span>
                                            ==false: return failure.
                                            <br/>
                                        </span>
                                        si_num :=
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec].si_num;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        <span>
                                            [si_num] doesn't exist: create new empty.
                                            <br/>
                                        </span>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        <span>
                                            [si_num].add( (sv_lo,sv_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        is None: collect it from
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        stg :=
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        K-merge {stg + snap}. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    put
                                </u>
                                ( pk, new_pv )
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        .add( (pk,pk) );
                                        <br/>
                                        // We must treat concurrent writes on the same PK as a conflict, because they generally invalidate deltas on SIs in staging.
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        old_pv := Get one from [stg, snap];
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            is None: create new empty.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each si_num in
                                        </span>
                                        <font color="#0066cc">
                                            db_state_guard
                                        </font>
                                        <span>
                                            .scnd_idxs :
                                            <br/>
                                        </span>
                                        // Assess all SIs, regardless of `
                                        <font color="#00cccc">
                                            is_readable
                                        </font>
                                        <span>
                                            `.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If there is a delta for this SI:
                                        </li>
                                        <ol>
                                            <li>
                                                If
                                                <font color="#0066cc">
                                                    staging
                                                </font>
                                                .scnds[si_num] doesn't exist: create new empty.
                                                <br/>
                                                <font color="#0066cc">
                                                    staging
                                                </font>
                                                .scnds[si_num].put( the_delta );
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .prim
                                        </span>
                                        <span>
                                            .put( (PK,PV) );
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4242" y="99" fill="#000000" font-family="Helvetica" font-size="12px">
                    /* All these methdos are public to the client callback. */...
                </text>
            </switch>
        </g>
        <path d="M 2140 2480 L 2140 2366.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2140 2361.12 L 2143.5 2368.12 L 2140 2366.37 L 2136.5 2368.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2420px; margin-left: 2140px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2140" y="2423" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <rect x="1920" y="2480" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 2480px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CompactedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; CommittedEntrySet&lt;PK,PV&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) CommittedEntrySet&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new_empty( StagingUnit, CommitVer ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_empty() -&gt; bool
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="2492" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CompactedUnit...
                </text>
            </switch>
        </g>
        <path d="M 2360 2496.15 L 2507.06 2400" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2502.55 2407.73 L 2498.17 2401.03 M 2504.87 2396.65 L 2500.36 2404.38 L 2509.25 2403.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2729.53 430.82 L 2649.78 447.9 Q 2640 450 2638.57 459.9 L 2543.81 1113.72" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2543.06 1118.92 L 2540.6 1111.49 L 2543.81 1113.72 L 2547.52 1112.49 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 739px; margin-left: 2598px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                error
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2598" y="742" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    error
                </text>
            </switch>
        </g>
        <rect x="0" y="0" width="160" height="160" fill="none" stroke="#e6e6e6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 150px; height: 1px; padding-top: 80px; margin-left: 5px;">
                        <div data-drawio-colors="color: #E6E6E6; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(230, 230, 230); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                (An anchor at the origin. This might help reduce svg line changes.)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="80" y="84" fill="#E6E6E6" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    (An anchor at the origin....
                </text>
            </switch>
        </g>
        <rect x="5280" y="2880" width="560" height="360" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 2887px; margin-left: 5282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    compact_one_segment
                                </u>
                                ( segm_head_excl )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            slice := [ ];
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            prev := segm_head_excl;
                                            <br/>
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                curr := cut_non_boundary_dummies( prev );
                                            </span>
                                        </li>
                                        <li>
                                            match curr :
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    case CommittedUnit :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    slice.push( curr );
                                                </li>
                                                <li>
                                                    prev = curr;
                                                </li>
                                            </ol>
                                            <li>
                                                case nullptr or dummy :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            If {slice.len() &gt; 1} or {slice contains at least one MemLog} :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                skip_tombstones := ( curr is nullptr );
                                                <br/>
                                                compacted_node := do_flush_and_compact( slice, skip_tombstones );
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                replace( segm_head_excl, curr, compacted_node, slice );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        return curr;
                                    </li>
                                </ol>
                                <ul></ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5282" y="2899" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::compact_one_segment( segm_head_excl )...
                </text>
            </switch>
        </g>
        <rect x="5280" y="2440" width="560" height="360" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 2447px; margin-left: 5282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    traverse_and_compact
                                </u>
                                ( snap_head_excl )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            segm_head_excl := snap_head_excl;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                curr := compact_one_segment( segm_head_excl );
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                match curr :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                case dummy with {
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false } /* or CommittedUnit */ :
                                            </li>
                                            <ol>
                                                <li>
                                                    segm_head_excl = curr;
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    case nullptr or fence dummy :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                </ol>
                                <ul></ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5282" y="2459" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::traverse_and_compact( snap_head_excl )...
                </text>
            </switch>
        </g>
        <path d="M 5560 2800 L 5560 2873.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5560 2878.88 L 5556.5 2871.88 L 5560 2873.63 L 5563.5 2871.88 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3020" cy="820" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 820px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn:: update_snapshot()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="824" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn:: update_snapsho...
                </text>
            </switch>
        </g>
        <path d="M 3020 840 L 3020 873.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3020 878.88 L 3016.5 871.88 L 3020 873.63 L 3023.5 871.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4450 2455.78 L 4560 2438.71" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3920 2200 L 4440 2200 L 4440 2770 L 4200 2770 L 4180 2800 L 4180 2770 L 3920 2770 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,4180,2500)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 568px; height: 1px; padding-top: 2247px; margin-left: 3882px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Termination sequence
                                <br/>
                                <br/>
                                This sequence works in cooperation with
                                <br/>
                                <ul>
                                    <li>
                                        DB::terminate()
                                    </li>
                                    <li>
                                        Txn::run()
                                    </li>
                                </ul>
                                <div>
                                    Steps:
                                </div>
                                <ol>
                                    <li>
                                        <font color="#00cccc">
                                            is_terminating
                                        </font>
                                        bool is set to true.
                                        <br/>
                                        From now on, no new txn can start.
                                        <br/>
                                        Note, already-running txns can still additionally hold
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        <font color="#990000">
                                            is_terminating
                                        </font>
                                        Conditional Variable is set.
                                        <br/>
                                        F+C is notified.
                                        <br/>
                                    </li>
                                    <li>
                                        While F+C's local
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        is not empty :
                                    </li>
                                    <ol>
                                        <li>
                                            F+C waits on
                                            <span style="color: rgb(153 , 0 , 0)">
                                                min_held_list_ver
                                            </span>
                                            .
                                        </li>
                                        <li>
                                            F+C removes from
                                            <font color="#cc6600">
                                                dangling_nodes
                                            </font>
                                            .
                                        </li>
                                    </ol>
                                    <li>
                                        /*
                                        <br/>
                                        <span style="color: rgb(153 , 0 , 0)">
                                            min_held_list_ver
                                        </span>
                                        does not inform whether
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        is held or not. But this is irrelevant for the purpose of GC.
                                        <br/>
                                        <span style="color: rgb(153 , 0 , 0)">
                                            min_held_list_ver
                                        </span>
                                        does not inform whether all list_vers &lt;
                                        <span style="color: rgb(0 , 153 , 77)">
                                            curr_list_ver
                                        </span>
                                        are non-held. Reason: F+C may bump
                                        <span style="color: rgb(0 , 153 , 77)">
                                            curr_list_ver
                                        </span>
                                        .
                                        <br/>
                                        Therefore, we omit the above while-loop.
                                        <br/>
                                        */
                                    </li>
                                    <li>
                                        <span>
                                            While
                                        </span>
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        <span>
                                            is not empty :
                                        </span>
                                        <br/>
                                        // It would suffice to check whether
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        is empty except for potentially
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        .
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            Sleep a bit.
                                        </li>
                                    </ol>
                                    <li>
                                        GC all nodes in
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        .
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3882" y="2259" fill="#000000" font-family="Helvetica" font-size="12px">
                    Termination sequence...
                </text>
            </switch>
        </g>
        <rect x="4560" y="2280" width="480" height="240" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 2287px; margin-left: 4562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    poll_held_list_vers_then_gc
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        While true :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                With
                                            </span>
                                            <font color="#00994d">
                                                lsm_state
                                            </font>
                                            <span>
                                                .lock_exclusive() :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If
                                                </span>
                                                <font color="#00994d">
                                                    held_list_vers
                                                </font>
                                                <span>
                                                    is empty :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                Sleep a bit;
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        For each (_, nodes) in
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        :
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            For each node :
                                        </li>
                                        <ol>
                                            <li>
                                                Remove files. Drop memory.
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4562" y="2299" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::poll_held_list_vers_then_gc()...
                </text>
            </switch>
        </g>
        <path d="M 5240 2060.57 L 4960.6 2276.11" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4956.44 2279.32 L 4959.85 2272.27 L 4960.6 2276.11 L 4964.12 2277.81 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1360" y="160" width="440" height="200" fill="rgb(255, 255, 255)" stroke="#0066cc" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 167px; margin-left: 1362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    run
                                </u>
                                ( db, client_cb )
                                <br/>
                                <ol>
                                    <li>
                                        With db_state_guard =
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        .lock_shared() :
                                        <br/>
                                        // This guard is held for the duration of the txn.
                                    </li>
                                    <ol>
                                        <li>
                                            txn := Txn::new( ... );
                                        </li>
                                        <li>
                                            Make the txn go through state transitions.
                                        </li>
                                        <li>
                                            Return what client_cb returns.
                                        </li>
                                    </ol>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1362" y="179" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::run( db, client_cb )...
                </text>
            </switch>
        </g>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Viewer does not support full SVG 1.1
            </text>
        </a>
    </switch>
</svg>