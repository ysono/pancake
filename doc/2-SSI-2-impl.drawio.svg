<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="7802px" height="3761px" viewBox="-0.5 -0.5 7802 3761" content="&lt;mxfile&gt;&lt;diagram id=&quot;RcHnaSoGghIKxj3INRLX&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs>
        <linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-e6e6e6-1-808080-1-s-0">
            <stop offset="0%" style="stop-color: rgb(230, 230, 230); stop-opacity: 1;"/>
            <stop offset="100%" style="stop-color: rgb(128, 128, 128); stop-opacity: 1;"/>
        </linearGradient>
    </defs>
    <g>
        <path d="M 2204 960 L 2154.04 1584.55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2153.76" cy="1588.04" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2149.13 1595.69 L 2157.11 1596.33 M 2153.48 1591.53 L 2152.8 1600" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2040 715 L 1960 695" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1968.73 693.06 L 1966.79 700.82 M 1959.03 698.88 L 1967.76 696.94 L 1960.97 691.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4557.06 1632.94 L 4976.82 1807.55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4981.67 1809.57 L 4973.86 1810.11 L 4976.82 1807.55 L 4976.55 1803.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5240 1990 L 5046.24 2029.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5041.1 2030.69 L 5047.25 2025.85 L 5046.24 2029.63 L 5048.65 2032.71 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5760 1990 L 6233.85 2117.58" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6238.92 2118.94 L 6231.25 2120.5 L 6233.85 2117.58 L 6233.07 2113.74 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5240 2120 L 5275.4 2155.12" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5279.13 2158.81 L 5271.69 2156.37 L 5275.4 2155.12 L 5276.62 2151.4 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5500 1600 L 5500 1560" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="5240" y="1600" width="520" height="520" fill="rgb(255, 255, 255)" stroke="#cc6600" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 518px; height: 1px; padding-top: 1607px; margin-left: 5242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Actor
                                <u>
                                    flush_and_compact_job
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            While true:
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            `Select` all channels.
                                        </li>
                                        <ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    min_held_list_ver
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    gc_dangling_nodes( mhlv );
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <span>
                                                    <font color="#990000">
                                                        replace_avail
                                                    </font>
                                                    :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    flush_and_compact();
                                                </li>
                                            </ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    scnd_idx_creation_request
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    prep_for_si_creation( req );
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <font color="#990000">
                                                    is_terminating
                                                </font>
                                                <span>
                                                    :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <font color="#990000">
                                            scnd_idx_creation_request
                                        </font>
                                        <span>
                                            .close();
                                        </span>
                                    </li>
                                    <li>
                                        poll_held_list_vers_then_gc();
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5242" y="1619" fill="#000000" font-family="Helvetica" font-size="12px">
                    Actor flush_and_compact_job()...
                </text>
            </switch>
        </g>
        <rect x="4560" y="1960" width="480" height="240" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 1967px; margin-left: 4562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    gc_dangling_nodes
                                </u>
                                ( min_held_list_ver )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            Pop
                                        </span>
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        while max_incl_traversable_list_ver &lt; min_held_list_ver;
                                    </li>
                                    <li>
                                        For each popped node :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                Remove files. Drop memory.
                                            </span>
                                            <br/>
                                        </li>
                                    </ol>
                                </ol>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4562" y="1979" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::gc_dangling_nodes( min_held_list_ver )...
                </text>
            </switch>
        </g>
        <path d="M 5952.7 1770 L 5786.73 1952.6 Q 5780 1960 5789.54 1963.01 L 6233.93 2103.35" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6238.93 2104.93 L 6231.2 2106.16 L 6233.93 2103.35 L 6233.31 2099.48 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5958 1780 C 5954.65 1777.78 5952.63 1774.02 5952.63 1770 C 5952.63 1765.98 5954.65 1762.22 5958 1760 L 6042 1760 C 6045.35 1762.22 6047.37 1765.98 6047.37 1770 C 6047.37 1774.02 6045.35 1777.78 6042 1780 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6042 1760 C 6045.35 1762.22 6047.37 1765.98 6047.37 1770 C 6047.37 1774.02 6045.35 1777.78 6042 1780 C 6038.65 1777.78 6036.63 1774.02 6036.63 1770 C 6036.63 1765.98 6038.65 1762.22 6042 1760" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1787px; margin-left: 6000px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                scnd_idx_creation_request
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6000" y="1800" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    scnd_idx_creati...
                </text>
            </switch>
        </g>
        <rect x="6240" y="1920" width="600" height="560" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1927px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    prep_for_si_creation
                                </u>
                                ( ScndIdxCreationRequest )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            // F+C does a sweep of the LL once, before delivering SICr new work.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                            // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            snap_head_excl :=
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            () ...
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy w/
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false : dummy.
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                .store( true );
                                                <br/>
                                            </li>
                                            <li>
                                                Else : push new dummy w/ { hold_count=0,
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =true }
                                            </li>
                                        </ol>
                                        <li>
                                            output_commit_ver :=
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                            <br/>
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            += 1;
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            traverse_and_compact( snap_head_excl );
                                            <br/>
                                        </span>
                                        // Here, compaction is optional. But we reuse code, and compact anyway.
                                    </li>
                                    <li>
                                        work := ScndIdxCreationWork( snap_head_excl, output_commit_ver, req );
                                        <br/>
                                        <font color="#990000">
                                            scnd_idx_creation_work
                                        </font>
                                        <span>
                                            .send( work );
                                        </span>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="1939" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::prep_for_si_creation( ScndIdxCreationRequest )...
                </text>
            </switch>
        </g>
        <path d="M 620 2240 L 620 2280" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 616 2276 L 624 2276" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 840 2121.94 L 960 2199.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 954.47 2200.55 L 958.81 2193.83" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1216 2680 L 1209.6 2760" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1205.93 2755.69 L 1213.91 2756.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1520 2321.67 L 1584.83 2308.16" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1588.25" cy="2307.45" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1599.18 2301.08 L 1592.17 2306.63 L 1600.82 2308.92 M 1592.17 2306.63 L 1600 2305" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6000 1760 L 6000 1720" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1000 1555 L 1113.65 1564.47" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1118.89 1564.91 L 1111.62 1567.81 L 1113.65 1564.47 L 1112.2 1560.84 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1560px; margin-left: 1060px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                formats new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1060" y="1563" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    formats new
                </text>
            </switch>
        </g>
        <path d="M 1840 2257.14 L 1904.77 2244.8" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1908.21" cy="2244.15" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1916.82 2246.58 L 1915.32 2238.72 M 1911.65 2243.5 L 1920 2241.9" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 530 3080 L 509.3 3107.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="507.2" cy="3110.4" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 503.2 3122.4 L 504.8 3113.6 L 496.8 3117.6 M 504.8 3113.6 L 500 3120" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="400" y="2840" width="440" height="240" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 2840px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxsState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + scnd_idxs: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) Arc&lt; SVSpec &gt;
                                    </li>
                                    <li>
                                        (value) ScndIdxState
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - next_scnd_idx_num: ScndIdxNum
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="2852" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxsState...
                </text>
            </switch>
        </g>
        <path d="M 1920 2126.67 L 1849.49 2103.16 Q 1840 2100 1830.74 2096.23 L 1440 1937.04" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1445.21 1934.84 L 1442.2 1942.25" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2360 2242.31 L 2440 2257.69" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2431.39 2260.11 L 2432.9 2252.25 M 2440.76 2253.76 L 2432.14 2256.18 L 2439.24 2261.62" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1866.88 L 1520 1859.38" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1516.39 1863.73 L 1515.64 1855.77" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1810 L 1520 1770" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1518.21 1766.42 L 1512.84 1773.58 L 1521.79 1773.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1920 L 1850.38 2037.25 Q 1860 2040 1868.68 2044.96 L 1914.47 2071.13" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1919.03 2073.73 L 1911.22 2073.3 L 1914.47 2071.13 L 1914.69 2067.22 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1989px; margin-left: 1683px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                load into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1683" y="1993" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    load into
                </text>
            </switch>
        </g>
        <path d="M 2710 2200 L 2723.07 2173.86" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2724.63" cy="2170.73" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2731.79 2165.37 L 2724.63 2161.79 M 2726.2 2167.6 L 2730 2160" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2706.15 2400 L 2718.12 2425.93" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2719.59" cy="2429.1" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2719.31 2438.04 L 2726.57 2434.69 M 2721.05 2432.28 L 2724.62 2440" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2880 2251.87 L 3153.78 2191.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3158.91 2190.86 L 3152.82 2195.78 L 3153.78 2191.99 L 3151.32 2188.94 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2221px; margin-left: 3020px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="2224" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <rect x="2440" y="2200" width="440" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 2207px; margin-left: 2442px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    CommittedEntrySet&lt;K, V&gt;
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li>
                                        RMemLog( ReadOnlyMemlog&lt;K, V&gt; )
                                    </li>
                                    <li>
                                        SSTable( SSTable&lt;K, V&gt; )
                                    </li>
                                </ul>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Entry&lt;K, ()&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2442" y="2219" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum CommittedEntrySet&lt;K, V&gt;:...
                </text>
            </switch>
        </g>
        <path d="M 1400 2900 L 1464.58 2906.46" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1468.06" cy="2906.81" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1480.4 2904.02 L 1472.04 2907.2 L 1479.6 2911.98 M 1472.04 2907.2 L 1480 2908" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1200 3000 L 1200 3073.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="stroke"/>
        <path d="M 1200 3078.88 L 1196.5 3071.88 L 1200 3073.63 L 1203.5 3071.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3040px; margin-left: 1200px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is implicitly related to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1200" y="3043" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is implicitly related to
                </text>
            </switch>
        </g>
        <rect x="1000" y="2760" width="400" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 240px; padding-top: 2760px; margin-left: 1000px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AtomicLinkedList&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_ptr: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + from_elems( Iter&lt;T&gt; ) -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head() -&gt; &amp;ListNode&lt;T&gt;
                                </p>
                                <p></p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#990099">
                                        push_elem
                                    </font>
                                    <span>
                                        ( T ) -&gt; &amp;ListNode&lt;T&gt;
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#990099">
                                        push_node
                                    </font>
                                    ( Box&lt; ListNode&lt;T&gt; &gt; ) -&gt; &amp;ListNode&lt;T&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + iter() -&gt; Iter&lt; &amp;T &gt;
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1000" y="2772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AtomicLinkedList&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1480" y="2880" width="240" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 80px; padding-top: 2880px; margin-left: 1480px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ListNode&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + elem: T
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + next: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1480" y="2892" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ListNode&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1520" y="1800" width="200" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 100px; padding-top: 1800px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 100px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        TimestampNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + inc_from(Iter&lt;Self&gt;) -&gt; Self
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="1812" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    TimestampNum...
                </text>
            </switch>
        </g>
        <rect x="1520" y="1720" width="80" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 82px; height: 60px; padding-top: 1720px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 80px; height: 60px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitVer
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="1732" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitVer...
                </text>
            </switch>
        </g>
        <path d="M 1300 1680 L 1300 1753.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1300 1758.88 L 1296.5 1751.88 L 1300 1753.63 L 1303.5 1751.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1720px; margin-left: 1300px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1300" y="1723" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 1480 1618.57 L 1913.77 1711.52" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1918.91 1712.62 L 1911.33 1714.58 L 1913.77 1711.52 L 1912.8 1707.73 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1666px; margin-left: 1700px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1700" y="1669" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into new
                </text>
            </switch>
        </g>
        <rect x="640" y="3120" width="200" height="160" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 160px; padding-top: 3120px; margin-left: 640px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + inc_from(Iter&lt;Self&gt;) -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + get_and_inc() -&gt; Self
                                    </span>
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="640" y="3132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxNum...
                </text>
            </switch>
        </g>
        <rect x="2560" y="1960" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 1960px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ReadonlyMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + memtable: BTreeMap&lt; K, OptDatum&lt;V&gt; &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - log_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; ( &amp;K, &amp;OptDat&lt;V&gt; ) &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; ( &amp;K, &amp;OptDat&lt;V&gt; ) &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="1972" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ReadonlyMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <rect x="2560" y="2440" width="440" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 2440px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SSTable&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - sparse_file_offsets: Vec&lt; (K, u64) &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - kv_file_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + new( Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                    </span>
                                    <span>
                                        ) -&gt; Res&lt; Self &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Res&lt;( K, OptDat&lt;V&gt; )&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Res&lt;( K, OptDat&lt;V&gt; )&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Res&lt;K&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_file() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="2452" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SSTable&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 2817.5 1840 L 2836.49 1890.64 Q 2840 1900 2836.49 1909.36 L 2819.74 1954.04" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2817.89 1958.95 L 2817.07 1951.17 L 2819.74 1954.04 L 2823.63 1953.63 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1900px; margin-left: 2840px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2840" y="1903" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 2903.81 1840 L 3155.05 2042.92" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3159.13 2046.22 L 3151.49 2044.55 L 3155.05 2042.92 L 3155.88 2039.1 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1944px; margin-left: 3033px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3033" y="1947" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <path d="M 2742.5 1840 L 2723.51 1890.64 Q 2720 1900 2723.51 1909.36 L 2742.5 1960" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2737.35 1957.66 L 2744.84 1954.85" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2560" y="1640" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 1640px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        WritableMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + r_memlog: ReadonlyMemLog&lt;K, V&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + log_writer: DatumWriter
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + put( K, OptDatum&lt;V&gt; ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + flush() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + into() -&gt; ReadonlyMemLog&lt;K,V&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="1652" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    WritableMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 3160 2482.59 L 3006.24 2513.91" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3001.1 2514.96 L 3007.26 2510.14 L 3006.24 2513.91 L 3008.65 2516.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2499px; margin-left: 3080px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                constructs
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3080" y="2502" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    constructs
                </text>
            </switch>
        </g>
        <rect x="3160" y="2360" width="320" height="180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2367px; margin-left: 3162px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                enum
                                <b>
                                    Entry
                                </b>
                                &lt;'a, K, V&gt; {
                                <br/>
                                Ref(( &amp;'a K, &amp;'a V )),
                                <br/>
                                Own(Res&lt;( K, V )&gt;),
                                <br/>
                                }
                                <br/>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + try_borrow() -&gt; Res&lt;( &amp;'a K, &amp;'a V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + take_kv() -&gt; Res&lt;( K, V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    etc
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3162" y="2379" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    enum Entry&lt;'a, K, V&gt; {...
                </text>
            </switch>
        </g>
        <path d="M 3308.28 2280 L 3313.35 2353.65" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3313.72 2358.88 L 3309.74 2352.14 L 3313.35 2353.65 L 3316.73 2351.66 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2320px; margin-left: 3311px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                produces
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3311" y="2323" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    produces
                </text>
            </switch>
        </g>
        <rect x="3160" y="2040" width="280" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 2047px; margin-left: 3162px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                fn
                                <b>
                                    merge_committed_entrysets
                                </b>
                                (
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                <br/>
                                <br/>
                                fn
                                <b>
                                    merge_txnlocal_and_committed_entrysets
                                </b>
                                (
                                <br/>
                                Opt&lt; &amp;WritableMemLog&lt;K, V&gt; &gt;,
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3162" y="2059" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    fn merge_committed_entrysets(...
                </text>
            </switch>
        </g>
        <path d="M 2360 1753.13 L 2560 1746.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2556.13 1751 L 2555.88 1743" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2140 1920 L 2140 2033.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2140 2038.88 L 2136.5 2031.88 L 2140 2033.63 L 2143.5 2031.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1980px; margin-left: 2140px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2140" y="1983" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 5280 1360.87 L 5215.44 1355.26" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="5211.95" cy="1354.95" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 5199.65 1357.9 L 5207.97 1354.61 L 5200.35 1349.93 M 5207.97 1354.61 L 5200 1353.91" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="5280" y="1200" width="440" height="360" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 360px; padding-top: 1200px; margin-left: 5280px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 360px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        FCJob
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: Arc&lt; DB &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dangling_nodes: VecDeque&lt; DanglingNodeSet &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    // rx
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        min_held_list_ver
                                    </font>
                                    : watch::Receiver&lt; ListVer &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <span style="color: rgb(153 , 0 , 0)">
                                        replace_avail
                                    </span>
                                    : watch::Receiver&lt; () &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        scnd_idx_creation_request
                                    </font>
                                    : mpsc::Receiver&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Receiver&lt; () &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        // tx
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        sicr_work
                                    </font>
                                    : mpsc::Sender&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5280" y="1212" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    FCJob...
                </text>
            </switch>
        </g>
        <path d="M 6240 1711.33 L 6053.39 1768.15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6048.37 1769.67 L 6054.05 1764.29 L 6053.39 1768.15 L 6056.09 1770.98 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 160 1680 L 280 1680 L 280 1930 L 240 1930 L 220 1960 L 220 1930 L 160 1930 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,220,1820)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 247px; height: 1px; padding-top: 1767px; margin-left: 82px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                If a thread is to lock both
                                <font color="#00cccc">
                                    db_state
                                </font>
                                and
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                , it must lock
                                <font color="#00cccc">
                                    db_state
                                </font>
                                first, then
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                .
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="82" y="1779" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    If a thread is to lock both db_state and...
                </text>
            </switch>
        </g>
        <rect x="1200" y="1000" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1007px; margin-left: 1202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    File paths
                                </u>
                                <br/>
                                <ul>
                                    <li>
                                        db_root/
                                    </li>
                                    <ul>
                                        <li>
                                            scnd_idxs_state.txt
                                            <br/>
                                            (Contains a) definitions of all secondary indexes, b) next_scnd_idx_num.)
                                        </li>
                                        <li>
                                            lsm/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt;anti_collision_num&gt;/
                                                <br/>
                                                (Either StagingUnit or CommittedUnit.)
                                            </li>
                                            <ul>
                                                <li>
                                                    pi.kv
                                                </li>
                                                <li>
                                                    si-&lt;scnd_idx_num&gt;.kv
                                                </li>
                                                <li>
                                                    (... other SIs)
                                                </li>
                                                <li>
                                                    (All entrysets (PI or SI) are optional.)
                                                </li>
                                                <li>
                                                    commit_info.txt
                                                    <br/>
                                                    (This file is present iff this unit was attempted commitment.
                                                    <br/>
                                                    There is currently no way to distinguish a failed and a finalized commit.)
                                                </li>
                                            </ul>
                                            <li>
                                                (... other unit dirs)
                                            </li>
                                        </ul>
                                        <li>
                                            si_cr_job/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt; temporary SSTables &gt;
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1202" y="1019" fill="#000000" font-family="Helvetica" font-size="12px">
                    File paths...
                </text>
            </switch>
        </g>
        <rect x="1800" y="760" width="120" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 122px; height: 80px; padding-top: 760px; margin-left: 1800px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 120px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Interval&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + lo_incl: Opt&lt;T&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + hi_incl: Opt&lt;T&gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1800" y="772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Interval&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1600" y="2200" width="240" height="160" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 238px; height: 1px; padding-top: 2207px; margin-left: 1602px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    LsmElem
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li>
                                        Unit( CommittedUnit )
                                    </li>
                                    <li>
                                        Dummy{ ... }
                                    </li>
                                    <ul>
                                        <li>
                                            hold_count: AtomicUsize
                                            <br/>
                                        </li>
                                        <li>
                                            <font color="#cccc00">
                                                is_fence
                                            </font>
                                            : AtomicBool
                                        </li>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1602" y="2219" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum LsmElem:...
                </text>
            </switch>
        </g>
        <path d="M 560 3200 L 640 3200" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 636 3204 L 636 3196" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="320" y="3120" width="240" height="160" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 160px; padding-top: 3120px; margin-left: 320px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnd_idx_num: ScndIdxNum
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#00cccc">
                                        is_readable
                                    </font>
                                    : bool
                                </p>
                                <div>
                                    <hr size="1"/>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + ser( ... ) -&gt; Res&lt; () &gt;
                                    </p>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + deser( ... ) -&gt; Res&lt; Self &gt;
                                    </p>
                                </div>
                                <div>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="320" y="3132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxState...
                </text>
            </switch>
        </g>
        <rect x="5320" y="200" width="800" height="600" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 798px; height: 1px; padding-top: 207px; margin-left: 5322px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    TODO
                                </b>
                                <br/>
                                <ul>
                                    <li>
                                        <span>
                                            Txn
                                        </span>
                                    </li>
                                    <ul>
                                        <li>
                                            <span>
                                                Handle this anomaly:
                                            </span>
                                            <br/>
                                        </li>
                                        <ul>
                                            <li>
                                                <span>
                                                    1) commit_info.txt is written
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    2) crash
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    Problem: Actually committed CommittedUnit vs never pushed CommittedUnit are indistinguishable.
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    Possible solution:
                                                </span>
                                                <br/>
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        1) Txn::commit() writes commit_info.txt with timestamp_num=None
                                                    </span>
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        2) Txn::commit() pushes to LL
                                                    </span>
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        3) Txn::commit() notifies F+C
                                                    </span>
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        4) F+C goes through recent commits, and sets timestamp_num=Some(zero)
                                                    </span>
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        5) F+C messages back
                                                    </span>
                                                    Txn::commit()
                                                    <br/>
                                                </li>
                                                <li>
                                                    <span>
                                                        6) Txn::commit() returns
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ul>
                                        </ul>
                                    </ul>
                                    <li>
                                        <span>
                                            F+C
                                        </span>
                                        <br/>
                                    </li>
                                    <ul>
                                        <li>
                                            <span>
                                                Levelled compaction.
                                            </span>
                                        </li>
                                        <ul>
                                            <li>
                                                <span>
                                                    Each CommittedUnit can have levelled compaction within.
                                                </span>
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div style="text-align: right">
                                    <span style="text-align: center">
                                        https://github.com/ysono/pancake/
                                    </span>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5322" y="219" fill="#000000" font-family="Helvetica" font-size="12px">
                    TODO...
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1650 L 5234.3 1728" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5239 1730.33 L 5231.17 1730.35 L 5234.3 1728 L 5234.29 1724.08 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4988 1660 C 4984.65 1657.78 4982.63 1654.02 4982.63 1650 C 4982.63 1645.98 4984.65 1642.22 4988 1640 L 5072 1640 C 5075.35 1642.22 5077.37 1645.98 5077.37 1650 C 5077.37 1654.02 5075.35 1657.78 5072 1660 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1640 C 5075.35 1642.22 5077.37 1645.98 5077.37 1650 C 5077.37 1654.02 5075.35 1657.78 5072 1660 C 5068.65 1657.78 5066.63 1654.02 5066.63 1650 C 5066.63 1645.98 5068.65 1642.22 5072 1640" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1667px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is_terminating
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1680" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    is_terminating
                </text>
            </switch>
        </g>
        <path d="M 6920 3027.14 L 6738.51 3195.67" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6734.67 3199.24 L 6737.41 3191.91 L 6738.51 3195.67 L 6742.18 3197.04 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6840 3316.12 L 6956.47 3291.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6961.61 3290.23 L 6955.49 3295.11 L 6956.47 3291.33 L 6954.03 3288.27 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7280 2860 L 7360 2860" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="6920" y="2680" width="360" height="360" fill="rgb(255, 255, 255)" stroke="#cccc00" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 358px; height: 1px; padding-top: 2687px; margin-left: 6922px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Actor
                                <u>
                                    scnd_idx_creation_job
                                </u>
                                ()
                                <br/>
                                <ul>
                                    <li>
                                        While true:
                                    </li>
                                    <ul>
                                        <li>
                                            `Select` all channels.
                                        </li>
                                        <ul>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    scnd_idx_creation_work
                                                </font>
                                                :
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        do_create();
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        notify_end_of_work();
                                                    </span>
                                                </li>
                                            </ul>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <font color="#990000">
                                                    is_terminating
                                                </font>
                                                <span>
                                                    :
                                                </span>
                                                <br/>
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ul>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6922" y="2699" fill="#000000" font-family="Helvetica" font-size="12px">
                    Actor scnd_idx_creation_job()...
                </text>
            </switch>
        </g>
        <path d="M 7017.3 2610 L 7038.46 2673.95" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 7040.1 2678.94 L 7034.58 2673.39 L 7038.46 2673.95 L 7041.23 2671.19 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6977.33 2600 L 7036 2520" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6928 2620 C 6924.65 2617.78 6922.63 2614.02 6922.63 2610 C 6922.63 2605.98 6924.65 2602.22 6928 2600 L 7012 2600 C 7015.35 2602.22 7017.37 2605.98 7017.37 2610 C 7017.37 2614.02 7015.35 2617.78 7012 2620 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7012 2600 C 7015.35 2602.22 7017.37 2605.98 7017.37 2610 C 7017.37 2614.02 7015.35 2617.78 7012 2620 C 7008.65 2617.78 7006.63 2614.02 7006.63 2610 C 7006.63 2605.98 7008.65 2602.22 7012 2600" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2627px; margin-left: 6970px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                scnd_idx_creation_work
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6970" y="2640" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    scnd_idx_creati...
                </text>
            </switch>
        </g>
        <path d="M 7257.3 2610 L 7216.65 2674.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 7213.85 2679.05 L 7214.62 2671.27 L 7216.65 2674.61 L 7220.54 2674.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7168 2620 C 7164.65 2617.78 7162.63 2614.02 7162.63 2610 C 7162.63 2605.98 7164.65 2602.22 7168 2600 L 7252 2600 C 7255.35 2602.22 7257.37 2605.98 7257.37 2610 C 7257.37 2614.02 7255.35 2617.78 7252 2620 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7252 2600 C 7255.35 2602.22 7257.37 2605.98 7257.37 2610 C 7257.37 2614.02 7255.35 2617.78 7252 2620 C 7248.65 2617.78 7246.63 2614.02 7246.63 2610 C 7246.63 2605.98 7248.65 2602.22 7252 2600" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2627px; margin-left: 7210px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is_terminating
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7210" y="2640" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    is_terminating
                </text>
            </switch>
        </g>
        <rect x="6240" y="2560" width="600" height="600" fill="rgb(255, 255, 255)" stroke="#cccc00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 2567px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                SICr
                                <u>
                                    do_create
                                </u>
                                ( ScndIdxWork )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            snap := AtomicLinkedListSnapshot{
                                        </span>
                                        <u>
                                            snap_head_excl
                                        </u>
                                        <span>
                                            , tail_excl=None };
                                            <br/>
                                        </span>
                                        snap_pi
                                        <span>
                                            :=
                                        </span>
                                        <span>
                                            snap.iter().filter_map( (unit) -&gt; unit.pi ).k_merge().filter( keep non-Tombstone );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each (PK,PV) in snap_pi :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            Write to a Memtable (without log).
                                        </li>
                                        <li>
                                            Periodically flush to a new SSTable.
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            If there were no data :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            // There should be no file to delete.
                                        </li>
                                        <li>
                                            return;
                                        </li>
                                    </ol>
                                    <li>
                                        K-merge all SSTables.
                                    </li>
                                    <li>
                                        <span>
                                            Remove non-final SSTables.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            cu := CommittedUnit w/ ...
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            commit_ver_lo_incl == commit_ver_hi_incl :=
                                            <u>
                                                output_commit_ver
                                            </u>
                                        </li>
                                        <li>
                                            <span>
                                                timestamp_num := 0
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            node := Box( ListNode( ... cu ... ) );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            node.next =
                                        </span>
                                        <span>
                                            <u>
                                                snap_head_excl
                                            </u>
                                            .next.load();
                                            <br/>
                                            <u>
                                                snap_head_excl
                                            </u>
                                            .next.store( node );
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        With
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        .lock_exclusive() :
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#00cccc">
                                                set_scnd_idx_as_readable
                                            </font>
                                            ( sv_spec ), which does ...
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <font color="#00cccc">
                                                    scnd_idxs
                                                </font>
                                                [ sv_spec ].
                                                <font color="#00cccc">
                                                    is_readable
                                                </font>
                                                = true ;
                                            </li>
                                            <li>
                                                Write to disk.
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="2579" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICr do_create( ScndIdxWork )...
                </text>
            </switch>
        </g>
        <path d="M 6968 3300 C 6964.65 3297.78 6962.63 3294.02 6962.63 3290 C 6962.63 3285.98 6964.65 3282.22 6968 3280 L 7052 3280 C 7055.35 3282.22 7057.37 3285.98 7057.37 3290 C 7057.37 3294.02 7055.35 3297.78 7052 3300 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7052 3280 C 7055.35 3282.22 7057.37 3285.98 7057.37 3290 C 7057.37 3294.02 7055.35 3297.78 7052 3300 C 7048.65 3297.78 7046.63 3294.02 7046.63 3290 C 7046.63 3285.98 7048.65 3282.22 7052 3280" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3307px; margin-left: 7010px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    replace_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7010" y="3320" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    replace_avail
                </text>
            </switch>
        </g>
        <rect x="5200" y="2160" width="720" height="200" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 2167px; margin-left: 5202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    flush_and_compact
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            snap_head_excl :=
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            () ...
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : nothing to update.
                                            </li>
                                            <li>
                                                Else : push new dummy w/ { hold_count=0,
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false }
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            traverse_and_compact( snap_head_excl );
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5202" y="2179" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::flush_and_compact()...
                </text>
            </switch>
        </g>
        <path d="M 4925.6 3240 L 4916.51 3353.65" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4916.09 3358.89 L 4913.16 3351.63 L 4916.51 3353.65 L 4920.14 3352.19 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="4680" y="2880" width="520" height="360" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 518px; height: 1px; padding-top: 2887px; margin-left: 4682px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    cut_non_boundary_dummies
                                </u>
                                ( prior_excl )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            slice := [ ];
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            curr := prior_excl.next.load();
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            match curr :
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    case dummy with { hold_count=0 and
                                                </span>
                                                <span style="color: rgb(204 , 204 , 0)">
                                                    is_fence
                                                </span>
                                                <span>
                                                    =false } :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    slice.push( curr );
                                                </li>
                                                <li>
                                                    curr = curr.next.load();
                                                </li>
                                            </ol>
                                            <li>
                                                case nullptr or boundary dummy or fence dummy or CommittedUnit :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            If slice is not empty :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                replace( prior_excl, curr, None, slice );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            return curr;
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                                <ul></ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4682" y="2899" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::cut_non_boundary_dummies( prior_excl )...
                </text>
            </switch>
        </g>
        <rect x="6240" y="3200" width="600" height="360" fill="rgb(255, 255, 255)" stroke="#cccc00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3207px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <div>
                                    SICr
                                    <u>
                                        notify_end_of_work
                                    </u>
                                    ( ScndIdxWork )
                                </div>
                                <ol>
                                    <li>
                                        <u>
                                            snap_head_excl
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <font color="#cccc00">
                                            is_fence
                                        </font>
                                        <span>
                                            .store( false );
                                        </span>
                                    </li>
                                    <li>
                                        <font color="#990000">
                                            replace_avail
                                        </font>
                                        <span>
                                            .send( () );
                                            <br/>
                                        </span>
                                        /* Even if snap_head_excl's hold_count is not zero, notify F+C anyway, because some dummies in SICr's snapshot might have become non-held. For such dummies, notification would have been sent to F+C but F+C would not have worked across those dummies. */
                                    </li>
                                    <li>
                                        <span>
                                            response_to_client.send( "succes" );
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="3219" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICr notify_end_of_work( ScndIdxWork )...
                </text>
            </switch>
        </g>
        <path d="M 6920 2860 L 6846.37 2860" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6841.12 2860 L 6848.12 2856.5 L 6846.37 2860 L 6848.12 2863.5 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6240" y="1400" width="600" height="440" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1407px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                DB::
                                <u>
                                    create_scnd_idx
                                </u>
                                ()
                                <br/>
                                <br/>
                                Args:
                                <br/>
                                <ul>
                                    <li>
                                        SVSpec
                                    </li>
                                </ul>
                                Steps:
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_shared() :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            .has_key( sv_spec ) :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "Already exists and &lt;is | isn't&gt; being created".
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                            // It's preferrable to wait for the exclusive lock outside the job thread.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            .has_key( sv_spec ) :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "Already exists and &lt;is | isn't&gt; being created".
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#00cccc">
                                                define_new_scnd_idx
                                            </font>
                                            ( sv_spec ), which does ...
                                        </li>
                                        <ol>
                                            <li>
                                                si_num :=
                                                <font color="#00cccc">
                                                    next_scnd_idx_num
                                                </font>
                                                .get_and_inc();
                                            </li>
                                            <li>
                                                <font color="#00cccc">
                                                    scnd_idxs
                                                </font>
                                                .insert( sv_spec, ( si_num,
                                                <font color="#00cccc">
                                                    is_readable
                                                </font>
                                                =false ) );
                                            </li>
                                            <li>
                                                Write to disk.
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            (tx, rx) := oneshot::channel();
                                            <br/>
                                            req := ScndIdxCreationRequest( sv_spec, si_num, tx );
                                            <br/>
                                        </span>
                                        <font color="#990000">
                                            scnd_idx_creation_request
                                        </font>
                                        <span>
                                            .send( req );
                                            <br/>
                                            resp := rx.receive();
                                            <br/>
                                            return resp;
                                        </span>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="1419" fill="#000000" font-family="Helvetica" font-size="12px">
                    DB::create_scnd_idx()...
                </text>
            </switch>
        </g>
        <rect x="4600" y="3360" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3367px; margin-left: 4602px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    replace
                                </u>
                                ( K, G, R, slice )
                                <br/>
                                // K is slice_head_excl
                                <br/>
                                // G is slice_tail_excl
                                <br/>
                                // R: Opt&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                <br/>
                                // slice: Vec&lt; &amp;ListNode&lt; LsmElem &gt; &gt;
                                <br/>
                                <ol>
                                    <li>
                                        If R is Some :
                                    </li>
                                    <ol>
                                        <li>
                                            R.next = G;
                                        </li>
                                        <li>
                                            K.next.store(R);
                                        </li>
                                    </ol>
                                    <li>
                                        Else :
                                    </li>
                                    <ol>
                                        <li>
                                            K.next.store(G);
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#00994d">
                                                curr_list_ver
                                            </font>
                                            += 1;
                                        </li>
                                    </ol>
                                    <li>
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        .push( (prior curr_list_ver, vec of just-replaced nodes) );
                                    </li>
                                </ol>
                                <ul>
                                    <ul></ul>
                                </ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4602" y="3379" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::replace( K, G, R, slice )...
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1810 L 5216.03 2130.82 Q 5220 2140 5228.99 2144.39 L 5254.04 2156.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5258.76 2158.91 L 5250.93 2158.99 L 5254.04 2156.61 L 5254 2152.69 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4988 1820 C 4984.65 1817.78 4982.63 1814.02 4982.63 1810 C 4982.63 1805.98 4984.65 1802.22 4988 1800 L 5072 1800 C 5075.35 1802.22 5077.37 1805.98 5077.37 1810 C 5077.37 1814.02 5075.35 1817.78 5072 1820 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1800 C 5075.35 1802.22 5077.37 1805.98 5077.37 1810 C 5077.37 1814.02 5075.35 1817.78 5072 1820 C 5068.65 1817.78 5066.63 1814.02 5066.63 1810 C 5066.63 1805.98 5068.65 1802.22 5072 1800" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1827px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    replace_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1840" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    replace_avail
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1730 L 5214.73 1951.5 Q 5220 1960 5210.38 1962.75 L 5046.12 2009.68" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5041.07 2011.12 L 5046.84 2005.83 L 5046.12 2009.68 L 5048.77 2012.56 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4988 1740 C 4984.65 1737.78 4982.63 1734.02 4982.63 1730 C 4982.63 1725.98 4984.65 1722.22 4988 1720 L 5072 1720 C 5075.35 1722.22 5077.37 1725.98 5077.37 1730 C 5077.37 1734.02 5075.35 1737.78 5072 1740 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1720 C 5075.35 1722.22 5077.37 1725.98 5077.37 1730 C 5077.37 1734.02 5075.35 1737.78 5072 1740 C 5068.65 1737.78 5066.63 1734.02 5066.63 1730 C 5066.63 1725.98 5068.65 1722.22 5072 1720" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1747px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    min_held_list_ver
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1760" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    min_held_list_v...
                </text>
            </switch>
        </g>
        <path d="M 4558.12 1631.88 L 4976.5 1728.57" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4981.61 1729.75 L 4974 1731.58 L 4976.5 1728.57 L 4975.58 1724.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6801.36 2480 L 6918.35 2605.34" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6921.94 2609.18 L 6914.6 2606.45 L 6918.35 2605.34 L 6919.72 2601.68 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1800 720 L 1820.7 747.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1822.8" cy="750.4" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 1833.2 757.6 L 1825.2 753.6 L 1826.8 762.4 M 1825.2 753.6 L 1830 760" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1520" y="560" width="440" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 160px; padding-top: 560px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        IntervalSet&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - itvs: Vec&lt; Interval&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + add( Interval&lt;T&gt; )
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + clear()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + merge()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + overlaps_with(points: Iter&lt;U: TryPartialOrd&lt;T&gt;&gt;) -&gt; Res&lt;bool&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="572" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    IntervalSet&lt;T&gt;...
                </text>
            </switch>
        </g>
        <path d="M 5322.4 3240 L 5169.08 3356.15" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5164.89 3359.32 L 5168.36 3352.31 L 5169.08 3356.15 L 5172.58 3357.89 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5280 3060 L 5206.37 3060" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5201.12 3060 L 5208.12 3056.5 L 5206.37 3060 L 5208.12 3063.5 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6920" y="2400" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 2400px; margin-left: 6920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationWork
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span>
                                        snap_head_excl: SendPtr&lt; ListNode&lt; LsmElem &gt; &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + scnd_idx_num: ScndIdxNum
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + output_commit_ver: CommitVer
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + req: ScndIdxCreationRequest
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6920" y="2412" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationWork...
                </text>
            </switch>
        </g>
        <rect x="5280" y="3360" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3367px; margin-left: 5282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    do_flush_and_compact
                                </u>
                                ( slice, skip_tombstones, db_state_guard )
                                <br/>
                                -&gt; Option&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                <br/>
                                <ol>
                                    <li>
                                        With db_state guard :=
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        .lock_shared() :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                Create a new empty SSTable-based CompactedUnit.
                                            </span>
                                        </li>
                                        <li>
                                            For each of {PI; and SIs in db_state_guard.
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            .keys() regardless of `
                                            <font color="#00cccc">
                                                is_readable
                                            </font>
                                            `} :
                                        </li>
                                        <ol>
                                            <li>
                                                K-merge across the slice --&gt; produce one SSTable.
                                                <br/>
                                                If skipping tombstones, do so.
                                            </li>
                                            <li>
                                                If the newly produced SSTable is non-empty :
                                            </li>
                                            <ol>
                                                <li>
                                                    Assign the new SSTable into the new CommittedUnit.
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                If the newly produced CommittedUnit is non-empty :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    On disk, serialize CommitInfo with ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        commit_ver_hi_incl = max in slice
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        commit_ver_lo_incl = min in slcie
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        timestamp_num = (max in slice) + 1
                                                    </span>
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    Move the new CommittedUnit into a Box&lt; ListNode&lt; LsmElem &gt; &gt;. Return this.
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    committed_unit.remove_dir();
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Return None.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5282" y="3379" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::do_flush_and_compact( slice, skip_tombstones, db_state_guard )...
                </text>
            </switch>
        </g>
        <path d="M 5567.2 3240 L 5571.75 3353.64" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5571.96 3358.88 L 5568.18 3352.03 L 5571.75 3353.64 L 5575.17 3351.75 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5560 2360 L 5560 2433.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5560 2438.88 L 5556.5 2431.88 L 5560 2433.63 L 5563.5 2431.88 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6240 2328.57 L 5845.85 2497.49" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5841.03 2499.56 L 5846.08 2493.59 L 5845.85 2497.49 L 5848.84 2500.02 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6960" y="1400" width="600" height="440" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1407px; margin-left: 6962px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                DB::
                                <u>
                                    delete_scnd_idx
                                </u>
                                ()
                                <br/>
                                <br/>
                                Args:
                                <br/>
                                <ul>
                                    <li>
                                        SVSpec
                                    </li>
                                </ul>
                                Steps:
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_shared() :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            [ sv_spec ].
                                            <font color="#00cccc">
                                                is_readable
                                            </font>
                                            != true :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "&lt;Doesn't exist | It's being built&gt;".
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                If
                                            </span>
                                            <font color="#00cccc">
                                                scnd_idxs
                                            </font>
                                            <span>
                                                [ sv_spec ].
                                            </span>
                                            <font color="#00cccc">
                                                is_readable
                                            </font>
                                            <span>
                                                != true :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                Return "&lt;Doesn't exist | It's being built&gt;".
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#00cccc">
                                                remove_scnd_idx
                                            </font>
                                            <span>
                                                ( sv_spec );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            /*
                                            <br/>
                                        </span>
                                        That's it!
                                        <br/>
                                        Leave all data (in memory and on disk) in place. Let compaction eventually implicitly erase them.
                                        <br/>
                                        The use of ScndIdxNum ensures that, if a SI is later re-created for the just-deleted SVSpec, any lingering existing data would remain unused.
                                        <br/>
                                        */
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6962" y="1419" fill="#000000" font-family="Helvetica" font-size="12px">
                    DB::delete_scnd_idx()...
                </text>
            </switch>
        </g>
        <rect x="5840" y="1600" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 1600px; margin-left: 5840px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationRequest
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span>
                                        sv_spec: SVSpec
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + scnd_idx_num: ScndIdxNum
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <span>
                                        response_to_client
                                    </span>
                                    <span>
                                        : oneshot::Sender&lt; Res&lt; () &gt; &gt;
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5840" y="1612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationRequest...
                </text>
            </switch>
        </g>
        <rect x="400" y="2280" width="440" height="480" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 480px; padding-top: 2280px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 480px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#00cccc">
                                            DbState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state: ScndIdxsState
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state_file_path: PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_terminating: bool
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + can_new_scnd_idx_be_defined( &amp;SVSpec ) -&gt; ...
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + define_new_scnd_idx( &amp;SVSpec ) -&gt; ...
                                </p>
                                <ol>
                                    <li>
                                        si_num :=
                                        <font color="#00cccc">
                                            next_scnd_idx_num
                                        </font>
                                        .get_and_inc();
                                    </li>
                                    <li>
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        .insert( sv_spec, ( si_num,
                                        <font color="#00cccc">
                                            is_readable
                                        </font>
                                        =false) );
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + set_scnd_idx_as_readable( &amp;SVSpec ) -&gt; Res&lt; () &gt;
                                </p>
                                <ol>
                                    <li>
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        [ sv_spec ].is_readable = true;
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + can_scnd_idx_be_removed( &amp;SVSpec ) -&gt; ...
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_scnd_idx( &amp;SVSpec ) =&gt; ...
                                </p>
                                <ol>
                                    <li>
                                        scnd_idxs.remove( sv_spec );
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="2292" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DbState...
                </text>
            </switch>
        </g>
        <path d="M 620 2760 L 620 2840" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 616 2836 L 624 2836" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 780 800 L 780 880" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="480" y="400" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 407px; margin-left: 482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    At bootup
                                </u>
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#00cccc">
                                            scnd_idxs_state := ScndIdxsState.deser( scnd_idxs_state.txt );
                                        </font>
                                        <br/>
                                        then ignore SIs that previously never finished creation.
                                        <br/>
                                    </li>
                                    <li>
                                        <font color="#00cccc">
                                            db_state := DbState( ... );
                                        </font>
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        <font color="#00994d">
                                            (lsm_dir, lsm_state) := LsmDir::load_or_new( lsm_dir_path );
                                            <br/>
                                        </font>
                                        Ignore CommitUnits that did not properly get GC'd previously.
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        Create all
                                        <font color="#990000">
                                            channels
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        db := DB( ... );
                                    </li>
                                    <li>
                                        Launch actors
                                        <font color="#cc6600">
                                            FCJob
                                        </font>
                                        and
                                        <font color="#cccc00">
                                            SICrJob
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        db.terminate();
                                    </li>
                                    <li>
                                        Join the actors.
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="482" y="419" fill="#000000" font-family="Helvetica" font-size="12px">
                    At bootup...
                </text>
            </switch>
        </g>
        <rect x="480" y="880" width="600" height="480" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 887px; margin-left: 482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                LsmDir::
                                <u>
                                    load_or_new
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        pq := new BinaryHeap&lt; CommitInfo &gt;;
                                        <br/>
                                    </li>
                                    <li>
                                        For unit_dir in `ls lsm/` :
                                    </li>
                                    <ol>
                                        <li>
                                            If commit_info.txt doesn't exist :
                                        </li>
                                        <ol>
                                            <li>
                                                Ignore this unit. Print warning.
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Load CommitInfo.
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Push CommitInfo into pq.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            nodes: = empty Vec;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            // pq prioritizes CommitInfo by { highest commit_ver_hi_incl; tie-breaker by highest timestamp_num }.
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        next_commit_ver := pq.peek().commit_ver_hi_incl + 1;    If empty, zero.
                                    </li>
                                    <li>
                                        <span>
                                            While pq is not empty :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                cu_info := pq.pop();
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                If curr commit_ver range overlaps with previous commit_ver range :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Ignore this unit. Print warning.
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Load CommitInfo into CommittedUnit.
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Push CommittedUnit into nodes.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        list := AtomicLinkedList::from_elems( nodes );
                                    </li>
                                    <li>
                                        return (LsmDir, LsmState);
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="482" y="899" fill="#000000" font-family="Helvetica" font-size="12px">
                    LsmDir::load_or_new()...
                </text>
            </switch>
        </g>
        <rect x="1920" y="2040" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 2040px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommittedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; CommittedEntrySet&lt;PK,PV&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) CommittedEntrySet&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + commit_info: CommitInfo
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_staging( StagingUnit, CommitVer ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_compacted( CompactedUnit, CommitInfo ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( UnitDir ) -&gt; Res&lt; Self, UnitDir &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="2052" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommittedUnit...
                </text>
            </switch>
        </g>
        <rect x="1920" y="1600" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 1600px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        StagingUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: WritableMemLog&lt;PK,PV&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                        <br/>
                                    </li>
                                    <li>
                                        (value) WritableMemLog&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new( UnitDir ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + flush() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="1612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    StagingUnit...
                </text>
            </switch>
        </g>
        <rect x="1120" y="1480" width="360" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 200px; padding-top: 1480px; margin-left: 1120px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        UnitDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_prim_path() -&gt; PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_scnd_path( ScndIdxNum ) -&gt; PathBuf
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_commit_info_path() -&gt; PathBuf
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_commit_info() -&gt; Res&lt; CommitInfo &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + list_scnd_paths() -&gt; Iter&lt; (PathBuf, ScndIdxNum) &gt;
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1120" y="1492" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    UnitDir...
                </text>
            </switch>
        </g>
        <rect x="1160" y="1760" width="280" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 282px; height: 240px; padding-top: 1760px; margin-left: 1160px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 280px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitInfo
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_hi_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_lo_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + timestamp_num: TimestampNum
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + data_type: either "memlog" or "sstable"
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + cmp()
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1160" y="1772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitInfo...
                </text>
            </switch>
        </g>
        <rect x="960" y="2080" width="560" height="600" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 562px; height: 600px; padding-top: 2080px; margin-left: 960px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 560px; height: 600px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#00994d">
                                            LsmState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + list: AtomicLinkedList&lt; LsmElem &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + next_commit_ver: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - curr_list_ver: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - held_list_vers: HashBag&lt; ListVer &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - min_held_list_ver: ListVer
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + get_and_bump_curr_list_ver() -&gt; ListVer
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        // Return the pre-bump curr_list_ver.
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + hold_curr_list_ver() -&gt; ListVer
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        // Return the unchanged curr_list_ver.
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + unhold_list_ver( ListVer ) -&gt; Opt&lt; ListVer &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // Return min_held_list_ver, if it changed.
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + hold_and_unhold_list_ver( ListVer ) -&gt; { curr: ListVer, min: Opt&lt; ListVer &gt; }
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // Return ( curr_list_ver; min_held_list_ver, if it changed ).
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_held_list_vers_empty() -&gt; bool
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990099">
                                        update_or_push
                                    </font>
                                    ( update_or_specify_head ) -&gt; *const ListNode&lt; LsmElem &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Args:
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        FnOnce( Opt&lt; &amp;LsmElem &gt; ) -&gt; Opt&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                        <br/>
                                        // Read the existing head node, and return whether to push a node.
                                    </li>
                                </ul>
                                <p style="margin: 0px 0px 0px 4px">
                                    Returns the resulting head.
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="960" y="2092" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmState...
                </text>
            </switch>
        </g>
        <path d="M 738.18 1720 L 774.55 1640" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 776.53 1645.3 L 769.25 1641.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="400" y="1720" width="440" height="520" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 520px; padding-top: 1720px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 520px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        DB
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#00cccc">
                                        db_state
                                    </font>
                                    <span>
                                        :
                                    </span>
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        RwLock
                                    </span>
                                    <span>
                                        &lt; DbState &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + lsm_dir: LsmDir
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#00994d">
                                        lsm_state
                                    </font>
                                    :
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        Mutex
                                    </span>
                                    &lt; LsmState &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // Tokio's `watch` channel is like a Condition Variable.
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#990000">
                                        min_held_list_ver
                                    </font>
                                    <span>
                                        : watch::Sender&lt; ListVer &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span style="color: rgb(153 , 0 , 0)">
                                        replace_avail
                                    </span>
                                    : watch::Sender&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        scnd_idx_request
                                    </font>
                                    : mpsc::Sender&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Sender&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + load_or_new( PathBuf ) -&gt; Res&lt;( ... )&gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Returns:
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        Arc&lt;Self&gt;
                                    </li>
                                    <li>
                                        fc_job_task: Future&lt;Res&lt;()&gt;&gt;
                                        <br/>
                                    </li>
                                    <li>
                                        scnd_idx_creation_job_task: Future&lt;Res&lt;()&gt;&gt;
                                    </li>
                                </ul>
                                <div>
                                    <div>
                                        + terminate()
                                    </div>
                                </div>
                                <div>
                                    <ol>
                                        <li>
                                            With
                                            <font color="#00cccc">
                                                db_state
                                            </font>
                                            .lock_exclusive() :
                                        </li>
                                        <ol>
                                            <li>
                                                set
                                                <font color="#00cccc">
                                                    is_terminating
                                                </font>
                                                to true;
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#990000">
                                                is_terminating
                                            </font>
                                            .send( () );
                                        </li>
                                        <li>
                                            // Do it in this order.
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="1732" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DB...
                </text>
            </switch>
        </g>
        <path d="M 870 1640 L 1087.15 2074.3" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1089.5 2079 L 1083.24 2074.3 L 1087.15 2074.3 L 1089.5 2071.17 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1860px; margin-left: 980px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="980" y="1863" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 810.48 1440 L 802.86 1360" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="640" y="1440" width="360" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 200px; padding-top: 1440px; margin-left: 640px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        LsmDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - lsm_dir_path: PathBuf
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - next_unit_dir_num: AtomicU64
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt;( Self,
                                    <font color="#00994d">
                                        LsmState
                                    </font>
                                    )&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_new_unit_dir_path() -&gt; UnitDir
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="640" y="1452" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmDir...
                </text>
            </switch>
        </g>
        <rect x="4880" y="1280" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 1280px; margin-left: 4880px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        DanglingNodeSet
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + max_incl_traversable_list_ver: ListVer
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + nodes: Vec&lt; SendPtr&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4880" y="1292" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DanglingNodeSet...
                </text>
            </switch>
        </g>
        <rect x="1000" y="3080" width="400" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 160px; padding-top: 3080px; margin-left: 1000px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AtomicLinkedListSnapshot&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_excl_ptr: NonNull&lt; ListNode&lt; T &gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + tail_excl_ptr: Opt&lt; NonNull&lt; ListNode&lt; T &gt; &gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + iter() -&gt; Iter&lt; &amp;T &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1000" y="3092" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AtomicLinkedListSnapshot&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="7360" y="2680" width="440" height="360" fill="rgb(255, 255, 255)" stroke="#cccc00" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 360px; padding-top: 2680px; margin-left: 7360px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 360px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SICrJob
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: Arc&lt; DB &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - working_dir: PathBuf
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        // rx
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        scnd_idx_creation_work
                                    </font>
                                    : mpsc::Receiver&lt; ScndIdxCreationWork &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Receiver&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7360" y="2692" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SICrJob...
                </text>
            </switch>
        </g>
        <path d="M 2780 440 L 2780 473.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 478.88 L 2776.5 471.88 L 2780 473.63 L 2783.5 471.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2780" cy="420" rx="59.99999999999999" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 420px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Client calls get_*() and put()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="424" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Client calls get_*()...
                </text>
            </switch>
        </g>
        <ellipse cx="2778.8" cy="190" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2778.8 200 L 2779.81 233.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2779.97 238.88 L 2776.26 231.99 L 2779.81 233.63 L 2783.25 231.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2780 360 L 2780 393.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 398.88 L 2776.5 391.88 L 2780 393.63 L 2783.5 391.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2720" y="320" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 340px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="344" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    new
                </text>
            </switch>
        </g>
        <path d="M 2780 280 L 2780 313.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 318.88 L 2776.5 311.88 L 2780 313.63 L 2783.5 311.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2780" cy="260" rx="59.99999999999999" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 260px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::new()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="264" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::new()
                </text>
            </switch>
        </g>
        <path d="M 2779.7 520 L 2779.19 553.73" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2779.12 558.98 L 2775.72 551.93 L 2779.19 553.73 L 2782.72 552.03 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2720" y="480" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 500px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                pre-commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="504" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    pre-commit
                </text>
            </switch>
        </g>
        <path d="M 2793.97 594.94 L 2840.3 640.59" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2844.04 644.27 L 2836.59 641.85 L 2840.3 640.59 L 2841.51 636.87 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 620px; margin-left: 2820px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2820" y="624" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to commit
                </text>
            </switch>
        </g>
        <path d="M 2771.33 597.51 L 2550.92 1114.34" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2548.86 1119.17 L 2548.39 1111.36 L 2550.92 1114.34 L 2554.83 1114.1 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 858px; margin-left: 2660px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to abort
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2660" y="862" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to abort
                </text>
            </switch>
        </g>
        <path d="M 3035 995 L 3080.5 1040.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3084.21 1044.21 L 3076.78 1041.73 L 3080.5 1040.5 L 3081.73 1036.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1019px; margin-left: 3059px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                yes conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3059" y="1023" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    yes conflict
                </text>
            </switch>
        </g>
        <path d="M 3186.63 1120.12 L 3236.84 969.49 Q 3240 960 3235.46 951.09 L 2964.54 418.91 Q 2960 410 2950.68 406.38 L 2837.36 362.31" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2832.47 360.41 L 2840.26 359.68 L 2837.36 362.31 L 2837.73 366.2 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3180" cy="1140" rx="59.99999999999999" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1140px; margin-left: 3121px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::reset()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3180" y="1144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::reset()
                </text>
            </switch>
        </g>
        <path d="M 3115 1075 L 3156.52 1116.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3160.24 1120.24 L 3152.81 1117.76 L 3156.52 1116.52 L 3157.76 1112.81 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1098px; margin-left: 3138px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                not exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3138" y="1101" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    not exceeded
                </text>
            </switch>
        </g>
        <path d="M 3100 1040 L 3160 1060 L 3100 1080 L 3040 1060 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1060px; margin-left: 3041px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Retry limit exceeded?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3100" y="1064" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Retry limit exceeded?
                </text>
            </switch>
        </g>
        <path d="M 3058 1066 L 2601.45 1131.22" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2596.26 1131.96 L 2602.69 1127.51 L 2601.45 1131.22 L 2603.68 1134.44 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1099px; margin-left: 2826px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2826" y="1102" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    exceeded
                </text>
            </switch>
        </g>
        <path d="M 2540 1160 L 2540 1193.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2540 1198.88 L 2536.5 1191.88 L 2540 1193.63 L 2543.5 1191.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2540" cy="1140" rx="59.99999999999999" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1140px; margin-left: 2481px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::close()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2540" y="1144" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::close()
                </text>
            </switch>
        </g>
        <path d="M 2925 755 L 2883.48 796.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2879.76 800.24 L 2882.24 792.81 L 2883.48 796.52 L 2887.19 797.76 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 778px; margin-left: 2902px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                up-to-date
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2902" y="781" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    up-to-date
                </text>
            </switch>
        </g>
        <path d="M 2955 755 L 2996.52 796.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3000.24 800.24 L 2992.81 797.76 L 2996.52 796.52 L 2997.76 792.81 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 778px; margin-left: 2978px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                there is gap
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2978" y="781" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    there is gap
                </text>
            </switch>
        </g>
        <path d="M 2940 720 L 3000 740 L 2940 760 L 2880 740 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 740px; margin-left: 2881px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is snapshot up-to-date?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2940" y="744" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is snapshot up-to-da...
                </text>
            </switch>
        </g>
        <ellipse cx="2860" cy="820" rx="59.99999999999999" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 820px; margin-left: 2801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::commit()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2860" y="824" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::commit()
                </text>
            </switch>
        </g>
        <path d="M 3020 920 L 3020 953.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3020 958.88 L 3016.5 951.88 L 3020 953.63 L 3023.5 951.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3020" cy="900" rx="59.99999999999999" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 900px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::has_conflict()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="904" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::has_conflict()
                </text>
            </switch>
        </g>
        <path d="M 2996 968 L 2948.94 944.47 Q 2940 940 2940 930 L 2940 766.37" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2940 761.12 L 2943.5 768.12 L 2940 766.37 L 2936.5 768.12 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 881px; margin-left: 2940px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                no conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2940" y="884" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    no conflict
                </text>
            </switch>
        </g>
        <path d="M 3020 960 L 3080 980 L 3020 1000 L 2960 980 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 980px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is there any conflict?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="984" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is there any conflic...
                </text>
            </switch>
        </g>
        <ellipse cx="2540" cy="1210" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2778.8 560 L 2838.8 580 L 2778.8 600 L 2718.8 580 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 580px; margin-left: 2720px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Client decision?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2779" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Client decision?
                </text>
            </switch>
        </g>
        <path d="M 2875 675 L 2920.5 720.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2924.21 724.21 L 2916.78 721.73 L 2920.5 720.5 L 2921.73 716.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 699px; margin-left: 2899px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                try to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2899" y="703" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    try to commit
                </text>
            </switch>
        </g>
        <path d="M 2849.09 676.36 L 2556.55 1115.18" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2553.64 1119.55 L 2554.61 1111.78 L 2556.55 1115.18 L 2560.43 1115.66 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 899px; margin-left: 2701px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                nothing to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2701" y="902" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    nothing to commit
                </text>
            </switch>
        </g>
        <path d="M 2860 640 L 2920 660 L 2860 680 L 2800 660 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 660px; margin-left: 2801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Are there any data to commit?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2860" y="664" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Are there any data t...
                </text>
            </switch>
        </g>
        <path d="M 2560 288.48 L 2723.76 266.97" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="1920" y="160" width="640" height="320" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 638px; height: 1px; padding-top: 167px; margin-left: 1922px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    new
                                </u>
                                ( db, db_state_guard )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl := None;
                                            <br/>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .head_excl :=
                                            </span>
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            <span>
                                                () ...
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : dummy.hold_count += 1;
                                            </li>
                                            <li>
                                                Else : push new dummy w/ {
                                                <span>
                                                    hold_count=1,
                                                </span>
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                <span>
                                                    =false }
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap_next_commit_ver
                                            </font>
                                            :=
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                            <br/>
                                        </li>
                                        <li>
                                            <font color="#0066cc">
                                                snap_list_ver
                                            </font>
                                            :=
                                            <font color="#00994d">
                                                hold_curr_list_ver
                                            </font>
                                            ();
                                        </li>
                                    </ol>
                                    <li>
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        := None;
                                    </li>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        <span>
                                            := new empty;
                                            <br/>
                                        </span>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        <span>
                                            := new empty;
                                        </span>
                                    </li>
                                    <li>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            := None;
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1922" y="179" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::new( db, db_state_guard )...
                </text>
            </switch>
        </g>
        <path d="M 3280 622.39 L 2990 700" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3985.84 880 L 4541.88 1619.2" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4545.04 1623.4 L 4538.03 1619.91 L 4541.88 1619.2 L 4543.62 1615.7 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="3280" y="120" width="840" height="760" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 838px; height: 1px; padding-top: 127px; margin-left: 3282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    try_commit
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                If
                                            </span>
                                            <font color="#0066cc">
                                                snap_next_commit_ver
                                            </font>
                                            <span>
                                                !=
                                            </span>
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            <span>
                                                :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .tail_excl.hold_count -= 1;    if
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .tail_excl is Some
                                                <br/>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .tail_excl = Some(
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                .head_excl );
                                                <br/>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .head_excl :=
                                                </span>
                                                <font color="#990099">
                                                    update_or_push
                                                </font>
                                                <span>
                                                    () ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    If the existing head is a dummy : dummy.hold_count += 1;
                                                </li>
                                                <li>
                                                    Else : push new dummy w/ { hold_count=1,
                                                    <font color="#cccc00">
                                                        is_fence
                                                    </font>
                                                    =false }
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    If {prior
                                                </span>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .tail_excl became non-held} :
                                                </span>
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    replace_avail
                                                </span>
                                                <span>
                                                    .send( () );
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <font color="#0066cc">
                                                    snap_next_commit_ver
                                                </font>
                                                =
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                ;
                                            </li>
                                            <li>
                                                <font color="#0066cc">
                                                    snap_list_ver
                                                </font>
                                                , min_held_list_ver =
                                                <font color="#00994d">
                                                    hold_and_unhold_list_ver
                                                </font>
                                                (
                                                <font color="#0066cc">
                                                    snap_list_ver
                                                </font>
                                                );
                                            </li>
                                            <li>
                                                If min_held_list_ver changed :
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    min_held_list_ver
                                                </span>
                                                .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                                <br/>
                                            </li>
                                            <li>
                                                return "need to check for conflict";
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    committed_unit := CommittedUnit::from(
                                                </span>
                                                <font color="#0066cc">
                                                    staging
                                                </font>
                                                <span>
                                                    .take(),
                                                </span>
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                <span>
                                                    );
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        // Serializing is expensive, and we're doing it under mutex guard!
                                                    </span>
                                                    <br/>
                                                    <span>
                                                        On disk, serialize CommitInfo with ...
                                                    </span>
                                                    <br/>
                                                </li>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            commit_ver_lo_incl == commit_ver_hi_incl :=
                                                        </span>
                                                        <font color="#00994d">
                                                            next_commit_ver
                                                        </font>
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            timestamp_num := 0
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                                <li>
                                                    <span>
                                                        In memory, move each WritableMemLog into ReadonlyMemLog.
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    node := Box( ListNode( ... committed_unit ... ) )
                                                    <br/>
                                                </span>
                                                <font>
                                                    list.
                                                </font>
                                                <font color="#990099">
                                                    push
                                                </font>
                                                <span>
                                                    ( node );
                                                </span>
                                            </li>
                                            <li>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .tail_excl
                                                </span>
                                                <span>
                                                    .hold_count -= 1;    if
                                                </span>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .tail_excl
                                                </span>
                                                <span>
                                                    is Some
                                                    <br/>
                                                </span>
                                                <font color="#0066cc">
                                                    snap
                                                </font>
                                                <span>
                                                    .head_excl
                                                </span>
                                                <span>
                                                    .hold_count -= 1;
                                                </span>
                                            </li>
                                            <li>
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    replace_avail
                                                </span>
                                                .send( () );
                                                <br/>
                                                // The list is definitely replaceable, due to the presence of a new MemLog.
                                            </li>
                                            <li>
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                += 1;
                                            </li>
                                            <li>
                                                <span>
                                                    min_held_list_ver :=
                                                    <font color="#00994d">
                                                        unhold_list_ver
                                                    </font>
                                                    (
                                                    <font color="#0066cc">
                                                        snap_list_ver
                                                    </font>
                                                    );
                                                </span>
                                            </li>
                                            <li>
                                                If min_held_list_ver changed :
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    min_held_list_ver
                                                </span>
                                                .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                            </li>
                                            <li>
                                                <span>
                                                    return "just committed";
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3282" y="139" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::try_commit()...
                </text>
            </switch>
        </g>
        <path d="M 3360 965.81 L 3071.89 910.04" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="3360" y="920" width="560" height="200" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 927px; margin-left: 3362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    has_conflict()
                                </u>
                                <br/>
                                <ol>
                                    <li>
                                        committed_units :=
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        .filter( keep CommittedUnit and ignore Dummy );
                                    </li>
                                    <li>
                                        <span>
                                            For each CommittedUnit :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            For each of {PI and SIs} that was written-to in
                                            <font color="#0066cc">
                                                staging
                                            </font>
                                            :
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If {
                                                </span>
                                                <font color="#0066cc">
                                                    dependent_itvs_*
                                                </font>
                                                <span>
                                                    &lt;--&gt; CommittedEntrySet } overlap :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        Return "yes conflict".
                                                    </span>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            Return "no conflict".
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3362" y="939" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::has_conflict()...
                </text>
            </switch>
        </g>
        <path d="M 3000 710 L 3113.49 842.41 Q 3120 850 3110.01 850.36 L 2849.99 859.64 Q 2840 860 2831.32 855.04 L 2778.68 824.96 Q 2770 820 2777.65 813.56 L 2952.35 666.44 Q 2960 660 2966.25 667.81 L 3000 710" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/>
        <path d="M 2860 840 L 2860 873.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2860 878.88 L 2856.5 871.88 L 2860 873.63 L 2863.5 871.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2860" cy="890" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 3360 1210.71 L 3218.82 1155.25" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4120 1486.67 L 4536.46 1625.49" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4541.44 1627.15 L 4533.69 1628.25 L 4536.46 1625.49 L 4535.91 1621.61 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="3360" y="1160" width="760" height="400" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 758px; height: 1px; padding-top: 1167px; margin-left: 3362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    reset
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl.hold_count -= 1;    if
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl is Some
                                            <br/>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .head_excl.hold_count -= 1;
                                            <br/>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl = None;
                                            <br/>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .head_excl :=
                                            </span>
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            <span>
                                                () ...
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : dummy.hold_count += 1;
                                            </li>
                                            <li>
                                                Else : push new dummy w/ {
                                                <span>
                                                    hold_count=1,
                                                </span>
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                <span>
                                                    =false }
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            If {prior
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .tail_excl and/or
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            .head_excl became non-held} :
                                            <span style="color: rgb(153 , 0 , 0)">
                                                replace_avail
                                            </span>
                                            .send( () );
                                        </li>
                                        <li>
                                            <font color="#0066cc">
                                                snap_next_commit_ver
                                            </font>
                                            =
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                        </li>
                                        <li>
                                            <font color="#0066cc">
                                                snap_list_ver
                                            </font>
                                            , min_held_list_ver =
                                            <font color="#00994d">
                                                hold_and_unhold_list_ver
                                            </font>
                                            (
                                            <font color="#0066cc">
                                                snap_list_ver
                                            </font>
                                            );
                                        </li>
                                        <li>
                                            If min_held_list_ver changed :
                                            <span style="color: rgb(153 , 0 , 0)">
                                                min_held_list_ver
                                            </span>
                                            .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                        </li>
                                    </ol>
                                    <li>
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        = None;
                                    </li>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        .clear();
                                        <br/>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        .clear();
                                    </li>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        is Some :
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        .clear();
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3362" y="1179" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::reset()...
                </text>
            </switch>
        </g>
        <path d="M 2701.54 1280 L 2561.54 1158.67" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3080 1520 L 3311.06 1635.53 Q 3320 1640 3330 1639.92 L 4533.71 1630.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4538.96 1630.09 L 4531.99 1633.65 L 4533.71 1630.13 L 4531.93 1626.65 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2480" y="1280" width="720" height="240" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 1287px; margin-left: 2482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    close
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .tail_excl.hold_count -= 1;    if
                                            </span>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .tail_excl is Some
                                                <br/>
                                            </span>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .head_excl.hold_count -= 1;
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                If {prior
                                            </span>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .tail_excl and/or
                                            </span>
                                            <font color="#0066cc">
                                                snap
                                            </font>
                                            <span>
                                                .head_excl became non-held} :
                                            </span>
                                            <span style="color: rgb(153 , 0 , 0)">
                                                replace_avail
                                            </span>
                                            <span>
                                                .send( () );
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            min_held_list_ver :=
                                            <font color="#00994d">
                                                unhold_list_ver
                                            </font>
                                            (
                                            <font color="#0066cc">
                                                snap_list_ver
                                            </font>
                                            );
                                        </li>
                                        <li>
                                            If min_held_list_ver changed :
                                            <span style="color: rgb(153 , 0 , 0)">
                                                min_held_list_ver
                                            </span>
                                            .send_if_modified( if last-sent mhlv &lt; known mhlv );
                                        </li>
                                    </ol>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        is Some :
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        .remove_dir();
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2482" y="1299" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::close()...
                </text>
            </switch>
        </g>
        <rect x="2040" y="560" width="360" height="400" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 400px; padding-top: 560px; margin-left: 2040px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 400px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Txn&lt;'txn&gt;
                                    </b>
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - db: &amp;'txn Db
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#00cccc">
                                        db_state_guard
                                    </font>
                                    : RwLockReadGuard&lt; 'txn, DbState &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap: AtomicLinkedListSnapshot&lt; LsmElem &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_next_commit_ver: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_list_ver: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_vec: Opt&lt; Vec&lt; &amp;LsmElem &gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // A lazily-initialized Vec collection of snap.
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dependent_itvs_prim: IntervalSet&lt; &amp;'txn PK &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dependent_itvs_scnds: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) IntervalSet&lt; &amp;'txn SV &gt;
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - staging: Opt&lt; StagingUnit &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2040" y="572" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Txn&lt;'txn&gt;...
                </text>
            </switch>
        </g>
        <path d="M 4550 1620 L 4560 1630 L 4550 1640 L 4540 1630 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4240 137.78 L 4166.33 47.74 Q 4160 40 4150.01 40.36 L 3049.99 79.64 Q 3040 80 3033.93 87.94 L 2794.9 400.63" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="4240" y="80" width="560" height="800" fill="rgb(255, 255, 255)" stroke="#0066cc" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 87px; margin-left: 4242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                /* All these methdos are public to the client callback. */
                                <br/>
                                <br/>
                                Txn::
                                <u>
                                    get_pk_one
                                </u>
                                ( pk )
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        <span>
                                            .add( (pk,pk) );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        Get one from [stg, snap]. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    get_pk_range
                                </u>
                                ( pk_lo, pk_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        <span>
                                            .add( (pk_lo,pk_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        is None: collect it from
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        K-merge {stg + snap}. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    get_sv_range
                                </u>
                                ( sv_spec, sv_lo, sv_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            // This is a simplistic query engine, which depends on exactly one index.
                                            <br/>
                                        </span>
                                        If
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec] doesn't exist or
                                        </span>
                                        <font color="#00cccc">
                                            is_readable
                                        </font>
                                        <span>
                                            ==false: return failure.
                                            <br/>
                                        </span>
                                        si_num :=
                                        <font color="#00cccc">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec].si_num;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        <span>
                                            [si_num] doesn't exist: create new empty.
                                            <br/>
                                        </span>
                                        <font color="#0066cc">
                                            dependent_itvs_scnds
                                        </font>
                                        <span>
                                            [si_num].add( (sv_lo,sv_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        if
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        is None: collect it from
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        stg :=
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap_vec
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        K-merge {stg + snap}. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    put
                                </u>
                                ( pk, new_pv )
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#0066cc">
                                            dependent_itvs_prim
                                        </font>
                                        .add( (pk,pk) );
                                        <br/>
                                        // We must treat concurrent writes on the same PK as a conflict, because they generally invalidate deltas on SIs in staging.
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <font color="#0066cc">
                                            snap
                                        </font>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        old_pv := Get one from [stg, snap];
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            is None: create new empty.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each si_num in
                                        </span>
                                        <font color="#0066cc">
                                            db_state_guard
                                        </font>
                                        <span>
                                            .scnd_idxs :
                                            <br/>
                                        </span>
                                        // Assess all SIs, regardless of `
                                        <font color="#00cccc">
                                            is_readable
                                        </font>
                                        <span>
                                            `.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If there is a delta for this SI:
                                        </li>
                                        <ol>
                                            <li>
                                                If
                                                <font color="#0066cc">
                                                    staging
                                                </font>
                                                .scnds[si_num] doesn't exist: create new empty.
                                                <br/>
                                                <font color="#0066cc">
                                                    staging
                                                </font>
                                                .scnds[si_num].put( the_delta );
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <font color="#0066cc">
                                            staging
                                        </font>
                                        <span>
                                            .prim
                                        </span>
                                        <span>
                                            .put( (PK,PV) );
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4242" y="99" fill="#000000" font-family="Helvetica" font-size="12px">
                    /* All these methdos are public to the client callback. */...
                </text>
            </switch>
        </g>
        <path d="M 2140 2480 L 2140 2366.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2140 2361.12 L 2143.5 2368.12 L 2140 2366.37 L 2136.5 2368.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2420px; margin-left: 2140px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2140" y="2423" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <rect x="1920" y="2480" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 2480px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CompactedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; CommittedEntrySet&lt;PK,PV&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) CommittedEntrySet&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new_empty( StagingUnit, CommitVer ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_empty() -&gt; bool
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="2492" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CompactedUnit...
                </text>
            </switch>
        </g>
        <path d="M 2360 2496.15 L 2507.06 2400" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2502.55 2407.73 L 2498.17 2401.03 M 2504.87 2396.65 L 2500.36 2404.38 L 2509.25 2403.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2729.08 430.58 L 2649.77 447.87 Q 2640 450 2638.57 459.9 L 2543.81 1113.72" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2543.06 1118.92 L 2540.6 1111.49 L 2543.81 1113.72 L 2547.53 1112.49 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 739px; margin-left: 2598px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                error
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2598" y="743" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    error
                </text>
            </switch>
        </g>
        <rect x="0" y="0" width="160" height="160" fill="none" stroke="#e6e6e6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 150px; height: 1px; padding-top: 80px; margin-left: 5px;">
                        <div data-drawio-colors="color: #E6E6E6; " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(230, 230, 230); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                (An anchor at the origin. This might help reduce svg line changes.)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="80" y="84" fill="#E6E6E6" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    (An anchor at the origin....
                </text>
            </switch>
        </g>
        <rect x="5280" y="2880" width="560" height="360" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 2887px; margin-left: 5282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    compact_one_segment
                                </u>
                                ( segm_head_excl )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            slice := [ ];
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            prev := segm_head_excl;
                                            <br/>
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                curr := cut_non_boundary_dummies( prev );
                                            </span>
                                        </li>
                                        <li>
                                            match curr :
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    case CommittedUnit :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    slice.push( curr );
                                                </li>
                                                <li>
                                                    prev = curr;
                                                </li>
                                            </ol>
                                            <li>
                                                case nullptr or dummy :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            If {slice.len() &gt; 1} or {slice contains at least one MemLog} :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                skip_tombstones := ( curr is nullptr );
                                                <br/>
                                                compacted_node := do_flush_and_compact( slice, skip_tombstones );
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                replace( segm_head_excl, curr, compacted_node, slice );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        return curr;
                                    </li>
                                </ol>
                                <ul></ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5282" y="2899" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::compact_one_segment( segm_head_excl )...
                </text>
            </switch>
        </g>
        <rect x="5280" y="2440" width="560" height="360" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 2447px; margin-left: 5282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    traverse_and_compact
                                </u>
                                ( snap_head_excl )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            segm_head_excl := snap_head_excl;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                curr := compact_one_segment( segm_head_excl );
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                match curr :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                case dummy with {
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false } /* or CommittedUnit */ :
                                            </li>
                                            <ol>
                                                <li>
                                                    segm_head_excl = curr;
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    case nullptr or fence dummy :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                </ol>
                                <ul></ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5282" y="2459" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::traverse_and_compact( snap_head_excl )...
                </text>
            </switch>
        </g>
        <path d="M 5560 2800 L 5560 2873.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5560 2878.88 L 5556.5 2871.88 L 5560 2873.63 L 5563.5 2871.88 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3020" cy="820" rx="59.99999999999999" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 820px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn:: update_snapshot()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="824" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn:: update_snapsho...
                </text>
            </switch>
        </g>
        <path d="M 3020 840 L 3020 873.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3020 878.88 L 3016.5 871.88 L 3020 873.63 L 3023.5 871.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4449.09 2455.9 L 4560 2438.71" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3920 2200 L 4440 2200 L 4440 2770 L 4200 2770 L 4180 2800 L 4180 2770 L 3920 2770 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,4180,2500)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 567px; height: 1px; padding-top: 2247px; margin-left: 3882px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Termination sequence
                                <br/>
                                <br/>
                                This sequence works in cooperation with
                                <br/>
                                <ul>
                                    <li>
                                        DB::terminate()
                                    </li>
                                    <li>
                                        Txn::run()
                                    </li>
                                </ul>
                                <div>
                                    Steps:
                                </div>
                                <ol>
                                    <li>
                                        <font color="#00cccc">
                                            is_terminating
                                        </font>
                                        bool is set to true.
                                        <br/>
                                        From now on, no new txn can start.
                                        <br/>
                                        Note, already-running txns can still additionally hold
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        <font color="#990000">
                                            is_terminating
                                        </font>
                                        Conditional Variable is set.
                                        <br/>
                                        F+C is notified.
                                        <br/>
                                    </li>
                                    <li>
                                        While F+C's local
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        is not empty :
                                    </li>
                                    <ol>
                                        <li>
                                            F+C waits on
                                            <span style="color: rgb(153 , 0 , 0)">
                                                min_held_list_ver
                                            </span>
                                            .
                                        </li>
                                        <li>
                                            F+C removes from
                                            <font color="#cc6600">
                                                dangling_nodes
                                            </font>
                                            .
                                        </li>
                                    </ol>
                                    <li>
                                        /*
                                        <br/>
                                        <span style="color: rgb(153 , 0 , 0)">
                                            min_held_list_ver
                                        </span>
                                        does not inform whether
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        is held or not. But this is irrelevant for the purpose of GC.
                                        <br/>
                                        <span style="color: rgb(153 , 0 , 0)">
                                            min_held_list_ver
                                        </span>
                                        does not inform whether all list_vers &lt;
                                        <span style="color: rgb(0 , 153 , 77)">
                                            curr_list_ver
                                        </span>
                                        are non-held. Reason: F+C may bump
                                        <span style="color: rgb(0 , 153 , 77)">
                                            curr_list_ver
                                        </span>
                                        .
                                        <br/>
                                        Therefore, we omit the above while-loop.
                                        <br/>
                                        */
                                    </li>
                                    <li>
                                        <span>
                                            While
                                        </span>
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        <span>
                                            is not empty :
                                        </span>
                                        <br/>
                                        // It would suffice to check whether
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        is empty except for potentially
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        .
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            Sleep a bit.
                                        </li>
                                    </ol>
                                    <li>
                                        GC all nodes in
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        .
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3882" y="2259" fill="#000000" font-family="Helvetica" font-size="12px">
                    Termination sequence...
                </text>
            </switch>
        </g>
        <rect x="4560" y="2280" width="480" height="240" fill="rgb(255, 255, 255)" stroke="#cc6600" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 2287px; margin-left: 4562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    poll_held_list_vers_then_gc
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        While true :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                With
                                            </span>
                                            <font color="#00994d">
                                                lsm_state
                                            </font>
                                            <span>
                                                .lock_exclusive() :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If
                                                </span>
                                                <font color="#00994d">
                                                    held_list_vers
                                                </font>
                                                <span>
                                                    is empty :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                Sleep a bit;
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        For each (_, nodes) in
                                        <font color="#cc6600">
                                            dangling_nodes
                                        </font>
                                        :
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            For each node :
                                        </li>
                                        <ol>
                                            <li>
                                                Remove files. Drop memory.
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4562" y="2299" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::poll_held_list_vers_then_gc()...
                </text>
            </switch>
        </g>
        <path d="M 5240 2060.57 L 4960.6 2276.11" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4956.44 2279.32 L 4959.85 2272.27 L 4960.6 2276.11 L 4964.12 2277.81 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1360" y="160" width="440" height="200" fill="rgb(255, 255, 255)" stroke="#0066cc" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 167px; margin-left: 1362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    run
                                </u>
                                ( db, client_cb )
                                <br/>
                                <ol>
                                    <li>
                                        With db_state_guard =
                                        <font color="#00cccc">
                                            db_state
                                        </font>
                                        .lock_shared() :
                                        <br/>
                                        // This guard is held for the duration of the txn.
                                    </li>
                                    <ol>
                                        <li>
                                            txn := Txn::new( ... );
                                        </li>
                                        <li>
                                            Make the txn go through state transitions.
                                        </li>
                                        <li>
                                            Return what client_cb returns.
                                        </li>
                                    </ol>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1362" y="179" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::run( db, client_cb )...
                </text>
            </switch>
        </g>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Viewer does not support full SVG 1.1
            </text>
        </a>
    </switch>
</svg>