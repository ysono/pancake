<svg host="65bd71144e" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="7801px" height="3761px" viewBox="-0.5 -0.5 7801 3761" content="&lt;mxfile&gt;&lt;diagram id=&quot;RcHnaSoGghIKxj3INRLX&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);">
    <defs>
        <linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-e6e6e6-1-808080-1-s-0">
            <stop offset="0%" style="stop-color: rgb(230, 230, 230); stop-opacity: 1;"/>
            <stop offset="100%" style="stop-color: rgb(128, 128, 128); stop-opacity: 1;"/>
        </linearGradient>
    </defs>
    <g>
        <path d="M 2204 960 L 2154.04 1584.55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2153.76" cy="1588.04" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2149.13 1595.69 L 2157.11 1596.33 M 2153.48 1591.53 L 2152.8 1600" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2040 715 L 1960 695" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1968.73 693.06 L 1966.79 700.82 M 1959.03 698.88 L 1967.76 696.94 L 1960.97 691.12" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4557.06 1632.94 L 4976.82 1807.55" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4981.67 1809.57 L 4973.86 1810.11 L 4976.82 1807.55 L 4976.55 1803.65 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5240 1990 L 5046.24 2029.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5041.1 2030.69 L 5047.25 2025.85 L 5046.24 2029.63 L 5048.65 2032.71 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5760 1990 L 6233.85 2117.58" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6238.92 2118.94 L 6231.25 2120.5 L 6233.85 2117.58 L 6233.07 2113.74 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5240 2120 L 5275.4 2155.12" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5279.13 2158.81 L 5271.69 2156.37 L 5275.4 2155.12 L 5276.62 2151.4 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5500 1600 L 5500 1560" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="5240" y="1600" width="520" height="520" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 518px; height: 1px; padding-top: 1607px; margin-left: 5242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Actor
                                <u>
                                    flush_and_compact_job
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            While true:
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            `Select` all channels.
                                        </li>
                                        <ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    is_terminating
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    gc_avail
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    gc_dangling_nodes( itv );
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    case
                                                </span>
                                                <span>
                                                    <font color="#990000">
                                                        replace_avail
                                                    </font>
                                                    :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    flush_and_compact();
                                                </li>
                                            </ol>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    scnd_idx_creation_request
                                                </font>
                                                :
                                            </li>
                                            <ol>
                                                <li>
                                                    prep_for_si_creation( req );
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <font color="#990000" style="color: rgb(153 , 0 , 0)">
                                            gc_avail
                                        </font>
                                        <span>
                                            .close();
                                            <br/>
                                        </span>
                                        <font color="#990000">
                                            scnd_idx_creation_request
                                        </font>
                                        <span>
                                            .close();
                                        </span>
                                    </li>
                                    <li>
                                        poll_held_list_vers_then_gc();
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5242" y="1619" fill="#000000" font-family="Helvetica" font-size="12px">
                    Actor flush_and_compact_job()...
                </text>
            </switch>
        </g>
        <rect x="4560" y="1960" width="480" height="240" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 1967px; margin-left: 4562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    gc_dangling_nodes
                                </u>
                                ( GcAbleInterval )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            Pop these entries ...
                                            <br/>
                                        </span>
                                        <u>
                                            dangling_nodes
                                        </u>
                                        <br/>
                                        .filter( gc.lo &lt;= dang.lo &amp;&amp; dang.hi &lt;= gc.hi )
                                    </li>
                                    <li>
                                        For each popped entry :
                                    </li>
                                    <ol>
                                        <li>
                                            For each node :
                                        </li>
                                        <ol>
                                            <li>
                                                Pop from queue.
                                            </li>
                                            <li>
                                                Remove files. Drop memory.
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4562" y="1979" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::gc_dangling_nodes( GcAbleInterval )...
                </text>
            </switch>
        </g>
        <path d="M 5952.7 1770 L 5786.73 1952.6 Q 5780 1960 5789.54 1963.01 L 6233.93 2103.35" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6238.93 2104.93 L 6231.2 2106.16 L 6233.93 2103.35 L 6233.31 2099.48 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5958 1780 C 5954.65 1777.78 5952.63 1774.02 5952.63 1770 C 5952.63 1765.98 5954.65 1762.22 5958 1760 L 6042 1760 C 6045.35 1762.22 6047.37 1765.98 6047.37 1770 C 6047.37 1774.02 6045.35 1777.78 6042 1780 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6042 1760 C 6045.35 1762.22 6047.37 1765.98 6047.37 1770 C 6047.37 1774.02 6045.35 1777.78 6042 1780 C 6038.65 1777.78 6036.63 1774.02 6036.63 1770 C 6036.63 1765.98 6038.65 1762.22 6042 1760" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1787px; margin-left: 6000px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                scnd_idx_creation_request
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6000" y="1800" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    scnd_idx_creati...
                </text>
            </switch>
        </g>
        <rect x="6240" y="1920" width="600" height="560" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1927px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    prep_for_si_creation
                                </u>
                                ( ScndIdxCreationRequest )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            // F+C does a sweep of the LL once, before delivering SICr new work.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                            // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            snap_head_excl :=
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            () ...
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy w/
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false : dummy.
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                = true;
                                            </li>
                                            <li>
                                                Else : push new dummy w/
                                                <br/>
                                                { traversable_list_ver_lo_incl=
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                , hold_count=0,
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =true }
                                            </li>
                                        </ol>
                                        <li>
                                            output_commit_ver :=
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                            <br/>
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            += 1;
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            merge_segments( snap_head_excl );
                                            <br/>
                                        </span>
                                        // Here, compaction is optional. But we reuse code, and compact anyway.
                                    </li>
                                    <li>
                                        work := ScndIdxCreationWork( snap_head_excl, output_commit_ver, req );
                                        <br/>
                                        <font color="#990000">
                                            scnd_idx_creation_work
                                        </font>
                                        <span>
                                            .send( work );
                                        </span>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="1939" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::prep_for_si_creation( ScndIdxCreationRequest )...
                </text>
            </switch>
        </g>
        <path d="M 620 2240 L 620 2280" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 616 2276 L 624 2276" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 840 2121.94 L 960 2199.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 954.47 2200.55 L 958.81 2193.83" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1216 2680 L 1209.6 2760" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1205.93 2755.69 L 1213.91 2756.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1520 2286.67 L 1585.3 2264.9" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1588.62" cy="2263.79" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1598.74 2256.21 L 1592.41 2262.53 L 1601.26 2263.79 M 1592.41 2262.53 L 1600 2260" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6000 1760 L 6000 1720" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1000 1555 L 1113.65 1564.47" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1118.89 1564.91 L 1111.62 1567.81 L 1113.65 1564.47 L 1112.2 1560.84 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1560px; margin-left: 1060px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                formats new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1060" y="1563" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    formats new
                </text>
            </switch>
        </g>
        <path d="M 1840 2328.57 L 1905.75 2300.39" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1908.97" cy="2299.01" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1917.9 2299.54 L 1914.75 2292.18 M 1912.19 2297.63 L 1920 2294.29" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 530 3080 L 509.3 3107.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="507.2" cy="3110.4" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 503.2 3122.4 L 504.8 3113.6 L 496.8 3117.6 M 504.8 3113.6 L 500 3120" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="400" y="2840" width="440" height="240" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 2840px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxsState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + scnd_idxs: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) Arc&lt; SVSpec &gt;
                                    </li>
                                    <li>
                                        (value) ScndIdxState
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - next_scnd_idx_num: ScndIdxNum
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="2852" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxsState...
                </text>
            </switch>
        </g>
        <path d="M 1920 2126.67 L 1849.49 2103.16 Q 1840 2100 1830.74 2096.23 L 1440 1937.04" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1445.21 1934.84 L 1442.2 1942.25" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2360 2242.31 L 2440 2257.69" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2431.39 2260.11 L 2432.9 2252.25 M 2440.76 2253.76 L 2432.14 2256.18 L 2439.24 2261.62" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1866.88 L 1520 1859.38" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1516.39 1863.73 L 1515.64 1855.77" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1810 L 1520 1770" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1518.21 1766.42 L 1512.84 1773.58 L 1521.79 1773.58" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1440 1920 L 1850.38 2037.25 Q 1860 2040 1868.68 2044.96 L 1914.47 2071.13" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1919.03 2073.73 L 1911.22 2073.3 L 1914.47 2071.13 L 1914.69 2067.22 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1990px; margin-left: 1683px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                load into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1683" y="1993" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    load into
                </text>
            </switch>
        </g>
        <path d="M 2710 2200 L 2723.07 2173.86" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2724.63" cy="2170.73" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2731.79 2165.37 L 2724.63 2161.79 M 2726.2 2167.6 L 2730 2160" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2706.15 2400 L 2718.12 2425.93" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="2719.59" cy="2429.1" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2719.31 2438.04 L 2726.57 2434.69 M 2721.05 2432.28 L 2724.62 2440" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2880 2251.88 L 3153.78 2191.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3158.91 2190.86 L 3152.82 2195.78 L 3153.78 2191.99 L 3151.32 2188.94 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2221px; margin-left: 3020px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="2225" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <rect x="2440" y="2200" width="440" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 438px; height: 1px; padding-top: 2207px; margin-left: 2442px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    CommittedEntrySet&lt;K, V&gt;
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li>
                                        RMemLog( ReadOnlyMemlog&lt;K, V&gt; )
                                    </li>
                                    <li>
                                        SSTable( SSTable&lt;K, V&gt; )
                                    </li>
                                </ul>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Entry&lt;K, ()&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2442" y="2219" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum CommittedEntrySet&lt;K, V&gt;:...
                </text>
            </switch>
        </g>
        <path d="M 1400 2900 L 1464.58 2906.46" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1468.06" cy="2906.81" rx="3" ry="3" fill="none" stroke="#000000" pointer-events="all"/>
        <path d="M 1480.4 2904.02 L 1472.04 2907.2 L 1479.6 2911.98 M 1472.04 2907.2 L 1480 2908" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1200 3000 L 1200 3073.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="1 4" pointer-events="stroke"/>
        <path d="M 1200 3078.88 L 1196.5 3071.88 L 1200 3073.63 L 1203.5 3071.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3040px; margin-left: 1200px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is implicitly related to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1200" y="3043" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is implicitly related to
                </text>
            </switch>
        </g>
        <rect x="1000" y="2760" width="400" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 240px; padding-top: 2760px; margin-left: 1000px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AtomicLinkedList&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_ptr: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + from_elems( Iter&lt;T&gt; ) -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head() -&gt; &amp;ListNode&lt;T&gt;
                                </p>
                                <p></p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#990099">
                                        push_elem
                                    </font>
                                    <span>
                                        ( T ) -&gt; &amp;ListNode&lt;T&gt;
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#990099">
                                        push_node
                                    </font>
                                    ( Box&lt; ListNode&lt;T&gt; &gt; ) -&gt; &amp;ListNode&lt;T&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + iter() -&gt; Iter&lt; &amp;T &gt;
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1000" y="2772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AtomicLinkedList&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1480" y="2880" width="240" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 80px; padding-top: 2880px; margin-left: 1480px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ListNode&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + elem: T
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + next: AtomicPtr&lt; ListNode&lt;T&gt; &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1480" y="2892" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ListNode&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1520" y="1800" width="200" height="100" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 100px; padding-top: 1800px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 100px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        TimestampNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + inc_from(Iter&lt;Self&gt;) -&gt; Self
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="1812" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    TimestampNum...
                </text>
            </switch>
        </g>
        <rect x="1520" y="1720" width="80" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 82px; height: 60px; padding-top: 1720px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 80px; height: 60px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitVer
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="1732" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitVer...
                </text>
            </switch>
        </g>
        <path d="M 1300 1680 L 1300 1753.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1300 1758.88 L 1296.5 1751.88 L 1300 1753.63 L 1303.5 1751.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1720px; margin-left: 1300px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1300" y="1723" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 1480 1618.57 L 1913.77 1711.52" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1918.91 1712.62 L 1911.33 1714.58 L 1913.77 1711.52 L 1912.8 1707.73 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1666px; margin-left: 1700px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1700" y="1669" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into new
                </text>
            </switch>
        </g>
        <rect x="640" y="3120" width="200" height="160" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 160px; padding-top: 3120px; margin-left: 640px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxNum
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + u64
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + inc_from(Iter&lt;Self&gt;) -&gt; Self
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + get_and_inc() -&gt; Self
                                    </span>
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="640" y="3132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxNum...
                </text>
            </switch>
        </g>
        <rect x="2560" y="1960" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 1960px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ReadonlyMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + memtable: BTreeMap&lt; K, OptDatum&lt;V&gt; &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - log_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; ( &amp;K, &amp;OptDat&lt;V&gt; ) &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; ( &amp;K, &amp;OptDat&lt;V&gt; ) &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="1972" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ReadonlyMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <rect x="2560" y="2440" width="440" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 240px; padding-top: 2440px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SSTable&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - sparse_file_offsets: Vec&lt; (K, u64) &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - kv_file_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + new( Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                    </span>
                                    <span>
                                        ) -&gt; Res&lt; Self &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_one( &amp;Q ) -&gt; Opt&lt; Res&lt;( K, OptDat&lt;V&gt; )&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_range( Opt&lt;&amp;Q&gt;, Opt&lt;&amp;Q&gt; ) -&gt; Iter&lt; Res&lt;( K, OptDat&lt;V&gt; )&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + get_all_keys() -&gt; Iter&lt; Res&lt;K&gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_file() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="2452" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SSTable&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 2817.5 1840 L 2836.49 1890.64 Q 2840 1900 2836.49 1909.36 L 2819.74 1954.04" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2817.89 1958.95 L 2817.07 1951.17 L 2819.74 1954.04 L 2823.63 1953.63 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1900px; margin-left: 2840px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2840" y="1903" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 2903.81 1840 L 3155.05 2042.92" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3159.13 2046.22 L 3151.49 2044.55 L 3155.05 2042.92 L 3155.88 2039.1 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1944px; margin-left: 3032px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is arg to
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3032" y="1947" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    is arg to
                </text>
            </switch>
        </g>
        <path d="M 2742.5 1840 L 2723.51 1890.64 Q 2720 1900 2723.51 1909.36 L 2742.5 1960" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2737.35 1957.66 L 2744.84 1954.85" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2560" y="1640" width="440" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 200px; padding-top: 1640px; margin-left: 2560px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        WritableMemLog&lt;K, V&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + r_memlog: ReadonlyMemLog&lt;K, V&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + log_writer: DatumWriter
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + put( K, OptDatum&lt;V&gt; ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + into() -&gt; ReadonlyMemLog&lt;K,V&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2560" y="1652" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    WritableMemLog&lt;K, V&gt;...
                </text>
            </switch>
        </g>
        <path d="M 3160 2482.59 L 3006.24 2513.91" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3001.1 2514.96 L 3007.26 2510.14 L 3006.24 2513.91 L 3008.65 2516.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2499px; margin-left: 3080px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                constructs
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3080" y="2502" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    constructs
                </text>
            </switch>
        </g>
        <rect x="3160" y="2360" width="320" height="180" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 2367px; margin-left: 3162px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;">
                                enum
                                <b>
                                    Entry
                                </b>
                                &lt;'a, K, V&gt; {
                                <br/>
                                Ref(( &amp;'a K, &amp;'a V )),
                                <br/>
                                Own(Res&lt;( K, V )&gt;),
                                <br/>
                                }
                                <br/>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + try_borrow() -&gt; Res&lt;( &amp;'a K, &amp;'a V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + take_kv() -&gt; Res&lt;( K, V )&gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    etc
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3162" y="2379" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    enum Entry&lt;'a, K, V&gt; {...
                </text>
            </switch>
        </g>
        <path d="M 3308.28 2280 L 3313.35 2353.65" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3313.72 2358.88 L 3309.74 2352.14 L 3313.35 2353.65 L 3316.73 2351.66 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2320px; margin-left: 3311px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                produces
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3311" y="2323" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    produces
                </text>
            </switch>
        </g>
        <rect x="3160" y="2040" width="280" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 2047px; margin-left: 3162px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                fn
                                <b>
                                    merge_committed_entrysets
                                </b>
                                (
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                                <br/>
                                <br/>
                                fn
                                <b>
                                    merge_txnlocal_and_committed_entrysets
                                </b>
                                (
                                <br/>
                                Opt&lt; &amp;WritableMemLog&lt;K, V&gt; &gt;,
                                <br/>
                                Iter&lt; &amp;CommittedEntrySet&lt;K, V&gt; &gt;,
                                <br/>
                                k_lo: Opt&lt;&amp;Q&gt;,
                                <br/>
                                k_hi: Opt&lt;&amp;Q&gt;,
                                <br/>
                                ) -&gt; Iter&lt; Entry&lt;K, OptDat&lt;V&gt;&gt; &gt;
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3162" y="2059" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    fn merge_committed_entrysets(...
                </text>
            </switch>
        </g>
        <path d="M 2360 1753.13 L 2560 1746.88" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2556.13 1751 L 2555.88 1743" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2140 1920 L 2140 2033.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2140 2038.88 L 2136.5 2031.88 L 2140 2033.63 L 2143.5 2031.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1980px; margin-left: 2140px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2140" y="1983" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <path d="M 5280 1358 L 5215.42 1351.54" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="5211.94" cy="1351.19" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 5199.6 1353.98 L 5207.96 1350.8 L 5200.4 1346.02 M 5207.96 1350.8 L 5200 1350" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="5280" y="1200" width="440" height="360" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 360px; padding-top: 1200px; margin-left: 5280px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 360px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        FCJob
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: Arc&lt; DB &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dangling_nodes: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) NodeListVerInterval
                                    </li>
                                    <li>
                                        (value) Vec&lt; SendPtr&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    // rx
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        gc_avail
                                    </font>
                                    : mpsc::Receiver&lt; GcAbleInterval &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <span style="color: rgb(153 , 0 , 0)">
                                        replace_avail
                                    </span>
                                    : watch::Receiver&lt; () &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        scnd_idx_creation_request
                                    </font>
                                    : mpsc::Receiver&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Receiver&lt; () &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        <br/>
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        // tx
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        sicr_work
                                    </font>
                                    : mpsc::Sender&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5280" y="1212" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    FCJob...
                </text>
            </switch>
        </g>
        <path d="M 6240 1711.33 L 6053.39 1768.15" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6048.37 1769.67 L 6054.05 1764.29 L 6053.39 1768.15 L 6056.09 1770.98 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 160 1680 L 280 1680 L 280 1930 L 240 1930 L 220 1960 L 220 1930 L 160 1930 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,220,1820)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 248px; height: 1px; padding-top: 1767px; margin-left: 82px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                If a thread is to lock both
                                <span style="color: rgb(51 , 153 , 255)">
                                    db_state
                                </span>
                                and
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                , it must lock
                                <span style="color: rgb(51 , 153 , 255)">
                                    db_state
                                </span>
                                first, then
                                <span style="color: rgb(0 , 153 , 77)">
                                    lsm_state
                                </span>
                                .
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="82" y="1779" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    If a thread is to lock both db_state and...
                </text>
            </switch>
        </g>
        <rect x="1200" y="1000" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1007px; margin-left: 1202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    File paths
                                </u>
                                <br/>
                                <ul>
                                    <li>
                                        db_root/
                                    </li>
                                    <ul>
                                        <li>
                                            scnd_idxs_state.txt
                                            <br/>
                                            (Contains a) definitions of all secondary indexes, b) next_scnd_idx_num.)
                                        </li>
                                        <li>
                                            lsm/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt;anti_collision_num&gt;/
                                                <br/>
                                                (Either StagingUnit or CommittedUnit.)
                                            </li>
                                            <ul>
                                                <li>
                                                    pi.kv
                                                </li>
                                                <li>
                                                    si-&lt;scnd_idx_num&gt;.kv
                                                </li>
                                                <li>
                                                    (... other SIs)
                                                </li>
                                                <li>
                                                    (All entrysets (PI or SI) are optional.)
                                                </li>
                                                <li>
                                                    commit_info.txt
                                                    <br/>
                                                    (This file is present iff this unit was attempted commitment.
                                                    <br/>
                                                    There is currently no way to distinguish a failed and a finalized commit.)
                                                </li>
                                            </ul>
                                            <li>
                                                (... other unit dirs)
                                            </li>
                                        </ul>
                                        <li>
                                            si_cr_job/
                                        </li>
                                        <ul>
                                            <li>
                                                &lt; temporary SSTables &gt;
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1202" y="1019" fill="#000000" font-family="Helvetica" font-size="12px">
                    File paths...
                </text>
            </switch>
        </g>
        <rect x="1800" y="760" width="120" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 122px; height: 80px; padding-top: 760px; margin-left: 1800px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 120px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Interval&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + lo_incl: Opt&lt;T&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + hi_incl: Opt&lt;T&gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1800" y="772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Interval&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="1600" y="2320" width="240" height="120" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 238px; height: 1px; padding-top: 2327px; margin-left: 1602px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                enum
                                <b>
                                    LsmElemContent
                                </b>
                                :
                                <br/>
                                <ul>
                                    <li>
                                        Unit( CommittedUnit )
                                    </li>
                                    <li>
                                        Dummy{ ... }
                                    </li>
                                    <ul>
                                        <li>
                                            hold_count: AtomicUsize
                                            <br/>
                                        </li>
                                        <li>
                                            <font color="#cccc00">
                                                is_fence
                                            </font>
                                            : AtomicBool
                                        </li>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1602" y="2339" fill="#000000" font-family="Helvetica" font-size="12px">
                    enum LsmElemContent:...
                </text>
            </switch>
        </g>
        <path d="M 560 3200 L 640 3200" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 636 3204 L 636 3196" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="320" y="3120" width="240" height="160" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 160px; padding-top: 3120px; margin-left: 320px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxState
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnd_idx_num: ScndIdxNum
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    +
                                    <font color="#3399ff">
                                        is_readable
                                    </font>
                                    : bool
                                </p>
                                <div>
                                    <hr size="1"/>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + ser( ... ) -&gt; Res&lt; () &gt;
                                    </p>
                                    <p style="margin: 0px 0px 0px 4px">
                                        + deser( ... ) -&gt; Res&lt; Self &gt;
                                    </p>
                                </div>
                                <div>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="320" y="3132" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxState...
                </text>
            </switch>
        </g>
        <rect x="5320" y="200" width="800" height="600" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 798px; height: 1px; padding-top: 207px; margin-left: 5322px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <b>
                                    TODO
                                </b>
                                <br/>
                                <ul>
                                    <li>
                                        <span>
                                            Txn
                                        </span>
                                        <br/>
                                    </li>
                                    <ul>
                                        <li>
                                            Handle crash. Do not trust `run_txn`, which is client-provided.
                                        </li>
                                        <ul>
                                            <li>
                                                <span>
                                                    Unhold commit_ver(s) and list_ver. Delete staging unit dir.
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    Handle this anomaly:
                                                </span>
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        1) commit_info.txt is written
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        2) crash
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        Problem: Actually committed CommittedUnit vs never pushed CommittedUnit are indistinguishable.
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        Possible solution:
                                                    </span>
                                                </li>
                                                <ul>
                                                    <li>
                                                        <span>
                                                            1) run_txn writes commit_info.txt with timestamp_num=None
                                                        </span>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            2) run_txn pushes to LL
                                                        </span>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            3) run_txn always notifies F+C
                                                        </span>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            4) F+C goes through recent commits, and sets timestamp_num=Some(zero)
                                                        </span>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            5) F+C messages back
                                                        </span>
                                                        run_txn
                                                    </li>
                                                    <li>
                                                        6) run_txn returns
                                                    </li>
                                                </ul>
                                            </ul>
                                        </ul>
                                    </ul>
                                    <li>
                                        <span>
                                            F+C
                                        </span>
                                        <br/>
                                    </li>
                                    <ul>
                                        <li>
                                            <span>
                                                Levelled compaction.
                                            </span>
                                        </li>
                                        <ul>
                                            <li>
                                                <span>
                                                    Each CommittedUnit, can have levelled compaction within.
                                                </span>
                                            </li>
                                        </ul>
                                    </ul>
                                </ul>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div>
                                    <br/>
                                </div>
                                <div style="text-align: right">
                                    <span style="text-align: center">
                                        https://github.com/ysono/pancake/
                                    </span>
                                    <br/>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5322" y="219" fill="#000000" font-family="Helvetica" font-size="12px">
                    TODO...
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1650 L 5234.3 1728" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5239 1730.33 L 5231.17 1730.35 L 5234.3 1728 L 5234.29 1724.08 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4988 1660 C 4984.65 1657.78 4982.63 1654.02 4982.63 1650 C 4982.63 1645.98 4984.65 1642.22 4988 1640 L 5072 1640 C 5075.35 1642.22 5077.37 1645.98 5077.37 1650 C 5077.37 1654.02 5075.35 1657.78 5072 1660 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1640 C 5075.35 1642.22 5077.37 1645.98 5077.37 1650 C 5077.37 1654.02 5075.35 1657.78 5072 1660 C 5068.65 1657.78 5066.63 1654.02 5066.63 1650 C 5066.63 1645.98 5068.65 1642.22 5072 1640" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1667px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is_terminating
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1680" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    is_terminating
                </text>
            </switch>
        </g>
        <path d="M 6920 3027.14 L 6738.51 3195.67" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6734.67 3199.24 L 6737.41 3191.91 L 6738.51 3195.67 L 6742.18 3197.04 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6840 3316.12 L 6956.47 3291.33" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6961.61 3290.23 L 6955.49 3295.11 L 6956.47 3291.33 L 6954.03 3288.27 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7280 2860 L 7360 2860" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="6920" y="2680" width="360" height="360" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 358px; height: 1px; padding-top: 2687px; margin-left: 6922px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Actor
                                <u>
                                    scnd_idx_creation_job
                                </u>
                                ()
                                <br/>
                                <ul>
                                    <li>
                                        While true:
                                    </li>
                                    <ul>
                                        <li>
                                            `Select` all channels.
                                        </li>
                                        <ul>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    is_terminating
                                                </font>
                                                :
                                            </li>
                                            <ul>
                                                <li>
                                                    break;
                                                </li>
                                            </ul>
                                            <li>
                                                case
                                                <font color="#990000">
                                                    scnd_idx_creation_work
                                                </font>
                                                :
                                            </li>
                                            <ul>
                                                <li>
                                                    <span>
                                                        do_create();
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        notify_termination();
                                                    </span>
                                                </li>
                                            </ul>
                                        </ul>
                                    </ul>
                                </ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6922" y="2699" fill="#000000" font-family="Helvetica" font-size="12px">
                    Actor scnd_idx_creation_job()...
                </text>
            </switch>
        </g>
        <path d="M 7017.3 2610 L 7038.46 2673.95" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 7040.1 2678.94 L 7034.58 2673.39 L 7038.46 2673.95 L 7041.23 2671.19 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6977.33 2600 L 7036 2520" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6928 2620 C 6924.65 2617.78 6922.63 2614.02 6922.63 2610 C 6922.63 2605.98 6924.65 2602.22 6928 2600 L 7012 2600 C 7015.35 2602.22 7017.37 2605.98 7017.37 2610 C 7017.37 2614.02 7015.35 2617.78 7012 2620 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7012 2600 C 7015.35 2602.22 7017.37 2605.98 7017.37 2610 C 7017.37 2614.02 7015.35 2617.78 7012 2620 C 7008.65 2617.78 7006.63 2614.02 7006.63 2610 C 7006.63 2605.98 7008.65 2602.22 7012 2600" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2627px; margin-left: 6970px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                scnd_idx_creation_work
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6970" y="2640" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    scnd_idx_creati...
                </text>
            </switch>
        </g>
        <path d="M 7257.3 2610 L 7216.65 2674.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 7213.85 2679.05 L 7214.62 2671.27 L 7216.65 2674.61 L 7220.54 2674.99 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7168 2620 C 7164.65 2617.78 7162.63 2614.02 7162.63 2610 C 7162.63 2605.98 7164.65 2602.22 7168 2600 L 7252 2600 C 7255.35 2602.22 7257.37 2605.98 7257.37 2610 C 7257.37 2614.02 7255.35 2617.78 7252 2620 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7252 2600 C 7255.35 2602.22 7257.37 2605.98 7257.37 2610 C 7257.37 2614.02 7255.35 2617.78 7252 2620 C 7248.65 2617.78 7246.63 2614.02 7246.63 2610 C 7246.63 2605.98 7248.65 2602.22 7252 2600" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2627px; margin-left: 7210px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                is_terminating
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7210" y="2640" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    is_terminating
                </text>
            </switch>
        </g>
        <rect x="6240" y="2560" width="600" height="600" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 2567px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                SICr
                                <u>
                                    do_create
                                </u>
                                ( ScndIdxWork )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            snap := AtomicLinkedListSnapshot{
                                        </span>
                                        <u>
                                            snap_head_excl
                                        </u>
                                        <span>
                                            , tail_excl=None };
                                            <br/>
                                        </span>
                                        snap_pi
                                        <span>
                                            :=
                                        </span>
                                        <span>
                                            snap.iter().filter_map( (unit) -&gt; unit.pi ).k_merge().filter( keep non-Tombstone );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each (PK,PV) in snap_pi :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            Write to a Memtable (without log).
                                        </li>
                                        <li>
                                            Periodically flush to a new SSTable.
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            If there were no data :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            // There should be no file to delete.
                                        </li>
                                        <li>
                                            return;
                                        </li>
                                    </ol>
                                    <li>
                                        K-merge all SSTables.
                                    </li>
                                    <li>
                                        <span>
                                            Remove non-final SSTables.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            cu := CommittedUnit w/ ...
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            commit_ver_lo_incl == commit_ver_hi_incl :=
                                            <u>
                                                output_commit_ver
                                            </u>
                                        </li>
                                        <li>
                                            <span>
                                                timestamp_num := 0
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            node := Box( ListNode( ... cu ... ) );
                                        </span>
                                    </li>
                                    <li>
                                        With
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        .lock_exclusive() :
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                node.
                                            </span>
                                            traversable_list_ver_lo_incl =
                                            <font color="#00994d">
                                                curr_list_ver
                                            </font>
                                            ;
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            node.next =
                                        </span>
                                        <span>
                                            <u>
                                                snap_head_excl
                                            </u>
                                            .next.load();
                                            <br/>
                                            <u>
                                                snap_head_excl
                                            </u>
                                            .next.store( node );
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        With
                                        <span style="color: rgb(51 , 153 , 255)">
                                            db_state
                                        </span>
                                        .lock_exclusive() :
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#3399ff">
                                                set_scnd_idx_as_readable
                                            </font>
                                            ( sv_spec ), which does ...
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <font color="#3399ff">
                                                    scnd_idxs
                                                </font>
                                                [ sv_spec ].
                                                <font color="#3399ff">
                                                    is_readable
                                                </font>
                                                = true ;
                                            </li>
                                            <li>
                                                Write to disk.
                                            </li>
                                        </ol>
                                        <li>
                                            /*
                                            <br/>
                                            <font color="#3399ff">
                                                is_readable
                                            </font>
                                            could be an AtomicBool or a regular bool.
                                            <br/>
                                            If AtomicBool, SICr creation completion would not need to lock
                                            <font color="#3399ff">
                                                db_state
                                            </font>
                                            ; but every Txn would have to load() the AtomicBool.
                                            <br/>
                                            Since SICr is rare, it should be better to use a regular bool.
                                            <br/>
                                            */
                                        </li>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="2579" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICr do_create( ScndIdxWork )...
                </text>
            </switch>
        </g>
        <path d="M 6968 3300 C 6964.65 3297.78 6962.63 3294.02 6962.63 3290 C 6962.63 3285.98 6964.65 3282.22 6968 3280 L 7052 3280 C 7055.35 3282.22 7057.37 3285.98 7057.37 3290 C 7057.37 3294.02 7055.35 3297.78 7052 3300 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 7052 3280 C 7055.35 3282.22 7057.37 3285.98 7057.37 3290 C 7057.37 3294.02 7055.35 3297.78 7052 3300 C 7048.65 3297.78 7046.63 3294.02 7046.63 3290 C 7046.63 3285.98 7048.65 3282.22 7052 3280" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3307px; margin-left: 7010px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    replace_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7010" y="3320" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    replace_avail
                </text>
            </switch>
        </g>
        <rect x="5200" y="2160" width="720" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 2167px; margin-left: 5202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    flush_and_compact
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            snap_head_excl :=
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            () ...
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : nothing to update.
                                            </li>
                                            <li>
                                                Else : push new dummy w/
                                                <br/>
                                                { traversable_list_ver_lo_incl=
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                , hold_count=0,
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                =false }
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            merge_segments( snap_head_excl );
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5202" y="2179" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::flush_and_compact()...
                </text>
            </switch>
        </g>
        <path d="M 4897.78 3120 L 4910.41 3233.67" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4910.99 3238.89 L 4906.74 3232.32 L 4910.41 3233.67 L 4913.69 3231.55 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="4640" y="2800" width="480" height="320" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 2807px; margin-left: 4642px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    cut_non_boundary_dummies
                                </u>
                                ( segm_head_excl, &amp;mut curr )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            slice := [ ];
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            match *curr :
                                        </li>
                                        <ol>
                                            <li>
                                                case nullptr :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                            <li>
                                                case dummy with { hold_count=0 and
                                                <span style="color: rgb(204 , 204 , 0)">
                                                    is_fence
                                                </span>
                                                =false } :
                                            </li>
                                            <ol>
                                                <li>
                                                    slice.push( *curr );
                                                </li>
                                                <li>
                                                    *curr = (*curr).next.load();
                                                </li>
                                            </ol>
                                            <li>
                                                otherwise :
                                            </li>
                                            <ol>
                                                <li>
                                                    break;
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            If slice is not empty :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                replace( segm_head_excl, curr, None, slice );
                                            </span>
                                        </li>
                                    </ol>
                                </ol>
                                <ul></ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4642" y="2819" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::cut_non_boundary_dummies( segm_head_excl, &amp;mut curr )...
                </text>
            </switch>
        </g>
        <rect x="6240" y="3200" width="600" height="360" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3207px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <div>
                                    SICr
                                    <u>
                                        notify_termination
                                    </u>
                                    ( ScndIdxWork )
                                </div>
                                <ol>
                                    <li>
                                        <u>
                                            snap_head_excl
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <font color="#cccc00">
                                            is_fence
                                        </font>
                                        <span>
                                            .store( false );
                                        </span>
                                    </li>
                                    <li>
                                        <font color="#990000">
                                            replace_avail
                                        </font>
                                        <span>
                                            .send( () );
                                            <br/>
                                        </span>
                                        /* Even if snap_head_excl's hold_count is not zero, notify F+C anyway, because some dummies in SICr's snapshot might have become non-held. For such dummies, notification would have been sent to F+C but F+C would not have worked across those dummies. */
                                    </li>
                                    <li>
                                        <span>
                                            response_to_client.send( "succes" );
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="3219" fill="#000000" font-family="Helvetica" font-size="12px">
                    SICr notify_termination( ScndIdxWork )...
                </text>
            </switch>
        </g>
        <path d="M 6920 2860 L 6846.37 2860" fill="none" stroke="#cccc00" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6841.12 2860 L 6848.12 2856.5 L 6846.37 2860 L 6848.12 2863.5 Z" fill="#cccc00" stroke="#cccc00" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6240" y="1400" width="600" height="440" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1407px; margin-left: 6242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                DB::
                                <u>
                                    create_scnd_idx
                                </u>
                                ()
                                <br/>
                                <br/>
                                Args:
                                <br/>
                                <ul>
                                    <li>
                                        SVSpec
                                    </li>
                                </ul>
                                Steps:
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#3399ff">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_shared() :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            .has_key( sv_spec ) :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "Already exists and &lt;is | isn't&gt; being created".
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#3399ff">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                            // It's preferrable to wait for the exclusive lock outside the job thread.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            .has_key( sv_spec ) :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "Already exists and &lt;is | isn't&gt; being created".
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#3399ff">
                                                define_new_scnd_idx
                                            </font>
                                            ( sv_spec ), which does ...
                                        </li>
                                        <ol>
                                            <li>
                                                si_num :=
                                                <span style="color: rgb(51 , 153 , 255)">
                                                    next_scnd_idx_num
                                                </span>
                                                .get_and_inc();
                                            </li>
                                            <li>
                                                <font color="#3399ff">
                                                    scnd_idxs
                                                </font>
                                                .insert( sv_spec, ( si_num,
                                                <font color="#3399ff">
                                                    is_readable
                                                </font>
                                                =false ) );
                                            </li>
                                            <li>
                                                Write to disk.
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            (tx, rx) := oneshot::channel();
                                            <br/>
                                            req := ScndIdxCreationRequest( sv_spec, si_num, tx );
                                            <br/>
                                        </span>
                                        <font color="#990000">
                                            scnd_idx_creation_request
                                        </font>
                                        <span>
                                            .send( req );
                                            <br/>
                                            resp := rx.receive();
                                            <br/>
                                            return resp;
                                        </span>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6242" y="1419" fill="#000000" font-family="Helvetica" font-size="12px">
                    DB::create_scnd_idx()...
                </text>
            </switch>
        </g>
        <rect x="4640" y="3240" width="600" height="520" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3247px; margin-left: 4642px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    replace
                                </u>
                                ( K, G, R, slice )
                                <br/>
                                // K is slice_head_excl
                                <br/>
                                // G is slice_tail_excl
                                <br/>
                                // R: Opt&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                <br/>
                                // slice: Vec&lt; &amp;ListNode&lt; LsmElem &gt; &gt;
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <font color="#00994d">
                                                curr_list_ver
                                            </font>
                                            += 1;
                                        </li>
                                        <li>
                                            <span>
                                                If R is Some :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                R.traversable_list_ver_lo_incl =
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                ;
                                            </li>
                                            <li>
                                                <span>
                                                    R.next = G;
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    K.next.store(R);
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    K.next.store(G);
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            For each node in slice :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                // The list_ver interval for which this node is traversable is ...
                                            </span>
                                            <br/>
                                            <span>
                                                node_itv := [ node.traversable_list_ver_lo_incl ~
                                            </span>
                                            <font color="#00994d">
                                                curr_list_ver
                                            </font>
                                            <span>
                                                );
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                // Search in
                                            </span>
                                            <font color="#00994d">
                                                held_list_vers
                                            </font>
                                            <span>
                                                to see if node_itv is deletable now.
                                                <br/>
                                            </span>
                                            // Searching would hold the lock for longer. So let's skip it.
                                        </li>
                                        <li>
                                            <span>
                                                If node_itv is deletable :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Delete node's dir and memory.
                                                </span>
                                                <br/>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <u>
                                                    dangling_nodes
                                                </u>
                                                <span>
                                                    [ node_itv ].push( node );
                                                </span>
                                                <br/>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <ul>
                                    <ul></ul>
                                </ul>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4642" y="3259" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::replace( K, G, R, slice )...
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1810 L 5216.03 2130.82 Q 5220 2140 5228.99 2144.39 L 5254.04 2156.61" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5258.76 2158.91 L 5250.93 2158.99 L 5254.04 2156.61 L 5254 2152.69 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5019.12 1720 L 4888.53 1600" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4988 1820 C 4984.65 1817.78 4982.63 1814.02 4982.63 1810 C 4982.63 1805.98 4984.65 1802.22 4988 1800 L 5072 1800 C 5075.35 1802.22 5077.37 1805.98 5077.37 1810 C 5077.37 1814.02 5075.35 1817.78 5072 1820 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1800 C 5075.35 1802.22 5077.37 1805.98 5077.37 1810 C 5077.37 1814.02 5075.35 1817.78 5072 1820 C 5068.65 1817.78 5066.63 1814.02 5066.63 1810 C 5066.63 1805.98 5068.65 1802.22 5072 1800" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1827px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    replace_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1840" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    replace_avail
                </text>
            </switch>
        </g>
        <path d="M 5077.3 1730 L 5214.73 1951.5 Q 5220 1960 5210.38 1962.75 L 5046.12 2009.68" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5041.07 2011.12 L 5046.84 2005.83 L 5046.12 2009.68 L 5048.77 2012.56 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4988 1740 C 4984.65 1737.78 4982.63 1734.02 4982.63 1730 C 4982.63 1725.98 4984.65 1722.22 4988 1720 L 5072 1720 C 5075.35 1722.22 5077.37 1725.98 5077.37 1730 C 5077.37 1734.02 5075.35 1737.78 5072 1740 Z" fill="url(#mx-gradient-e6e6e6-1-808080-1-s-0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5072 1720 C 5075.35 1722.22 5077.37 1725.98 5077.37 1730 C 5077.37 1734.02 5075.35 1737.78 5072 1740 C 5068.65 1737.78 5066.63 1734.02 5066.63 1730 C 5066.63 1725.98 5068.65 1722.22 5072 1720" fill="#e6e6e6" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1747px; margin-left: 5030px;">
                        <div data-drawio-colors="color: #990000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(153, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                <span style="font-size: 12px ; text-align: left ; background-color: rgb(248 , 249 , 250)">
                                    gc_avail
                                </span>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5030" y="1760" fill="#990000" font-family="Helvetica" font-size="13px" text-anchor="middle">
                    gc_avail
                </text>
            </switch>
        </g>
        <path d="M 4558.12 1631.88 L 4976.5 1728.57" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4981.61 1729.75 L 4974 1731.58 L 4976.5 1728.57 L 4975.58 1724.76 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6801.36 2480 L 6918.35 2605.34" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 6921.94 2609.18 L 6914.6 2606.45 L 6918.35 2605.34 L 6919.72 2601.68 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 1800 720 L 1820.7 747.6" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <ellipse cx="1822.8" cy="750.4" rx="3" ry="3" fill="none" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 1833.2 757.6 L 1825.2 753.6 L 1826.8 762.4 M 1825.2 753.6 L 1830 760" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1520" y="560" width="440" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 160px; padding-top: 560px; margin-left: 1520px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        IntervalSet&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - itvs: Vec&lt; Interval&lt;T&gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + add( Interval&lt;T&gt; )
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + clear()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + merge()
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + overlaps_with(points: Iter&lt;U: TryPartialOrd&lt;T&gt;&gt;) -&gt; Res&lt;bool&gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1520" y="572" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    IntervalSet&lt;T&gt;...
                </text>
            </switch>
        </g>
        <path d="M 5267.22 3120 L 5168.04 3235.17" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5164.62 3239.15 L 5166.53 3231.56 L 5168.04 3235.17 L 5171.84 3236.13 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 5200 2875.29 L 5126.16 2894.84" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5121.08 2896.18 L 5126.95 2891.01 L 5126.16 2894.84 L 5128.74 2897.78 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6920" y="2400" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 2400px; margin-left: 6920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationWork
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span>
                                        snap_head_excl: SendPtr&lt; ListNode&lt; LsmElem &gt; &gt;
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + scnd_idx_num: ScndIdxNum
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + output_commit_ver: CommitVer
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + req: ScndIdxCreationRequest
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6920" y="2412" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationWork...
                </text>
            </switch>
        </g>
        <rect x="5320" y="3240" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 3247px; margin-left: 5322px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    do_flush_and_compact
                                </u>
                                ( slice, skip_tombstones, db_state_guard )
                                <br/>
                                -&gt; Option&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                <br/>
                                <ol>
                                    <li>
                                        With db_state guard :=
                                        <span style="color: rgb(51 , 153 , 255)">
                                            db_state
                                        </span>
                                        .lock_shared() :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                Create a new empty SSTable-based CompactedUnit.
                                            </span>
                                        </li>
                                        <li>
                                            For each of {PI; and SIs in db_state_guard.
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            .keys() regardless of `
                                            <font color="#3399ff">
                                                is_readable
                                            </font>
                                            `} :
                                        </li>
                                        <ol>
                                            <li>
                                                K-merge across the slice --&gt; produce one SSTable.
                                                <br/>
                                                If skipping tombstones, do so.
                                            </li>
                                            <li>
                                                If the newly produced SSTable is non-empty :
                                            </li>
                                            <ol>
                                                <li>
                                                    Assign the new SSTable into the new CommittedUnit.
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                If the newly produced CommittedUnit is non-empty :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    On disk, serialize CommitInfo with ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        commit_ver_hi_incl = max in slice
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        commit_ver_lo_incl = min in slcie
                                                    </span>
                                                </li>
                                                <li>
                                                    <span>
                                                        timestamp_num = (max in slice) + 1
                                                    </span>
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    Move the new CommittedUnit into a Box&lt; ListNode&lt; LsmElem &gt; &gt;. Return this.
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    committed_unit.remove_dir();
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Return None.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5322" y="3259" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::do_flush_and_compact( slice, skip_tombstones, db_state_guard )...
                </text>
            </switch>
        </g>
        <path d="M 5590.91 3120 L 5601.24 3233.66" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5601.72 3238.89 L 5597.6 3232.23 L 5601.24 3233.66 L 5604.57 3231.6 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="5200" y="2440" width="720" height="680" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 718px; height: 1px; padding-top: 2447px; margin-left: 5202px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    merge_segments
                                </u>
                                ( snap_head_excl )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            segm_head_excl := snap_head_excl;
                                        </span>
                                        <br/>
                                        <span>
                                            curr := segm_head_excl.next.load();
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        <span>
                                            While true :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                // In this while-block, work on one segment, i.e. until the next closest boundary dummy.
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <span>
                                                slice := [ ];
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            <span>
                                                While true :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    cut_non_boundary_dummies( segm_head_excl, &amp;mut curr );
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    match curr :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        case nullptr :
                                                    </span>
                                                    <br/>
                                                </li>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            break;
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                                <li>
                                                    <span>
                                                        case a dummy :
                                                    </span>
                                                    <br/>
                                                </li>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            // The curr dummy could not be cut. Therefore it must be a boundary.
                                                        </span>
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            break;
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                                <li>
                                                    <span>
                                                        case CommittedUnit :
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                        </ol>
                                        <ul>
                                            <ul>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            slice.push( curr );
                                                        </span>
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            curr = curr.next.load();
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                            </ul>
                                        </ul>
                                        <li>
                                            <span>
                                                If {slice.len() &gt; 1} or {slice contains at least one MemLog-based CommittedUnit} :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    skip_tombstones := { curr == nullptr };
                                                </span>
                                                <br/>
                                                <span>
                                                    compacted_node := do_flush_and_compact( slice, skip_tombstones, db_state_guard );
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <span>
                                                    replace( snap_head_excl, curr, compacted_node, slice );
                                                </span>
                                                <br/>
                                            </li>
                                        </ol>
                                        <li>
                                            If curr == nullptr :
                                        </li>
                                        <ol>
                                            <li>
                                                break;
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    segm_head_excl = curr;
                                                    <br/>
                                                </span>
                                                curr = curr.next.load();
                                            </li>
                                        </ol>
                                        <ol></ol>
                                    </ol>
                                </ol>
                                <ul></ul>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5202" y="2459" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::merge_segments( snap_head_excl )...
                </text>
            </switch>
        </g>
        <path d="M 5560 2360 L 5560 2433.63" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5560 2438.88 L 5556.5 2431.88 L 5560 2433.63 L 5563.5 2431.88 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 6240 2377.55 L 5925.48 2563.7" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 5920.96 2566.37 L 5925.2 2559.79 L 5925.48 2563.7 L 5928.77 2565.82 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="6960" y="1400" width="600" height="440" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 1407px; margin-left: 6962px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                DB::delete_scnd_idx()
                                <br/>
                                <br/>
                                Args:
                                <br/>
                                <ul>
                                    <li>
                                        SVSpec
                                    </li>
                                </ul>
                                Steps:
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#3399ff">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_shared() :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            [ sv_spec ].
                                            <span style="color: rgb(51 , 153 , 255)">
                                                is_readable
                                            </span>
                                            != true :
                                        </li>
                                        <ol>
                                            <li>
                                                Return "&lt;Doesn't exist | It's being built&gt;".
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <font color="#3399ff">
                                            db_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                        </span>
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                If
                                            </span>
                                            <font color="#3399ff">
                                                scnd_idxs
                                            </font>
                                            <span>
                                                [ sv_spec ].
                                            </span>
                                            <span style="color: rgb(51 , 153 , 255)">
                                                is_readable
                                            </span>
                                            <span>
                                                != true :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                Return "&lt;Doesn't exist | It's being built&gt;".
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#3399ff">
                                                remove_scnd_idx
                                            </font>
                                            <span>
                                                ( sv_spec );
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        <span>
                                            /*
                                            <br/>
                                        </span>
                                        That's it!
                                        <br/>
                                        Leave all data (in memory and on disk) in place. Let compaction eventually implicitly erase them.
                                        <br/>
                                        The use of ScndIdxNum ensures that, if a SI is later re-created for the just-deleted SVSpec, any lingering existing data would remain unused.
                                        <br/>
                                        */
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="6962" y="1419" fill="#000000" font-family="Helvetica" font-size="12px">
                    DB::delete_scnd_idx()...
                </text>
            </switch>
        </g>
        <path d="M 1720 2280 L 1720 2320" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1716 2316 L 1724 2316" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="1600" y="2160" width="240" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 242px; height: 120px; padding-top: 2160px; margin-left: 1600px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 240px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        LsmElem
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + content: LsmElemContent
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + traversable_list_ver_lo_incl: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1600" y="2172" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmElem...
                </text>
            </switch>
        </g>
        <rect x="5840" y="1600" width="320" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 322px; height: 120px; padding-top: 1600px; margin-left: 5840px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 320px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        ScndIdxCreationRequest
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span>
                                        sv_spec: SVSpec
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + scnd_idx_num: ScndIdxNum
                                    </span>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <span>
                                        response_to_client
                                    </span>
                                    <span>
                                        : oneshot::Sender&lt; Res&lt; () &gt; &gt;
                                    </span>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5840" y="1612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    ScndIdxCreationRequest...
                </text>
            </switch>
        </g>
        <path d="M 4450 2455.78 L 4553.71 2439.69" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4558.9 2438.88 L 4552.51 2443.41 L 4553.71 2439.69 L 4551.44 2436.5 Z" fill="#adadad" stroke="#adadad" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 3920 2200 L 4440 2200 L 4440 2770 L 4200 2770 L 4180 2800 L 4180 2770 L 3920 2770 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" transform="rotate(270,4180,2500)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 568px; height: 1px; padding-top: 2247px; margin-left: 3882px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Termination sequence
                                <br/>
                                <br/>
                                This sequence works in cooperation with
                                <br/>
                                <ul>
                                    <li>
                                        DB::terminate()
                                    </li>
                                    <li>
                                        Txn::run()
                                    </li>
                                </ul>
                                <div>
                                    Steps:
                                </div>
                                <ol>
                                    <li>
                                        <font color="#3399ff">
                                            is_terminating
                                        </font>
                                        bool is set to true.
                                        <br/>
                                        From now on, no new txn can start.
                                        <br/>
                                        Note, already-running txns can still hold
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        <font color="#990000">
                                            is_terminating
                                        </font>
                                        Conditional Variable is set.
                                        <br/>
                                        F+C is notified.
                                        <br/>
                                    </li>
                                    <li>
                                        While F+C's local
                                        <u>
                                            dangling_nodes
                                        </u>
                                        is not empty :
                                    </li>
                                    <ol>
                                        <li>
                                            F+C waits on
                                            <font color="#990000">
                                                gc_avail
                                            </font>
                                            .
                                        </li>
                                        <li>
                                            F+C removes from
                                            <u>
                                                dangling_nodes
                                            </u>
                                            .
                                        </li>
                                    </ol>
                                    <li>
                                        /*
                                        <br/>
                                        Note,
                                        <span style="color: rgb(153 , 0 , 0)">
                                            gc_avail
                                        </span>
                                        does not inform whether
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        is held or not. But this is irrelevant for the purpose of GC.
                                        <br/>
                                        If
                                        <font color="#990000">
                                            gc_avail
                                        </font>
                                        has a capacity set, messages can be dropped. And if messages are dropped, the above while-loop could be stuck forever. Therefore, the above while-loop should be omitted.
                                        <br/>
                                        */
                                    </li>
                                    <li>
                                        <span>
                                            While
                                        </span>
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        <span>
                                            is not empty :
                                        </span>
                                        <br/>
                                        // It would suffice to check whether
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        is empty except for potentially
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        .
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            Sleep a bit.
                                        </li>
                                    </ol>
                                    <li>
                                        GC all nodes in
                                        <u>
                                            dangling_nodes
                                        </u>
                                        .
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3882" y="2259" fill="#000000" font-family="Helvetica" font-size="12px">
                    Termination sequence...
                </text>
            </switch>
        </g>
        <rect x="400" y="2280" width="440" height="480" fill="#ffffff" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 480px; padding-top: 2280px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 480px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#3399ff">
                                            DbState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state: ScndIdxsState
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - scnd_idxs_state_file_path: PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_terminating: bool
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + can_new_scnd_idx_be_defined( &amp;SVSpec ) -&gt; ...
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + define_new_scnd_idx( &amp;SVSpec ) -&gt; ...
                                </p>
                                <ol>
                                    <li>
                                        si_num :=
                                        <font color="#3399ff">
                                            next_scnd_idx_num
                                        </font>
                                        .get_and_inc();
                                    </li>
                                    <li>
                                        <font color="#3399ff">
                                            scnd_idxs
                                        </font>
                                        .insert( sv_spec, ( si_num,
                                        <font color="#3399ff">
                                            is_readable
                                        </font>
                                        =false) );
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + set_scnd_idx_as_readable( &amp;SVSpec ) -&gt; Res&lt; () &gt;
                                </p>
                                <ol>
                                    <li>
                                        <font color="#3399ff">
                                            scnd_idxs
                                        </font>
                                        [ sv_spec ].is_readable = true;
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + can_scnd_idx_be_removed( &amp;SVSpec ) -&gt; ...
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_scnd_idx( &amp;SVSpec ) =&gt; ...
                                </p>
                                <ol>
                                    <li>
                                        scnd_idxs.remove( sv_spec );
                                    </li>
                                    <li>
                                        Serialize ScndIdxsState to disk.
                                    </li>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="2292" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DbState...
                </text>
            </switch>
        </g>
        <path d="M 620 2760 L 620 2840" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 616 2836 L 624 2836" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 780 800 L 780 880" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="480" y="400" width="600" height="400" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="3" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 407px; margin-left: 482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                <u>
                                    At bootup
                                </u>
                                <br/>
                                <ol>
                                    <li>
                                        <font color="#3399ff">
                                            scnd_idxs_state := ScndIdxsState.deser( scnd_idxs_state.txt );
                                        </font>
                                        <br/>
                                        and ignore SIs that previously never finished creation.
                                        <br/>
                                    </li>
                                    <li>
                                        <font color="#3399ff">
                                            db_state := DbState( ... );
                                        </font>
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        (
                                        <font color="#00994d">
                                            list, next_commit_ver, next_unit_dir_num
                                        </font>
                                        ) := Load committed units;
                                    </li>
                                    <li>
                                        <font color="#00994d">
                                            lsm_state := LsmState( list, ... );
                                        </font>
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        Create all
                                        <font color="#990000">
                                            channels
                                        </font>
                                        .
                                    </li>
                                    <li>
                                        db := Db( ... );
                                    </li>
                                    <li>
                                        Launch actors
                                        <font color="#cc6600">
                                            flush_and_compact_job
                                        </font>
                                        () and
                                        <font color="#cccc00">
                                            scnd_idx_creation_job
                                        </font>
                                        ().
                                    </li>
                                    <li>
                                        ;
                                    </li>
                                    <li>
                                        return db;
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="482" y="419" fill="#000000" font-family="Helvetica" font-size="12px">
                    At bootup...
                </text>
            </switch>
        </g>
        <rect x="480" y="880" width="600" height="480" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 598px; height: 1px; padding-top: 887px; margin-left: 482px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                LsmDirManager:
                                <u>
                                    load_or_new
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        pq := new BinaryHeap&lt; CommitInfo &gt;;
                                        <br/>
                                    </li>
                                    <li>
                                        For uni_dir in `ls lsm/` :
                                    </li>
                                    <ol>
                                        <li>
                                            If commit_info.txt doesn't exist :
                                        </li>
                                        <ol>
                                            <li>
                                                Ignore this unit. Print warning.
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Load CommitInfo.
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Push CommitInfo into pq.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            nodes: = empty Vec;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            // pq prioritizes CommitInfo by { highest commit_ver_hi_incl; tie-breaker by highest timestamp_num }.
                                        </span>
                                        <br/>
                                    </li>
                                    <li>
                                        next_commit_ver := pq.peek().commit_ver_hi_incl + 1;    If empty, zero.
                                    </li>
                                    <li>
                                        <span>
                                            While pq is not empty :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                cu_info := pq.pop();
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                If curr commit_ver range overlaps with previous commit_ver range :
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Ignore this unit. Print warning.
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    Load CommitInfo into CommittedUnit.
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    Push CommittedUnit into nodes.
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        list := AtomicLinkedList::from_elems( nodes );
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="482" y="899" fill="#000000" font-family="Helvetica" font-size="12px">
                    LsmDirManager:load_or_new()...
                </text>
            </switch>
        </g>
        <rect x="1920" y="2040" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 2040px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommittedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; CommittedEntrySet&lt;PK,PV&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) CommittedEntrySet&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + commit_info: CommitInfo
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_staging( StagingUnit, CommitVer ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + from_compacted( CompactedUnit, CommitInfo ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load( UnitDir ) -&gt; Res&lt; Self, UnitDir &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="2052" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommittedUnit...
                </text>
            </switch>
        </g>
        <rect x="1920" y="1600" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 1600px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        StagingUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: WritableMemLog&lt;PK,PV&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                        <br/>
                                    </li>
                                    <li>
                                        (value) WritableMemLog&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new( UnitDir ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + clear() -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="1612" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    StagingUnit...
                </text>
            </switch>
        </g>
        <rect x="1120" y="1480" width="360" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 200px; padding-top: 1480px; margin-left: 1120px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        UnitDir
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_prim_path() -&gt; PathBuf
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_scnd_path( ScndIdxNum ) -&gt; PathBuf
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_commit_info_path() -&gt; PathBuf
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_commit_info() -&gt; Res&lt; CommitInfo &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + list_scnd_paths() -&gt; Iter&lt; (PathBuf, ScndIdxNum) &gt;
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1120" y="1492" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    UnitDir...
                </text>
            </switch>
        </g>
        <rect x="1160" y="1760" width="280" height="240" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 282px; height: 240px; padding-top: 1760px; margin-left: 1160px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 280px; height: 240px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CommitInfo
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_hi_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + commit_ver_lo_incl: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + timestamp_num: TimestampNum
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + data_type: either "memlog" or "sstable"
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + ser( PathBuf ) -&gt; Res&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + deser( PathBuf ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + cmp()
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1160" y="1772" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CommitInfo...
                </text>
            </switch>
        </g>
        <rect x="960" y="2080" width="560" height="600" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 562px; height: 600px; padding-top: 2080px; margin-left: 960px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 560px; height: 600px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        <font color="#00994d">
                                            LsmState
                                        </font>
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + list: AtomicLinkedList&lt; LsmElem &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + next_commit_ver: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + curr_list_ver: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + held_list_vers: BTreeMap&lt; ListVer, usize &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + hold_curr_list_ver() -&gt; ListVer
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + unhold_list_ver( ListVer ) -&gt; Option&lt; GcAbleInterval &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ol>
                                    <li>
                                        <font color="#00994d">
                                            held_list_vers
                                        </font>
                                        [ arg_ver ] -= 1; and if zero, remove the entry.
                                    </li>
                                    <li>
                                        If {arg_ver !=
                                        <font color="#00994d">
                                            curr_list_ver
                                        </font>
                                        } &amp;&amp; {the entry was removed} :
                                    </li>
                                    <ol>
                                        <li>
                                            Search in
                                            <font color="#00994d">
                                                held_list_vers
                                            </font>
                                            , and get arg_ver's directly lower and higher still-held vers.
                                        </li>
                                        <li>
                                            If the found high-bound is unbounded :
                                        </li>
                                        <ol>
                                            <li>
                                                Set the high-excl-bound to be
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                .
                                            </li>
                                        </ol>
                                        <li>
                                            The newly opened up GC'able ListVer itv := ( lo ... hi ). Return this itv.
                                        </li>
                                    </ol>
                                </ol>
                                <p style="margin: 0px 0px 0px 4px">
                                    + hold_and_unhold_list_ver( ListVer ) -&gt; ( ListVer, Opt&lt; GcAbleInterval &gt; )
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990099">
                                        update_or_push
                                    </font>
                                    ( update_or_specify_head ) -&gt; *const ListNode&lt; LsmElem &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Args:
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        FnOnce( Opt&lt; &amp;LsmElemContent &gt; ) -&gt; Opt&lt; Box&lt; ListNode&lt; LsmElem &gt; &gt; &gt;
                                        <br/>
                                        // Read the existing head node, and return whether to push a node.
                                    </li>
                                </ul>
                                <p style="margin: 0px 0px 0px 4px">
                                    Returns the resulting head.
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="960" y="2092" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmState...
                </text>
            </switch>
        </g>
        <path d="M 738.18 1720 L 774.55 1640" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 776.53 1645.3 L 769.25 1641.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="400" y="1720" width="440" height="520" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 520px; padding-top: 1720px; margin-left: 400px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 520px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        DB
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        +
                                    </span>
                                    <font color="#3399ff">
                                        db_state
                                    </font>
                                    <span>
                                        :
                                    </span>
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        RwLock
                                    </span>
                                    <span>
                                        &lt; DbState &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + lsm_dir_mgr: LsmDirManager
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#00994d">
                                        lsm_state
                                    </font>
                                    :
                                    <span style="background-color: rgb(255 , 204 , 153)">
                                        Mutex
                                    </span>
                                    &lt; LsmState &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // Tokio's `watch` channel is like a Condition Variable.
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <span style="color: rgb(153 , 0 , 0)">
                                        replace_avail
                                    </span>
                                    : watch::Sender&lt; () &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        gc_avail
                                    </font>
                                    : mpsc::Sender&lt; GcAbleInterval &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        scnd_idx_request
                                    </font>
                                    : mpsc::Sender&lt; ScndIdxCreationRequest &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    +
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Sender&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        + load_or_new( PathBuf ) -&gt; Res&lt;( ... )&gt;
                                    </span>
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    Returns:
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        Arc&lt;Self&gt;
                                    </li>
                                    <li>
                                        fc_job_task: Future&lt;Res&lt;()&gt;&gt;
                                        <br/>
                                    </li>
                                    <li>
                                        scnd_idx_creation_job_task: Future&lt;Res&lt;()&gt;&gt;
                                    </li>
                                </ul>
                                <div>
                                    <div>
                                        + terminate()
                                    </div>
                                </div>
                                <div>
                                    <ol>
                                        <li>
                                            With
                                            <font color="#3399ff">
                                                db_state
                                            </font>
                                            .lock_exclusive() :
                                        </li>
                                        <ol>
                                            <li>
                                                set
                                                <font color="#3399ff">
                                                    is_terminating
                                                </font>
                                                to true;
                                            </li>
                                        </ol>
                                        <li>
                                            <font color="#990000">
                                                is_terminating
                                            </font>
                                            .send( () );
                                        </li>
                                        <li>
                                            // Do it in this order.
                                        </li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="400" y="1732" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    DB...
                </text>
            </switch>
        </g>
        <rect x="4760" y="1520" width="170" height="80" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 172px; height: 80px; padding-top: 1520px; margin-left: 4760px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 170px; height: 80px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        GcAbleInterval
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + lo_excl: Opt&lt; ListVer &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + hi_excl: ListVer
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4760" y="1532" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    GcAbleInterval...
                </text>
            </switch>
        </g>
        <path d="M 870 1640 L 1087.15 2074.3" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 1089.5 2079 L 1083.24 2074.3 L 1087.15 2074.3 L 1089.5 2071.17 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1860px; margin-left: 980px;">
                        <div data-drawio-colors="color: #000000; background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                loads
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="980" y="1863" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    loads
                </text>
            </switch>
        </g>
        <path d="M 810.48 1440 L 802.86 1360" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="640" y="1440" width="360" height="200" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 200px; padding-top: 1440px; margin-left: 640px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 200px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        LsmDirManager
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - lsm_dir_path: PathBuf
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - next_unit_dir_num: AtomicU64
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + load_or_new( PathBuf ) -&gt; Res&lt;( Self,
                                    <font color="#00994d">
                                        LsmState
                                    </font>
                                    )&gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + format_new_unit_dir_path() -&gt; UnitDir
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="640" y="1452" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    LsmDirManager...
                </text>
            </switch>
        </g>
        <rect x="5000" y="1280" width="200" height="120" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 202px; height: 120px; padding-top: 1280px; margin-left: 5000px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 200px; height: 120px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        NodeListVerInterval
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + lo_incl: ListVer
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + hi_incll: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - log_path: PathBuf
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + cmp()
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="5000" y="1292" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    NodeListVerInterval...
                </text>
            </switch>
        </g>
        <rect x="1000" y="3080" width="400" height="160" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 402px; height: 160px; padding-top: 3080px; margin-left: 1000px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 400px; height: 160px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        AtomicLinkedListSnapshot&lt;T&gt;
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + head_excl_ptr: NonNull&lt; ListNode&lt; T &gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + tail_excl_ptr: Opt&lt; NonNull&lt; ListNode&lt; T &gt; &gt; &gt;
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <span>
                                        + iter() -&gt; Iter&lt; &amp;T &gt;
                                    </span>
                                    <br/>
                                </p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1000" y="3092" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    AtomicLinkedListSnapshot&lt;T&gt;...
                </text>
            </switch>
        </g>
        <rect x="4560" y="2280" width="480" height="240" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 2287px; margin-left: 4562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                FCJob::
                                <u>
                                    poll_held_list_vers_then_gc
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        While true :
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                With
                                            </span>
                                            <font color="#00994d">
                                                lsm_state
                                            </font>
                                            <span>
                                                .lock_exclusive() :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If
                                                </span>
                                                <font color="#00994d">
                                                    held_list_vers
                                                </font>
                                                <span>
                                                    is empty :
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        break;
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                        </ol>
                                        <li>
                                            <span>
                                                Sleep a bit;
                                            </span>
                                        </li>
                                    </ol>
                                    <li>
                                        For each (_itv, nodes) in
                                        <u>
                                            dangling_nodes
                                        </u>
                                        :
                                        <br/>
                                    </li>
                                    <ol>
                                        <li>
                                            For each node :
                                        </li>
                                        <ol>
                                            <li>
                                                Remove files. Drop memory.
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                                <ol></ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4562" y="2299" fill="#000000" font-family="Helvetica" font-size="12px">
                    FCJob::poll_held_list_vers_then_gc()...
                </text>
            </switch>
        </g>
        <rect x="7360" y="2680" width="440" height="360" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 360px; padding-top: 2680px; margin-left: 7360px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 360px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        SICrJob
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - db: Arc&lt; DB &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    - working_dir: PathBuf
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <span>
                                        // rx
                                    </span>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        scnd_idx_creation_work
                                    </font>
                                    : mpsc::Receiver&lt; ScndIdxCreationWork &gt;
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    -
                                    <font color="#990000">
                                        is_terminating
                                    </font>
                                    : watch::Receiver&lt; () &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="7360" y="2692" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    SICrJob...
                </text>
            </switch>
        </g>
        <path d="M 5240 2060.57 L 4960.6 2276.11" fill="none" stroke="#cc6600" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4956.44 2279.32 L 4959.85 2272.27 L 4960.6 2276.11 L 4964.12 2277.81 Z" fill="#cc6600" stroke="#cc6600" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2780 440 L 2780 473.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 478.88 L 2776.5 471.88 L 2780 473.63 L 2783.5 471.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2780" cy="420" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 420px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Client calls get_*() and put()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="424" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Client calls get_*()...
                </text>
            </switch>
        </g>
        <ellipse cx="2778.8" cy="190" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2778.8 200 L 2779.57 233.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2779.69 238.88 L 2776.03 231.96 L 2779.57 233.63 L 2783.03 231.8 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2780 360 L 2780 393.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 398.88 L 2776.5 391.88 L 2780 393.63 L 2783.5 391.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2720" y="320" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 340px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                new
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="344" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    new
                </text>
            </switch>
        </g>
        <path d="M 2780 280 L 2780 313.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2780 318.88 L 2776.5 311.88 L 2780 313.63 L 2783.5 311.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2780" cy="260" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 260px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::new()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="264" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::new()
                </text>
            </switch>
        </g>
        <path d="M 2779.7 520 L 2779.19 553.73" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2779.12 558.98 L 2775.72 551.93 L 2779.19 553.73 L 2782.72 552.03 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2720" y="480" width="120" height="40" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 500px; margin-left: 2721px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                pre-commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2780" y="504" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    pre-commit
                </text>
            </switch>
        </g>
        <path d="M 2793.97 594.94 L 2840.3 640.59" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2844.04 644.27 L 2836.59 641.85 L 2840.3 640.59 L 2841.51 636.87 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 620px; margin-left: 2820px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2820" y="624" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to commit
                </text>
            </switch>
        </g>
        <path d="M 2770.26 597.15 L 2552.62 1034.57" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2550.28 1039.27 L 2550.27 1031.44 L 2552.62 1034.57 L 2556.53 1034.56 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 818px; margin-left: 2660px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                client wants to abort
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2660" y="822" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    client wants to abort
                </text>
            </switch>
        </g>
        <path d="M 3035 915 L 3080.5 960.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3084.21 964.21 L 3076.78 961.73 L 3080.5 960.5 L 3081.73 956.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 940px; margin-left: 3060px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                yes conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3060" y="943" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    yes conflict
                </text>
            </switch>
        </g>
        <path d="M 3191.77 1040.39 L 3234.86 968.57 Q 3240 960 3235.46 951.09 L 2964.54 418.91 Q 2960 410 2950.68 406.38 L 2837.36 362.31" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2832.47 360.41 L 2840.26 359.68 L 2837.36 362.31 L 2837.73 366.2 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3180" cy="1060" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1060px; margin-left: 3121px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::reset()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3180" y="1064" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::reset()
                </text>
            </switch>
        </g>
        <path d="M 3115 995 L 3156.52 1036.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3160.24 1040.24 L 3152.81 1037.76 L 3156.52 1036.52 L 3157.76 1032.81 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1018px; margin-left: 3138px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                not exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3138" y="1022" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    not exceeded
                </text>
            </switch>
        </g>
        <path d="M 3100 960 L 3160 980 L 3100 1000 L 3040 980 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 980px; margin-left: 3041px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Retry limit exceeded?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3100" y="984" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Retry limit exceeded?
                </text>
            </switch>
        </g>
        <path d="M 3058 986 L 2601.45 1051.22" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2596.26 1051.96 L 2602.69 1047.51 L 2601.45 1051.22 L 2603.68 1054.44 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1019px; margin-left: 2826px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                exceeded
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2826" y="1022" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    exceeded
                </text>
            </switch>
        </g>
        <path d="M 2540 1080 L 2540 1113.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2540 1118.88 L 2536.5 1111.88 L 2540 1113.63 L 2543.5 1111.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2540" cy="1060" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1060px; margin-left: 2481px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::close()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2540" y="1064" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::close()
                </text>
            </switch>
        </g>
        <path d="M 2925 755 L 2883.48 796.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2879.76 800.24 L 2882.24 792.81 L 2883.48 796.52 L 2887.19 797.76 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 778px; margin-left: 2902px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                up-to-date
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2902" y="782" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    up-to-date
                </text>
            </switch>
        </g>
        <path d="M 2955 755 L 2996.52 796.52" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3000.24 800.24 L 2992.81 797.76 L 2996.52 796.52 L 2997.76 792.81 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 778px; margin-left: 2978px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                there is gap
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2978" y="782" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    there is gap
                </text>
            </switch>
        </g>
        <path d="M 2940 720 L 3000 740 L 2940 760 L 2880 740 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 740px; margin-left: 2881px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is snapshot up-to-date?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2940" y="744" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is snapshot up-to-da...
                </text>
            </switch>
        </g>
        <ellipse cx="2860" cy="820" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 820px; margin-left: 2801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::commit()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2860" y="824" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::commit()
                </text>
            </switch>
        </g>
        <path d="M 3020 840 L 3020 873.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3020 878.88 L 3016.5 871.88 L 3020 873.63 L 3023.5 871.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="3020" cy="820" rx="60" ry="20" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 820px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::has_conflict()
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="824" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Txn::has_conflict()
                </text>
            </switch>
        </g>
        <path d="M 2996 888 L 2948.94 864.47 Q 2940 860 2940 850 L 2940 766.37" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2940 761.12 L 2943.5 768.12 L 2940 766.37 L 2936.5 768.12 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 842px; margin-left: 2940px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                no conflict
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2940" y="845" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    no conflict
                </text>
            </switch>
        </g>
        <path d="M 3020 880 L 3080 900 L 3020 920 L 2960 900 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 900px; margin-left: 2961px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Is there any conflict?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3020" y="904" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Is there any conflic...
                </text>
            </switch>
        </g>
        <ellipse cx="2540" cy="1130" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 2778.8 560 L 2838.8 580 L 2778.8 600 L 2718.8 580 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 580px; margin-left: 2720px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Client decision?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2779" y="584" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Client decision?
                </text>
            </switch>
        </g>
        <path d="M 2875 675 L 2920.5 720.5" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2924.21 724.21 L 2916.78 721.73 L 2920.5 720.5 L 2921.73 716.78 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 700px; margin-left: 2900px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                try to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2900" y="703" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    try to commit
                </text>
            </switch>
        </g>
        <path d="M 2847.37 675.79 L 2559.44 1035.7" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2556.16 1039.8 L 2557.8 1032.15 L 2559.44 1035.7 L 2563.26 1036.52 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 859px; margin-left: 2701px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                nothing to commit
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2701" y="862" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    nothing to commit
                </text>
            </switch>
        </g>
        <path d="M 2860 640 L 2920 660 L 2860 680 L 2800 660 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 660px; margin-left: 2801px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Are there any data to commit?
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2860" y="664" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">
                    Are there any data t...
                </text>
            </switch>
        </g>
        <path d="M 2560 288.48 L 2723.95 267.13" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="1920" y="160" width="640" height="320" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 638px; height: 1px; padding-top: 167px; margin-left: 1922px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    new
                                </u>
                                ( db, db_state_guard )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <u>
                                            db
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl := None;
                                            <br/>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .head_excl :=
                                            </span>
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            <span>
                                                () ...
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : dummy.hold_count += 1;
                                            </li>
                                            <li>
                                                Else : push new dummy w/
                                                <br/>
                                                { traversable_list_ver_lo_incl=
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                <span>
                                                    , hold_count=1,
                                                </span>
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                <span>
                                                    =false }
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            <u>
                                                snap_next_commit_ver
                                            </u>
                                            :=
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                            <br/>
                                        </li>
                                        <li>
                                            <u>
                                                snap_list_ver
                                            </u>
                                            :=
                                            <font color="#00994d">
                                                hold_curr_list_ver
                                            </font>
                                            ();
                                        </li>
                                    </ol>
                                    <li>
                                        <u>
                                            snap_vec
                                        </u>
                                        := None;
                                    </li>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        <span>
                                            := new empty;
                                            <br/>
                                        </span>
                                        <u>
                                            dependent_itvs_scnds
                                        </u>
                                        <span>
                                            := new empty;
                                        </span>
                                    </li>
                                    <li>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            := None;
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1922" y="179" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::new( db, db_state_guard )...
                </text>
            </switch>
        </g>
        <path d="M 3280 622.39 L 2990 700" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3985.84 880 L 4541.88 1619.2" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4545.04 1623.4 L 4538.03 1619.91 L 4541.88 1619.2 L 4543.62 1615.7 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="3280" y="120" width="840" height="760" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 838px; height: 1px; padding-top: 127px; margin-left: 3282px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    try_commit_once
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <u>
                                            db
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <font color="#00994d">
                                            lsm_state
                                        </font>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <span>
                                                If
                                            </span>
                                            <u>
                                                snap_next_commit_ver
                                            </u>
                                            <span>
                                                !=
                                            </span>
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            <span>
                                                :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <u>
                                                    snap
                                                </u>
                                                .tail_excl.hold_count -= 1;    if
                                                <u>
                                                    snap
                                                </u>
                                                .tail_excl is Some
                                                <br/>
                                                <u>
                                                    snap
                                                </u>
                                                .tail_excl = Some(
                                                <u>
                                                    snap
                                                </u>
                                                .head_excl );
                                                <br/>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .head_excl :=
                                                </span>
                                                <font color="#990099">
                                                    update_or_push
                                                </font>
                                                <span>
                                                    () ...
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    If the existing head is a dummy : dummy.hold_count += 1;
                                                </li>
                                                <li>
                                                    Else : push new dummy w/
                                                    <br/>
                                                    { traversable_list_ver_lo_incl=
                                                    <font color="#00994d">
                                                        curr_list_ver
                                                    </font>
                                                    , hold_count=1,
                                                    <font color="#cccc00">
                                                        is_fence
                                                    </font>
                                                    =false }
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    If {prior
                                                </span>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .tail_excl became non-held} :
                                                </span>
                                                <u>
                                                    db
                                                </u>
                                                <span>
                                                    .
                                                </span>
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    replace_avail
                                                </span>
                                                <span>
                                                    .send( () );
                                                </span>
                                                <br/>
                                            </li>
                                            <li>
                                                <u>
                                                    snap_next_commit_ver
                                                </u>
                                                =
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                ;
                                            </li>
                                            <li>
                                                gc_able_itv :=
                                                <font color="#00994d">
                                                    unhold_list_ver
                                                </font>
                                                (
                                                <u>
                                                    snap_list_ver
                                                </u>
                                                );
                                                <br/>
                                                <u>
                                                    snap_list_ver
                                                </u>
                                                =
                                                <font color="#00994d">
                                                    hold_curr_list_ver
                                                </font>
                                                ();
                                            </li>
                                            <li>
                                                if gc_able_itv is Some :
                                                <u>
                                                    db
                                                </u>
                                                .
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    gc_avail
                                                </span>
                                                .send( gc_able_itv );
                                                <br/>
                                            </li>
                                            <li>
                                                return "need to check for conflict";
                                            </li>
                                        </ol>
                                        <li>
                                            <span>
                                                Else :
                                            </span>
                                            <br/>
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    committed_unit := CommittedUnit::from(
                                                </span>
                                                <u>
                                                    staging
                                                </u>
                                                <span>
                                                    .take(),
                                                </span>
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                <span>
                                                    );
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        // Serializing is expensive, and we're doing it under mutex guard!
                                                    </span>
                                                    <br/>
                                                    <span>
                                                        On disk, serialize CommitInfo with ...
                                                    </span>
                                                    <br/>
                                                </li>
                                                <ol>
                                                    <li>
                                                        <span>
                                                            commit_ver_lo_incl == commit_ver_hi_incl :=
                                                        </span>
                                                        <font color="#00994d">
                                                            next_commit_ver
                                                        </font>
                                                        <br/>
                                                    </li>
                                                    <li>
                                                        <span>
                                                            timestamp_num := 0
                                                        </span>
                                                        <br/>
                                                    </li>
                                                </ol>
                                                <li>
                                                    <span>
                                                        In memory, move each WritableMemLog into ReadonlyMemLog.
                                                    </span>
                                                    <br/>
                                                </li>
                                            </ol>
                                            <li>
                                                <span>
                                                    node := Box( ListNode( ... committed_unit ... ) ) with ...
                                                </span>
                                                <br/>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        traversable_list_ver_lo_incl =
                                                    </span>
                                                    <font color="#00994d">
                                                        curr_list_ver
                                                    </font>
                                                    <br/>
                                                </li>
                                            </ol>
                                            <li>
                                                <font>
                                                    list.
                                                </font>
                                                <font color="#990099">
                                                    push
                                                </font>
                                                <span>
                                                    ( node );
                                                </span>
                                            </li>
                                            <li>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .tail_excl
                                                </span>
                                                <span>
                                                    .hold_count -= 1;    if
                                                </span>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .tail_excl
                                                </span>
                                                <span>
                                                    is Some
                                                    <br/>
                                                </span>
                                                <u>
                                                    snap
                                                </u>
                                                <span>
                                                    .head_excl
                                                </span>
                                                <span>
                                                    .hold_count -= 1;
                                                </span>
                                            </li>
                                            <li>
                                                <u>
                                                    db
                                                </u>
                                                .
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    replace_avail
                                                </span>
                                                .send( () );
                                                <br/>
                                                // The list is definitely replaceable, due to the presence of a new MemLog.
                                            </li>
                                            <li>
                                                <font color="#00994d">
                                                    next_commit_ver
                                                </font>
                                                += 1;
                                            </li>
                                            <li>
                                                <span>
                                                    gc_able_itv :=
                                                    <font color="#00994d">
                                                        unhold_list_ver
                                                    </font>
                                                    (
                                                    <u>
                                                        snap_list_ver
                                                    </u>
                                                    );
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    if gc_able_itv is Some :
                                                </span>
                                                <u>
                                                    db
                                                </u>
                                                <span>
                                                    .
                                                </span>
                                                <span style="color: rgb(153 , 0 , 0)">
                                                    gc_avail
                                                </span>
                                                <span>
                                                    .send( gc_able_itv );
                                                </span>
                                            </li>
                                            <li>
                                                <span>
                                                    return "just committed";
                                                </span>
                                            </li>
                                        </ol>
                                    </ol>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3282" y="139" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::try_commit_once()...
                </text>
            </switch>
        </g>
        <path d="M 3360 929.68 L 3063.12 833.91" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="3360" y="920" width="560" height="200" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 927px; margin-left: 3362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    has_conflict()
                                </u>
                                <br/>
                                <ol>
                                    <li>
                                        committed_units :=
                                        <u>
                                            snap
                                        </u>
                                        .filter( keep CommittedUnit and ignore Dummy );
                                    </li>
                                    <li>
                                        <span>
                                            For each CommittedUnit :
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            For each of {PI and SIs} that was written-to in
                                            <u>
                                                staging
                                            </u>
                                            :
                                        </li>
                                        <ol>
                                            <li>
                                                <span>
                                                    If {
                                                </span>
                                                <u>
                                                    dependent_itvs_*
                                                </u>
                                                <span>
                                                    &lt;--&gt; CommittedEntrySet } overlap :
                                                </span>
                                            </li>
                                            <ol>
                                                <li>
                                                    <span>
                                                        Return "yes conflict".
                                                    </span>
                                                </li>
                                            </ol>
                                        </ol>
                                    </ol>
                                    <li>
                                        <span>
                                            Return "no conflict".
                                        </span>
                                        <br/>
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3362" y="939" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::has_conflict()...
                </text>
            </switch>
        </g>
        <path d="M 3000 710 L 3021.68 724.45 Q 3030 730 3022.47 736.59 L 2877.53 863.41 Q 2870 870 2861.06 865.53 L 2778.94 824.47 Q 2770 820 2777.68 813.6 L 2942.32 676.4 Q 2950 670 2957.81 676.25 L 3000 710" fill="none" stroke="rgb(0, 0, 0)" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/>
        <path d="M 2860 840 L 2860 873.63" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2860 878.88 L 2856.5 871.88 L 2860 873.63 L 2863.5 871.88 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <ellipse cx="2860" cy="890" rx="10" ry="10" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <path d="M 3360 1168 L 3209.14 1077.48" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4000 1459.31 L 4536.29 1625.74" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4541.3 1627.3 L 4533.58 1628.57 L 4536.29 1625.74 L 4535.65 1621.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="3360" y="1160" width="640" height="400" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 638px; height: 1px; padding-top: 1167px; margin-left: 3362px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    reset
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <u>
                                            db
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl.hold_count -= 1;    if
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl is Some
                                            <br/>
                                            <u>
                                                snap
                                            </u>
                                            .head_excl.hold_count -= 1;
                                            <br/>
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl = None;
                                            <br/>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .head_excl :=
                                            </span>
                                            <font color="#990099">
                                                update_or_push
                                            </font>
                                            <span>
                                                () ...
                                            </span>
                                        </li>
                                        <ol>
                                            <li>
                                                If the existing head is a dummy : dummy.hold_count += 1;
                                            </li>
                                            <li>
                                                Else : push new dummy w/
                                                <br/>
                                                { traversable_list_ver_lo_incl=
                                                <font color="#00994d">
                                                    curr_list_ver
                                                </font>
                                                <span>
                                                    , hold_count=1,
                                                </span>
                                                <font color="#cccc00">
                                                    is_fence
                                                </font>
                                                <span>
                                                    =false }
                                                </span>
                                            </li>
                                        </ol>
                                        <li>
                                            If {prior
                                            <u>
                                                snap
                                            </u>
                                            .tail_excl and/or
                                            <u>
                                                snap
                                            </u>
                                            .head_excl became non-held} :
                                            <u>
                                                db
                                            </u>
                                            .
                                            <span style="color: rgb(153 , 0 , 0)">
                                                replace_avail
                                            </span>
                                            .send( () );
                                        </li>
                                        <li>
                                            <u>
                                                snap_next_commit_ver
                                            </u>
                                            =
                                            <font color="#00994d">
                                                next_commit_ver
                                            </font>
                                            ;
                                        </li>
                                        <li>
                                            gc_able_itv :=
                                            <font color="#00994d">
                                                unhold_list_ver
                                            </font>
                                            (
                                            <u>
                                                snap_list_ver
                                            </u>
                                            );
                                            <br/>
                                            <u>
                                                snap_list_ver
                                            </u>
                                            =
                                            <font color="#00994d">
                                                hold_curr_list_ver
                                            </font>
                                            ();
                                            <br/>
                                        </li>
                                        <li>
                                            if gc_able_itv is Some :
                                            <u>
                                                db
                                            </u>
                                            .
                                            <span style="color: rgb(153 , 0 , 0)">
                                                gc_avail
                                            </span>
                                            .send( gc_able_itv );
                                        </li>
                                    </ol>
                                    <li>
                                        if
                                        <u>
                                            snap_vec
                                        </u>
                                        is Some :
                                        <u>
                                            snap_vec
                                        </u>
                                        .clear();
                                    </li>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        .clear();
                                        <br/>
                                        <u>
                                            dependent_itvs_scnds
                                        </u>
                                        .clear();
                                    </li>
                                    <li>
                                        if
                                        <u>
                                            staging
                                        </u>
                                        is Some :
                                        <u>
                                            staging
                                        </u>
                                        .clear();
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="3362" y="1179" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::reset()...
                </text>
            </switch>
        </g>
        <path d="M 2723.08 1200 L 2563.98 1078.33" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 3045 1440 L 3311.91 1634.12 Q 3320 1640 3330 1639.92 L 4533.71 1630.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 4538.96 1630.09 L 4531.99 1633.65 L 4533.71 1630.13 L 4531.93 1626.65 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <rect x="2560" y="1200" width="640" height="240" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 638px; height: 1px; padding-top: 1207px; margin-left: 2562px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                Txn::
                                <u>
                                    close
                                </u>
                                ()
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            With
                                        </span>
                                        <u>
                                            db
                                        </u>
                                        <span>
                                            .
                                        </span>
                                        <span style="color: rgb(0 , 153 , 77)">
                                            lsm_state
                                        </span>
                                        <span>
                                            .lock_exclusive() :
                                            <br/>
                                        </span>
                                        // Some lines here should be done outside the mutex guard. They're lumped in here for legibility.
                                    </li>
                                    <ol>
                                        <li>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .tail_excl.hold_count -= 1;    if
                                            </span>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .tail_excl is Some
                                                <br/>
                                            </span>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .head_excl.hold_count -= 1;
                                            </span>
                                        </li>
                                        <li>
                                            <span>
                                                If {prior
                                            </span>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .tail_excl and/or
                                            </span>
                                            <u>
                                                snap
                                            </u>
                                            <span>
                                                .head_excl became non-held} :
                                            </span>
                                            <u>
                                                db
                                            </u>
                                            <span>
                                                .
                                            </span>
                                            <span style="color: rgb(153 , 0 , 0)">
                                                replace_avail
                                            </span>
                                            <span>
                                                .send( () );
                                            </span>
                                            <br/>
                                        </li>
                                        <li>
                                            gc_able_itv :=
                                            <font color="#00994d">
                                                unhold_list_ver
                                            </font>
                                            (
                                            <u>
                                                snap_list_ver
                                            </u>
                                            );
                                            <br/>
                                        </li>
                                        <li>
                                            if gc_able_itv is Some :
                                            <u>
                                                db
                                            </u>
                                            .
                                            <span style="color: rgb(153 , 0 , 0)">
                                                gc_avail
                                            </span>
                                            .send( gc_able_itv );
                                        </li>
                                    </ol>
                                    <li>
                                        if
                                        <u>
                                            staging
                                        </u>
                                        is Some :
                                        <u>
                                            staging
                                        </u>
                                        .remove_dir();
                                    </li>
                                </ol>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2562" y="1219" fill="#000000" font-family="Helvetica" font-size="12px">
                    Txn::close()...
                </text>
            </switch>
        </g>
        <rect x="2040" y="560" width="360" height="400" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 362px; height: 400px; padding-top: 560px; margin-left: 2040px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 360px; height: 400px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        Txn&lt;'txn&gt;
                                    </b>
                                    <br/>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    - db: &amp;'txn Db
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    -
                                    <font color="#3399ff">
                                        db_state_guard
                                    </font>
                                    : RwLockReadGuard&lt; 'txn, DbState &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap: AtomicLinkedListSnapshot&lt; LsmElem &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_next_commit_ver: CommitVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_list_ver: ListVer
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - snap_vec: Opt&lt; Vec&lt; &amp;LsmElem &gt; &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    // A lazily-initialized Vec collection of
                                    <u>
                                        snap
                                    </u>
                                    .
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dependent_itvs_prim: IntervalSet&lt; &amp;'txn PK &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - dependent_itvs_scnds: HashMap of
                                </p>
                                <p style="margin: 0px 0px 0px 4px"></p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) IntervalSet&lt; &amp;'txn SV &gt;
                                    </li>
                                </ul>
                                <p></p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    - staging: Opt&lt; StagingUnit &gt;
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2040" y="572" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    Txn&lt;'txn&gt;...
                </text>
            </switch>
        </g>
        <path d="M 4550 1620 L 4560 1630 L 4550 1640 L 4540 1630 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 4240 128.89 L 4166.69 47.43 Q 4160 40 4150.01 40.36 L 3049.99 79.64 Q 3040 80 3033.93 87.94 L 2794.82 400.62" fill="none" stroke="#adadad" stroke-miterlimit="10" pointer-events="stroke"/>
        <rect x="4240" y="80" width="560" height="720" fill="rgb(255, 255, 255)" stroke="#000000" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 558px; height: 1px; padding-top: 87px; margin-left: 4242px;">
                        <div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                /* All these methdos are public to the client callback. */
                                <br/>
                                <br/>
                                Txn::
                                <u>
                                    get_pk_one
                                </u>
                                ( pk )
                                <br/>
                                <ol>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        <span>
                                            .add( (pk,pk) );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <u>
                                            snap_vec
                                        </u>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        Get one from [stg, snap]. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    get_pk_range
                                </u>
                                ( pk_lo, pk_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        <span>
                                            .add( (pk_lo,pk_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <u>
                                            snap_vec
                                        </u>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        K-merge {stg + snap}. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    get_sv_range
                                </u>
                                ( sv_spec, sv_lo, sv_hi )
                                <br/>
                                <ol>
                                    <li>
                                        <span>
                                            // This is a simplistic query engine, which depends on exactly one index.
                                            <br/>
                                        </span>
                                        If
                                        <font color="#3399ff">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec] doesn't exist or
                                        </span>
                                        <font color="#3399ff">
                                            is_readable
                                        </font>
                                        <span>
                                            ==false: return failure.
                                            <br/>
                                        </span>
                                        si_num :=
                                        <font color="#3399ff">
                                            scnd_idxs
                                        </font>
                                        <span>
                                            [sv_spec].si_num;
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <u>
                                            dependent_itvs_scnds
                                        </u>
                                        <span>
                                            [si_num] doesn't exist: create new empty.
                                            <br/>
                                        </span>
                                        <u>
                                            dependent_itvs_scnds
                                        </u>
                                        <span>
                                            [si_num].add( (sv_lo,sv_hi) );
                                        </span>
                                    </li>
                                    <li>
                                        stg :=
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .map( (stg) -&gt; stg.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        snap :=
                                        <u>
                                            snap_vec
                                        </u>
                                        <span>
                                            .map( (unit) -&gt; unit.scnds.get(si_num) );
                                            <br/>
                                        </span>
                                        K-merge {stg + snap}. Return result.
                                    </li>
                                </ol>
                                Txn::
                                <u>
                                    put
                                </u>
                                ( pk, new_pv )
                                <br/>
                                <ol>
                                    <li>
                                        <u>
                                            dependent_itvs_prim
                                        </u>
                                        .add( (pk,pk) );
                                        <br/>
                                        // We must treat concurrent writes on the same PK as a conflict, because they generally invalidate deltas on SIs in staging.
                                    </li>
                                    <li>
                                        <span>
                                            stg :=
                                        </span>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .map( (stg) -&gt; stg.prim );
                                            <br/>
                                        </span>
                                        snap :=
                                        <u>
                                            snap_vec
                                        </u>
                                        <span>
                                            .map( (unit) -&gt; unit.pi );
                                            <br/>
                                        </span>
                                        old_pv := Get one from [stg, snap];
                                    </li>
                                    <li>
                                        <span>
                                            If
                                        </span>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            is None: create new empty.
                                        </span>
                                    </li>
                                    <li>
                                        <span>
                                            For each si_num in
                                        </span>
                                        <u>
                                            db_state_guard
                                        </u>
                                        <span>
                                            .scnd_idxs :
                                            <br/>
                                        </span>
                                        // Assess all SIs, regardless of `
                                        <font color="#3399ff">
                                            is_readable
                                        </font>
                                        <span>
                                            `.
                                        </span>
                                    </li>
                                    <ol>
                                        <li>
                                            If there is a delta for this SI:
                                        </li>
                                        <ol>
                                            <li>
                                                If
                                                <u>
                                                    staging
                                                </u>
                                                .scnds[si_num] doesn't exist: create new empty.
                                                <br/>
                                                <u>
                                                    staging
                                                </u>
                                                .scnds[si_num].put( the_delta );
                                            </li>
                                        </ol>
                                    </ol>
                                    <li>
                                        <u>
                                            staging
                                        </u>
                                        <span>
                                            .prim
                                        </span>
                                        <span>
                                            .put( (PK,PV) );
                                        </span>
                                    </li>
                                </ol>
                                <u></u>
                                <u></u>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="4242" y="99" fill="#000000" font-family="Helvetica" font-size="12px">
                    /* All these methdos are public to the client callback. */...
                </text>
            </switch>
        </g>
        <path d="M 2140 2480 L 2140 2366.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2140 2361.12 L 2143.5 2368.12 L 2140 2366.37 L 2136.5 2368.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2420px; margin-left: 2140px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                into
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2140" y="2423" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    into
                </text>
            </switch>
        </g>
        <rect x="1920" y="2480" width="440" height="320" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 442px; height: 320px; padding-top: 2480px; margin-left: 1920px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 440px; height: 320px; overflow: hidden;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;">
                                <p style="margin: 0px ; margin-top: 4px ; text-align: center">
                                    <b>
                                        CompactedUnit
                                    </b>
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + prim: Opt&lt; CommittedEntrySet&lt;PK,PV&gt; &gt;
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + scnds: HashMap of
                                </p>
                                <ul>
                                    <li>
                                        (key) ScndIdxNum
                                    </li>
                                    <li>
                                        (value) CommittedEntrySet&lt;SVPK, PV&gt;
                                    </li>
                                </ul>
                                <p style="margin: 0px ; margin-left: 4px">
                                    + dir: UnitDir
                                </p>
                                <hr size="1"/>
                                <p style="margin: 0px 0px 0px 4px">
                                    + new_empty( StagingUnit, CommitVer ) -&gt; Res&lt; Self &gt;
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + is_empty() -&gt; bool
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    <br/>
                                </p>
                                <p style="margin: 0px 0px 0px 4px">
                                    + remove_dir() -&gt; Res&lt; () &gt;
                                </p>
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="1920" y="2492" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">
                    CompactedUnit...
                </text>
            </switch>
        </g>
        <path d="M 2360 2496.15 L 2507.06 2400" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2502.55 2407.73 L 2498.17 2401.03 M 2504.87 2396.65 L 2500.36 2404.38 L 2509.25 2403.35" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/>
        <path d="M 2729.53 430.82 L 2649.78 447.9 Q 2640 450 2638.38 459.87 L 2544.3 1033.75" fill="none" stroke="#0066cc" stroke-miterlimit="10" pointer-events="stroke"/>
        <path d="M 2543.45 1038.93 L 2541.13 1031.45 L 2544.3 1033.75 L 2548.04 1032.58 Z" fill="#0066cc" stroke="#0066cc" stroke-miterlimit="10" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 700px; margin-left: 2599px;">
                        <div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;">
                            <div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">
                                error
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2599" y="703" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">
                    error
                </text>
            </switch>
        </g>
        <rect x="0" y="0" width="10" height="10" fill="rgb(255, 255, 255)" stroke="#e6e6e6" pointer-events="all"/>
        <g transform="translate(-0.5 -0.5)">
            <switch>
                <foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 8px; height: 1px; padding-top: 7px; margin-left: 2px;">
                        <div data-drawio-colors="color: #E6E6E6; " style="box-sizing: border-box; font-size: 0px; text-align: left;">
                            <div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(230, 230, 230); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">
                                (An anchor at the origin. This might help reduce svn line changes.)
                            </div>
                        </div>
                    </div>
                </foreignObject>
                <text x="2" y="19" fill="#E6E6E6" font-family="Helvetica" font-size="12px">
                    (...
                </text>
            </switch>
        </g>
    </g>
    <switch>
        <g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/>
        <a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank">
            <text text-anchor="middle" font-size="10px" x="50%" y="100%">
                Viewer does not support full SVG 1.1
            </text>
        </a>
    </switch>
</svg>